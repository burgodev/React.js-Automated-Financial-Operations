(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["common"],{97475:function(){},6489:function(){},19456:function(e,t){"use strict";t.Z='<svg width="14" height="15" viewBox="0 0 14 15"><path d="M11.77.75c.31 0 .6.06.87.18A2.22 2.22 0 0 1 14 2.98a2.19 2.19 0 0 1-.66 1.57L4.2 13.7 0 14.75l1.05-4.21L10.2 1.4a2.19 2.19 0 0 1 1.57-.66Zm-9.75 9.88a2.79 2.79 0 0 1 1.32.77 2.79 2.79 0 0 1 .78 1.33l7.6-7.6-2.1-2.1-7.6 7.6Zm-.99 3.09 2.4-.6a2.09 2.09 0 0 0-.22-.64c-.1-.2-.24-.39-.4-.54-.15-.16-.33-.3-.54-.4-.2-.11-.4-.19-.64-.23l-.6 2.4Zm11.22-9.13.37-.35c.12-.11.22-.23.32-.36.1-.12.17-.25.22-.4.06-.14.09-.3.09-.5s-.04-.39-.12-.57a1.5 1.5 0 0 0-1.36-.91c-.18 0-.35.03-.5.09-.14.05-.28.13-.4.22-.13.1-.25.2-.36.32l-.35.37 2.09 2.1Z"/></svg>'},53813:function(e,t){"use strict";t.Z='<svg width="14" height="14" viewBox="0 0 14 14"><path d="M.4.15A.5.5 0 0 0 .37.8l.05.05 2.69 2.7A6.66 6.66 0 0 0 .46 7.36a.5.5 0 0 0 .97.25 5.66 5.66 0 0 1 2.39-3.36l1.2 1.2A2.66 2.66 0 0 0 6.92 10c.73 0 1.4-.29 1.87-.76l3.95 3.94a.5.5 0 0 0 .75-.65l-.04-.05L9.37 8.4l-.8-.8L6.66 5.7 4.74 3.77 4 3.02 1.12.15a.5.5 0 0 0-.71 0Zm5.33 6.03 2.36 2.35a1.66 1.66 0 0 1-2.83-1.2c0-.45.18-.85.47-1.15Zm1.2-3.85c-.67 0-1.32.1-1.93.29l.83.82a5.68 5.68 0 0 1 6.6 4.18.5.5 0 0 0 .96-.24 6.67 6.67 0 0 0-6.46-5.05Zm.13 2.34L9.59 7.2a2.67 2.67 0 0 0-2.53-2.53Z" fill-opacity=".83"/></svg>'},58361:function(e,t){"use strict";t.Z='<svg width="16" height="16" viewBox="0 0 16 16"><path d="m15.55 5.84-.51.48a3 3 0 0 1-1.08.6 2.8 2.8 0 0 1-1.2.03L9.8 9.9a3.47 3.47 0 0 1 .2 1.23 3.36 3.36 0 0 1-.4 1.7c-.13.25-.28.48-.47.7-.18.23-.39.45-.61.68L5.5 11.2l-4.44 4.45L0 16l.35-1.06L4.8 10.5 1.78 7.48l.35-.35a3.8 3.8 0 0 1 2.74-1.12c.42 0 .83.06 1.22.2l2.96-2.97a2.77 2.77 0 0 1 .03-1.2 2.58 2.58 0 0 1 .6-1.08c.15-.17.3-.33.48-.5l5.39 5.38ZM13.27 6c.28 0 .55-.07.8-.2l-3.86-3.87a1.7 1.7 0 0 0-.16 1.23l.12.39-3.84 3.83a50.54 50.54 0 0 1-.71-.26 2.58 2.58 0 0 0-.36-.07 2.87 2.87 0 0 0-2.03.48l5.25 5.25a2.9 2.9 0 0 0 .49-2.02 2.78 2.78 0 0 0-.2-.71l-.15-.37 3.84-3.84.4.12c.12.03.26.04.4.04Z"/></svg>'},94522:function(e,t){"use strict";t.Z='<svg width="12" height="12" viewBox="0 0 2048 2048"><path d="M2014 853q0 58-32 106t-86 70l-535 223q-13 5-23 15t-14 25l-175 582q-6 20-22 33t-39 13q-26 0-45-19l-403-403-550 550H0v-91l550-549-403-403q-19-19-19-46 0-19 11-35t29-23l593-237q23-9 34-33l222-489q23-52 71-82t105-31q38 0 73 15t62 41l630 631q27 27 41 63t15 74zm-821-696q-20 0-35 10t-24 28L912 684q-15 34-42 59t-62 40L306 983l751 752 144-479q12-41 41-73t69-49l536-224q18-8 28-23t11-36q0-27-18-45l-631-630q-19-19-44-19z"/></svg>'},72374:function(e,t){"use strict";t.Z='<svg width="16" height="16" viewBox="0 0 16 16"><path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM12 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/></svg>'},80675:function(e,t,i){"use strict";i.r(t),i.d(t,{BackgroundImageWC:function(){return te},BackgroundImageWCStyles:function(){return Fe},BackgroundImageWCTemplate:function(){return Ie},ToolingInfo:function(){return Re}});var n=i(64690),r=i(84289),o=i(84925),s=i(83227);const a=(0,n.e)(s.x.backgroundImageWC,"Web component background image for Anaheim NTP",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,r.ii)("freImages","FRE Images","First Run Experience Images",Object.assign(Object.assign({},(0,o.sz)("inspirational","Inspirational","Image url for inspirational mode")),(0,o.sz)("informational","Informational","Image url for informational mode")),["inspirational","informational"])),(0,o.sz)("fallbackImageURL","Fallback Image URL","Image Url for the default fallback image")),(0,r.ii)("event","Event","Properties to force event content",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,o.sz)("attribution","Attribution","Attribution for the image")),(0,r.JJ)("enableFeature","Enable Feature","Flag that defines if we should enable event content")),(0,o.sz)("id","Id","Id to be used for loc string and telemetry")),(0,o.sz)("imageSource","Image Source","Image source")),(0,o.sz)("imageHref","Image Href","Image url for museum card title")),(0,r.ii)("secondaryButton","Secondary Button","Properties for event button",Object.assign(Object.assign({},(0,o.sz)("id","Id","Id to be used for loc string and telemetry")),(0,o.sz)("href","Href","Url to hit when the button is clicked")),["id","href"])))),(0,r.ii)("iris","Iris","Image Url for the default fallback image",Object.assign(Object.assign({},(0,r.JJ)("disableHotSpots","Disable Hot Spots","Flag to disable the Image HotSpot feature")),(0,r.G)("irisImageExpirationTimeSeconds","Iris Image Expiration Time In Seconds","Number of seconds until Iris image expires")),["disableHotSpots","irisImageExpirationTimeSeconds"])),(0,r.JJ)("noFeedBackgroundEnabled","No Feed Background Enabled","Flag determines that if no feed background is enabled")),(0,r.JJ)("noFeedBackgroundDarkerGradientEnabled","No Feed Background Darker Gradient Enabled","Flag determines if a darker gradient needs to be applied with no feed background")),(0,r.JJ)("topSitesCloserToSearchBox","topSitesCloserToSearchBox","Flag that indicates if top sites is closer to search box")),(0,r.JJ)("throwLoadImageHotSpotsError","Flag to indicate if to throw load image hot spots error")),(0,r.ii)("video","Video","Data object for video background feature",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,r.iF)("data","Data","Data from CMS",(0,r.NU)("dataItem","Data Item",Object.assign(Object.assign(Object.assign({},(0,o.sz)("attribution","Attribution","Attribution for the background video")),(0,r.ii)("firstFrame","First Frame","URLs to different first frame resolutions",Object.assign(Object.assign(Object.assign({},(0,o.sz)("i1080","Image 1080p","HD")),(0,o.sz)("i1440","Image 1440p","1440p")),(0,o.sz)("i2160","Image 2160p","UHD")),["i1080","i1440","i2160"])),(0,r.ii)("video","Video","URLs to different video resolutions",Object.assign(Object.assign(Object.assign({},(0,o.sz)("v1080","Video 1080p","HD")),(0,o.sz)("v1440","Video 1440p","1440p")),(0,o.sz)("v2160","Video 2160p","UHD")),["v1080","v1440","v2160"]))))),(0,r.JJ)("enableFeature","Enable Feature","Flag to indicate if video background feature is enabled")),(0,r.JJ)("isTest","Is Test","Flag that defines if we are running tests for video")),(0,r.G)("pauseTime","Pause Time","Time to pause video after play in seconds")),(0,r.G)("videosPerWeek","Videos Per Week","Value that defines the number of videos the user will see per week")),["data","enableFeature","pauseTime","videosPerWeek"])),["freImages","fallbackImageURL","iris"]);var c=i(33940),d=i(26415),l=i(64434);const u=l.K.Dialog.toString();var g=i(53899),p=i(35385),h=i(53076),f=i(55027),m=i(66213),v=i(41115),b=i(1334),y=i(58155),C=i(65337),S=i(92031),w=i(82423),T=i(6660),k=i(83760),O=i(70260),E=i(6751),I=i(12574),A=i(65135),P=i(38156),x=i(10619),M=i(46380),L=i(85663),D=i(4734);var F;!function(e){e.alert="Alert",e.edit="Edit",e.globe="Globe",e.lightbulb="Lightbulb",e.meetNow="MeetNow",e.news="News",e.search="Search"}(F||(F={}));class R{constructor(e,t,i){this.fallbackImageURL="",this.museumBarText="",this.likeClickButtonHandler=()=>{const{actTelemetry:e}=this.irisStateInfo||{};this.sendIrisActionTelemetry(e,T.M.Like)},this.dislikeClickButtonHandler=()=>{const{actTelemetry:e}=this.irisStateInfo||{};if(this.dislikeCountWasIncremented=I.Vv.addImageCreativeToDislikeList(),this.dislikeCountWasIncremented)return this.sendIrisActionTelemetry(e,T.M.Dislike),this.getNewIrisContent()},this.hotSpotClickHandler=(e,t)=>{t&&t.preventDefault&&t.preventDefault();const{creativeId:i,placementId:n,actTelemetry:r,impTelemetry:o}=this.irisStateInfo||{},s={ctaType:e.cta_type,ctaMetaData:e.cta,delayInMs:void 0,irisTelemetryActionId:e.hs,irisTelemetryActionString:r},a=this.hotSpotCtaHandler(s,t);a&&a().then((e=>{if(e&&e.actionCompleted&&s.ctaType===k.W.executeAction&&s.ctaMetaData===S.uS.setDefaultBrowser){const e={actionUrl:r,impressionUrl:o};this.fireIrisBeacon(n,i,T.R.Action,e,T.M.Conversion),this.irisDataConnector.resetImageLastUpdateTime()}}))},this.hotSpotMouseEnterHandler=e=>{A.M.sendActionEvent(null==e?void 0:e.currentTarget,P.Aw.Hover,P.wu.View)},this.hotSpotCtaHandler=(e,t)=>{if(e)if(e.ctaType&&e.ctaMetaData){if(t)return()=>(0,c.mG)(this,void 0,void 0,(function*(){const i=O._.formatTelemetryActionUrl(e.irisTelemetryActionString,T.M.Click+e.irisTelemetryActionId);E.c.sendActionUpdate(i),A.M.sendActionEvent(t.currentTarget,P.Aw.Click,P.wu.Navigate);const n=this.getCtaCallback(e);return n?yield n():null}));M.B.trackAppErrorEvent(Object.assign(Object.assign({},d.OeS),{message:"Event is not defined"}))}else M.B.trackAppErrorEvent(Object.assign(Object.assign({},d.jSE),{message:"Either of call to action type or metadata is not defined",pb:Object.assign(Object.assign({},d.jSE.pb),{customMessage:`ctaType: ${e.ctaType||""} and ctaMetaData: ${e.ctaMetaData||""}`})}));else M.B.trackAppErrorEvent(Object.assign(Object.assign({},d.drd),{message:"HotSpot call to action state not defined"}))},this.getCtaCallback=e=>{switch(e.ctaType){case k.W.offPageNavigation:return B(e.ctaType,e.ctaMetaData)?(0,S.$y)(e.ctaMetaData):void M.B.trackAppErrorEvent(Object.assign(Object.assign({},d.MaG),{message:"Invalid CTA Offpage Nav Data",pb:Object.assign(Object.assign({},d.MaG.pb),{customMessage:`ctaType: ${e.ctaType||""} and ctaMetaData: ${e.ctaMetaData||""}`})}));case k.W.inPageNavigation:return(0,S.U$)(e.ctaMetaData,e.delayInMs);case k.W.executeAction:return(0,S.jo)(e.ctaMetaData)}},this.fireIrisBeacon=(e,t,i,n,r)=>{(0,w.oU)(h.z.IrisData).then((o=>{o&&o.sendActionUpdate(e,t,i,n,r)}))},this.sendIrisActionTelemetry=(e,t)=>{if(e){const i=O._.formatTelemetryActionUrl(e,t);E.c.sendActionUpdate(i)}},this.getNewIrisContent=()=>(0,c.mG)(this,void 0,void 0,(function*(){this.getImageHotSpotsData(!0)})),this.connector=e,this.fallbackImageURL=t,this.dislikeCountWasIncremented=!0,this.updatedImageCallback=i,this.getImageHotSpotsData()}loadImageHotSpots(){return this.irisFetchPromise}updateImageMetadata(e,t,i){e&&t&&i&&(this.irisImageURL=e,this.museumCard=t,this.irisStateInfo=i,this.updatedImageCallback())}getImageHotSpotsData(e){return(0,c.mG)(this,void 0,void 0,(function*(){this.irisFetchPromise=new Promise(((t,i)=>(0,c.mG)(this,void 0,void 0,(function*(){const n=!(0,L.isNullOrUndefined)(e)&&e,r={credits:null,irisButtons:{likeClicked:!1,dislikeClicked:!1},isDisplayed:!1,title:null,titleURL:null},o={};let s,a;if(this.irisDataConnector=yield(0,w.oU)(h.z.IrisData),!this.irisDataConnector)return x.i.trackAppErrorEvent(Object.assign(Object.assign({},d._c7),{message:"No Iris data connector for background image"})),void i();if(n){if(!I.Vv.addImageCreativeToDislikeList())return void t()}if(a=n?yield this.irisDataConnector.getImagePayload(!0):yield this.irisDataConnector.getImagePayload(),(0,L.isNullOrUndefined)(a)||(0,L.isNullOrUndefined)(a.creatives)||a.creatives.length<=0)return s=this.fallbackImageURL,r.title=this.museumBarText,o.disableMuseumCard=!0,x.i.trackAppErrorEvent(Object.assign(Object.assign({},d.sd_),{message:`No creative in surface info. Triggered by dislike: ${n}. Surface info: ${a}`})),this.updateImageMetadata(s,r,o),void i();const c=a.creatives[0],l={title:c.content.title,credits:c.content.copyright,titleURL:c.content.cta},u={titleLink:c.content.cta,ctaType:c.content.cta_type,creativeId:c.content.creativeId,placementId:a.placement,impTelemetry:c.telemetry?c.telemetry.impressionUrl:null,actTelemetry:c.telemetry?c.telemetry.actionUrl:null,hsList:N(c)};s=c.content.LANDSCAPE,Object.assign(r,l),Object.assign(o,u),(0,L.isNullOrUndefined)(o.impTelemetry)||(n?E.c.sendActionUpdate(o.impTelemetry):((0,D.F_)().then((()=>{this.irisDataConnector.fetchedNewImage()&&E.c.sendActionUpdate(o.impTelemetry)})),this.updateImageMetadata(s,r,o)),this.updateImageMetadata(s,r,o)),t()})))),this.irisFetchPromise}))}}const N=e=>{if((0,L.isNullOrUndefined)(e)||(0,L.isNullOrUndefined)(e.content)||(0,L.isNullOrUndefined)(e.content.hs)||0===e.content.hs.length)return null;const t=[];return e.content.hs.forEach((e=>{t.push(e)})),t},j=e=>{let t="",i="";switch(e){case F.alert:t="-8 -8 40 40",i="M12,1.99622391 C16.0499218,1.99622391 19.3566662,5.19096617 19.4958079,9.24527692 L19.5,9.49622391 L19.5,13.5931945 L20.8800025,16.7492056 C20.949058,16.9071328 20.9847056,17.0776351 20.9847056,17.25 C20.9847056,17.9403559 20.4250615,18.5 19.7347056,18.5 L15,18.5014962 C15,20.1583504 13.6568542,21.5014962 12,21.5014962 C10.4023191,21.5014962 9.09633912,20.2525762 9.00509269,18.6777689 L8.99954674,18.4992239 L4.27486429,18.5 C4.10352557,18.5 3.93401618,18.4647755 3.7768624,18.3965139 C3.14366026,18.121475 2.85331154,17.3852002 3.1283504,16.7519981 L4.5,13.594148 L4.50000001,9.4961162 C4.50059668,5.34132493 7.85208744,1.99622391 12,1.99622391 Z M13.4995467,18.4992239 L10.5,18.5014962 C10.5,19.3299233 11.1715729,20.0014962 12,20.0014962 C12.7796961,20.0014962 13.4204487,19.4066081 13.4931334,18.6459562 L13.4995467,18.4992239 Z M12,3.49622391 C8.67983848,3.49622391 6.00047762,6.17047646 6,9.49622391 L6,13.905852 L4.65602014,17 L19.3525351,17 L18,13.9068055 L18.0001102,9.5090803 L17.9963601,9.28387824 C17.8853006,6.05040449 15.2415749,3.49622391 12,3.49622391 Z";break;case F.edit:t="-8 -8 40 40",i="M21.0303301,2.96966991 C22.4277928,4.36713263 22.4277928,6.63286737 21.0303301,8.03033009 L9.06200371,19.9986565 C8.78512854,20.2755316 8.44079112,20.4753584 8.06302761,20.5783848 L2.94733805,21.9735729 C2.38746387,22.1262658 1.87373417,21.6125361 2.02642713,21.0526619 L3.4216152,15.9369724 C3.52464161,15.5592089 3.72446837,15.2148715 4.00134354,14.9379963 L15.9696699,2.96966991 C17.3671326,1.5722072 19.6328674,1.5722072 21.0303301,2.96966991 Z M15.0001717,6.06057288 L5.06200371,15.9986565 C4.96971199,16.0909482 4.90310306,16.2057273 4.86876093,16.3316485 L3.81891446,20.1810855 L7.6683515,19.1312391 C7.79427267,19.0968969 7.90905181,19.030288 8.00134354,18.9379963 L17.9391717,8.99957288 L15.0001717,6.06057288 Z M17.0303301,4.03033009 L16.0601717,4.99957288 L18.9991717,7.93957288 L19.9696699,6.96966991 C20.7813462,6.15799363 20.7813462,4.84200637 19.9696699,4.03033009 C19.1579936,3.21865381 17.8420064,3.21865381 17.0303301,4.03033009 Z";break;case F.globe:t="-5 -5 26 26",i="M7.93868 0H8.06132C10.6629 0 12.8409 1.14472 14.5951 3.43415C15.5317 4.87619 16 6.3777 16 7.93868V8.06132C16 10.6629 14.8553 12.8409 12.5659 14.5951C11.1238 15.5317 9.6223 16 8.06132 16H7.93868C5.33705 16 3.15912 14.8553 1.40488 12.5659C0.468293 11.1312 0 9.62973 0 8.06132V7.93868C0 5.33705 1.14472 3.15912 3.43415 1.40488C4.86876 0.468293 6.37027 0 7.93868 0ZM4.89477 5.32962H11.1052C10.9268 4.46736 10.715 3.72404 10.4697 3.09965C9.74123 1.47921 8.90871 0.66899 7.97213 0.66899C7.08757 0.66899 6.28478 1.46806 5.56376 3.0662C5.29617 3.66829 5.07317 4.42276 4.89477 5.32962ZM1.20418 5.32962H4.17003C4.21463 5.32962 4.31498 4.93194 4.47108 4.13659C4.90221 2.72427 5.43368 1.65761 6.06551 0.936585H6.03206C4.11429 1.56098 2.69082 2.62764 1.76167 4.13659C1.39001 4.82044 1.20418 5.21812 1.20418 5.32962ZM9.93449 0.936585C10.7001 1.79884 11.2985 3.14053 11.7296 4.96167C11.7296 5.20697 11.7631 5.32962 11.83 5.32962H14.7958C14.164 3.64971 12.997 2.36376 11.2948 1.47178C10.8636 1.24878 10.4102 1.07038 9.93449 0.936585ZM0.936585 5.99861C0.758188 6.79396 0.66899 7.47038 0.66899 8.02787C0.66899 8.5259 0.758188 9.18374 0.936585 10.0014H4.10314C4.03624 9.22091 4.00279 8.60767 4.00279 8.16167V7.83833C4.00279 7.39233 4.03624 6.77909 4.10314 5.99861H0.936585ZM4.80557 5.99861C4.71638 6.77909 4.67178 7.45552 4.67178 8.02787C4.67178 8.54077 4.71638 9.19861 4.80557 10.0014H11.2056C11.2873 9.22091 11.3282 8.54448 11.3282 7.97213C11.3282 7.45923 11.2873 6.80139 11.2056 5.99861H4.80557ZM11.8969 5.99861C11.9638 6.77909 11.9972 7.39233 11.9972 7.83833V8.16167C11.9972 8.60767 11.9638 9.22091 11.8969 10.0014H15.0634C15.2418 9.20604 15.331 8.52962 15.331 7.97213C15.331 7.4741 15.2418 6.81626 15.0634 5.99861H11.8969ZM1.20418 10.6704C1.82857 12.3503 2.99559 13.6362 4.70523 14.5282C5.06945 14.7364 5.52288 14.9148 6.06551 15.0634C5.23299 14.1343 4.61231 12.6699 4.20348 10.6704H1.20418ZM4.89477 10.6704C5.07317 11.5326 5.28502 12.276 5.53031 12.9003C6.25877 14.5208 7.09129 15.331 8.02787 15.331C9.03879 15.331 9.93078 14.3089 10.7038 12.2648C10.793 11.9972 10.9268 11.4657 11.1052 10.6704H4.89477ZM9.93449 15.0634H9.96794C11.7816 14.4911 13.1494 13.5024 14.0711 12.0976C14.4056 11.5995 14.6472 11.1238 14.7958 10.6704H11.83C11.7854 10.6704 11.6962 11.0235 11.5624 11.7296C11.1461 13.1791 10.6035 14.2904 9.93449 15.0634Z";break;case F.lightbulb:t="-8 -8 40 40",i="M12.000008,2.00139734 C16.0040628,2.00139734 19.249992,5.24733208 19.249992,9.25139734 C19.249992,11.3474567 18.3493333,13.2711054 16.5869535,14.9933011 C16.5100054,15.0685004 16.450441,15.1590617 16.4118457,15.2586031 L16.380373,15.3609016 L15.2492957,20.256497 C15.0265913,21.2204195 14.2034707,21.9187611 13.2302558,21.9933796 L13.0570456,22 L10.9432689,22 C9.95374997,22 9.08791486,21.3549492 8.79629808,20.4232534 L8.75088874,20.2559339 L7.62132399,15.3611533 C7.58904306,15.2212595 7.51728321,15.0935695 7.41456824,14.9932517 C5.73516207,13.3530399 4.83779011,11.5301519 4.75613429,9.54965138 L4.750008,9.25139734 L4.75388322,9.01208292 C4.88014853,5.11879041 8.07602134,2.00139734 12.000008,2.00139734 Z M14.115008,18.4993973 L9.884008,18.4993973 L10.2124755,19.9186446 C10.2831529,20.2249131 10.5356676,20.4507962 10.8400612,20.4929101 L10.9432689,20.5 L13.0570456,20.5 C13.3712985,20.5 13.6481364,20.3048226 13.757662,20.0177756 L13.7877956,19.9188323 L14.115008,18.4993973 Z M12.000008,3.50139734 C8.89821922,3.50139734 6.37007083,5.95741111 6.25416008,9.03084139 L6.250008,9.25139734 L6.25672343,9.52840679 C6.33286953,11.0917695 7.05722352,12.5475342 8.46263227,13.9201432 C8.72676013,14.1781068 8.92266257,14.4964075 9.03423135,14.8463815 L9.08291336,15.0238752 L9.538008,16.9993973 L14.461008,16.9993973 L14.9188729,15.023237 C15.0019011,14.6638694 15.1717664,14.3313677 15.4124215,14.0542893 L15.5385739,13.9205009 C16.9431998,12.547902 17.6671738,11.0920338 17.7432801,9.5284475 L17.749992,9.25139734 L17.7458399,9.03084154 C17.6299293,5.9574132 15.1017833,3.50139734 12.000008,3.50139734 Z";break;case F.meetNow:break;case F.news:t="-5 -5 25 25",i="M16 4V11C16 11.276 15.9453 11.5365 15.8359 11.7812C15.7318 12.0208 15.5885 12.2318 15.4062 12.4141C15.2292 12.5911 15.0182 12.7344 14.7734 12.8438C14.5286 12.9479 14.2708 13 14 13H1.94531C1.67969 13 1.42708 12.9479 1.1875 12.8438C0.953125 12.7396 0.747396 12.6016 0.570312 12.4297C0.398438 12.2526 0.260417 12.0469 0.15625 11.8125C0.0520833 11.5729 0 11.3203 0 11.0547V2H14V4H16ZM15 5H14V10.5C14 10.6354 13.9505 10.7526 13.8516 10.8516C13.7526 10.9505 13.6354 11 13.5 11C13.3646 11 13.2474 10.9505 13.1484 10.8516C13.0495 10.7526 13 10.6354 13 10.5V3H1V11.0547C1 11.1849 1.02344 11.3073 1.07031 11.4219C1.1224 11.5365 1.1901 11.638 1.27344 11.7266C1.36198 11.8099 1.46354 11.8776 1.57812 11.9297C1.69271 11.9766 1.8151 12 1.94531 12H14C14.1406 12 14.2708 11.974 14.3906 11.9219C14.5104 11.8698 14.6146 11.7995 14.7031 11.7109C14.7969 11.6172 14.8698 11.5104 14.9219 11.3906C14.974 11.2708 15 11.1406 15 11V5ZM12 5H2V4H12V5ZM12 11H8V10H12V11ZM12 9H8V8H12V9ZM12 7H8V6H12V7ZM7 11H2V5.97656H7V11ZM3 10H6V6.97656H3V10Z";break;default:t="-12 -12 40 40",i="M10.5 0C11.0052 0 11.4922 0.0651042 11.9609 0.195312C12.4297 0.325521 12.8672 0.510417 13.2734 0.75C13.6797 0.989583 14.0495 1.27865 14.3828 1.61719C14.7214 1.95052 15.0104 2.32031 15.25 2.72656C15.4896 3.13281 15.6745 3.57031 15.8047 4.03906C15.9349 4.50781 16 4.99479 16 5.5C16 6.00521 15.9349 6.49219 15.8047 6.96094C15.6745 7.42969 15.4896 7.86719 15.25 8.27344C15.0104 8.67969 14.7214 9.05208 14.3828 9.39062C14.0495 9.72396 13.6797 10.0104 13.2734 10.25C12.8672 10.4896 12.4297 10.6745 11.9609 10.8047C11.4922 10.9349 11.0052 11 10.5 11C9.84896 11 9.22396 10.8906 8.625 10.6719C8.03125 10.4531 7.48438 10.138 6.98438 9.72656L0.851562 15.8516C0.752604 15.9505 0.635417 16 0.5 16C0.364583 16 0.247396 15.9505 0.148438 15.8516C0.0494792 15.7526 0 15.6354 0 15.5C0 15.3646 0.0494792 15.2474 0.148438 15.1484L6.27344 9.01562C5.86198 8.51562 5.54688 7.96875 5.32812 7.375C5.10938 6.77604 5 6.15104 5 5.5C5 4.99479 5.0651 4.50781 5.19531 4.03906C5.32552 3.57031 5.51042 3.13281 5.75 2.72656C5.98958 2.32031 6.27604 1.95052 6.60938 1.61719C6.94792 1.27865 7.32031 0.989583 7.72656 0.75C8.13281 0.510417 8.57031 0.325521 9.03906 0.195312C9.50781 0.0651042 9.99479 0 10.5 0ZM10.5 10C11.1198 10 11.7031 9.88281 12.25 9.64844C12.7969 9.40885 13.2734 9.08594 13.6797 8.67969C14.0859 8.27344 14.4062 7.79688 14.6406 7.25C14.8802 6.70312 15 6.11979 15 5.5C15 4.88021 14.8802 4.29688 14.6406 3.75C14.4062 3.20312 14.0859 2.72656 13.6797 2.32031C13.2734 1.91406 12.7969 1.59375 12.25 1.35938C11.7031 1.11979 11.1198 1 10.5 1C9.88021 1 9.29688 1.11979 8.75 1.35938C8.20312 1.59375 7.72656 1.91406 7.32031 2.32031C6.91406 2.72656 6.59115 3.20312 6.35156 3.75C6.11719 4.29688 6 4.88021 6 5.5C6 6.11979 6.11719 6.70312 6.35156 7.25C6.59115 7.79688 6.91406 8.27344 7.32031 8.67969C7.72656 9.08594 8.20312 9.40885 8.75 9.64844C9.29688 9.88281 9.88021 10 10.5 10Z"}return{viewBoxString:t,svgString:i}},B=(e,t)=>!(!e||!t)&&(e===k.W.offPageNavigation&&$(t)),$=e=>/^((microsoft-edge:)?https:\/\/((www)|(cn)|(go))\.((msn)|(bing)|(skype)|(microsoft))\.com)|(edge:\/\/)/.test(e);var H,U=i(45930),W=i(58520),_=i(29163),z=i(9533),V=i(81555),G=i(41691);!function(e){e.offPageNavigation="nav-newtab",e.inPageNavigation="nav-inpage",e.executeAction="execute-action"}(H||(H={}));var q=i(68364),Z=i(19388),Q=i(32717),K=i(40860);class J{constructor(e,t){this.dayNow=(new Date).getDay(),this.firstFrameHidden=!1,this.isPlaying=!1,this.isReducedMotionActive=!1,this.isTomorrowsVideoCached=!1,this.showVideo=!1,this.showToast=!1,this.storageKey="bkgdV",this.timeNow=(new Date).getTime(),this.batteryChargingChange=()=>{this.battery.charging?this.currentTrigger?this.playVideo("Battery"):this.playVideo("Timer"):this.showToastMessage(this.backgroundImageWC.config.localizedStrings.video_pauseToast,!0)},this.playVideo=e=>(0,c.mG)(this,void 0,void 0,(function*(){!this.config.isTest&&this.showVideo&&e&&(yield this.batteryPromise,e!==this.currentTrigger&&"Timer"!==e&&"Button"!==e||this.battery&&!this.battery.charging&&"Button"!==e||this.isPlaying||this.isReducedMotionActive&&"Button"!==e?this.battery.charging||(this.currentTrigger="Battery"):(0,Q.eC)().then((()=>{const t=1e3*this.config.pauseTime;if(this.videoTimer&&this.videoTimer.timer&&clearTimeout(this.videoTimer.timer),"Button"!==e||this.battery.charging||this.showToastMessage(this.backgroundImageWC.config.localizedStrings.video_powerDrainToast,!1),this.videoTimer.remainingTime>0){this.videoTimer.startTime=Date.now(),this.videoTimer.timer=setTimeout((()=>{this.pauseVideo("Timer")}),this.videoTimer.remainingTime),this.isPlaying=!0,this.isReducedMotionActive=!1,this.backgroundImageWC.updateProperties();try{this.backgroundImageWC.ref_video.play()}catch(e){(0,q.OO)(e,d.N1Y,"Failed to trigger play.","Timer: "+JSON.stringify(this.videoTimer)+". Current trigger: "+this.currentTrigger+". Show video: "+this.showVideo)}}else{this.videoTimer.startTime=Date.now(),this.videoTimer.remainingTime=t,this.videoTimer.timer=setTimeout((()=>{this.pauseVideo("Timer")}),t),this.isPlaying=!0,this.isReducedMotionActive=!1,this.backgroundImageWC.updateProperties();try{this.backgroundImageWC.ref_video.play()}catch(e){(0,q.OO)(e,d.N1Y,"Failed to trigger play.","Timer: "+JSON.stringify(this.videoTimer)+". Current trigger: "+this.currentTrigger+". Show video: "+this.showVideo)}}})))})),this.pauseVideo=e=>{if(this.isPlaying&&this.showVideo){this.currentTrigger=e,this.videoTimer&&this.videoTimer.timer&&(clearTimeout(this.videoTimer.timer),this.videoTimer.remainingTime-=Date.now()-this.videoTimer.startTime),this.isPlaying=!1,this.backgroundImageWC.updateProperties();try{this.backgroundImageWC.ref_video.pause()}catch(e){(0,q.OO)(e,d.FtH,"Failed to trigger pause.","Timer: "+JSON.stringify(this.videoTimer)+". Current trigger: "+this.currentTrigger+". Show video: "+this.showVideo)}}},this.reducedMotionChange=()=>{this.isReducedMotionActive=window.matchMedia("(prefers-reduced-motion)").matches},this.showToastMessage=(e,t)=>{var i;if(this.showToast=!0,this.toastMessage=e,t&&this.pauseVideo("Battery"),"always"===this.backgroundImageWC.chromiumPageSettingsState.selectedFeedDisplaySetting&&"off"===(null===(i=this.backgroundImageWC.chromiumPageSettingsState)||void 0===i?void 0:i.selectedQuickLinksDisplaySetting))return this.showToast=!1,this.toastMessage=null,void this.backgroundImageWC.updateProperties();this.backgroundImageWC.updateProperties(),setTimeout((()=>{this.showToast=!1,this.toastMessage=null,this.backgroundImageWC.updateProperties()}),5e3)},this.config=e,this.backgroundImageWC=t,this.videoTimer={remainingTime:-1,startTime:-1,timer:null},this.assignVideoSchedule();const i=window&&window.navigator;if(this.deviceLogicalProcessors=i?i.hardwareConcurrency:-1,this.deviceMemoryGB=i?i.deviceMemory:-1,this.batteryPromise=i.getBattery().then((e=>{this.battery=e})),this.deviceLogicalProcessors<=2||this.deviceMemoryGB<4)this.showVideo=!1;else{if(this.showVideo=this.shouldShowVideo(),this.showVideo){this.defineResolution(),this.videoSource=this.getVideoURL(this.videoId),this.firstFrameSource=this.getFirstFrameURL(this.videoId);const e="video"+this.videoId;this.museumCard={credits:this.config.data[this.videoId].attribution,isDisplayed:!0,irisButtons:{likeClicked:!1,dislikeClicked:!1},title:this.backgroundImageWC.config.localizedStrings.video_titles[e],titleURL:null}}this.config.isTest||Promise.all([(0,Z.e3)(),(0,D.F_)()]).then((()=>{this.cacheNextVideo()}))}}assignVideoSchedule(){const e=this.getVideoData();e&&e.schedule?(this.schedule=e.schedule,this.scheduleFixed=e.scheduleFixed,this.reRandomizeSchedule(e)):this.generateVideoSchedule()}cacheNextVideo(){const e=new Date;e.setDate(e.getDate()+1);const t=e.getDay(),i=this.getVideoData();if((!i||i.cachedVideoId!==this.schedule[t])&&this.schedule[t]>=0&&this.config.enableFeature){let e=this.schedule[t];16===e&&e++;try{fetch(this.getVideoURL(e)),fetch(this.getFirstFrameURL(e)),this.isTomorrowsVideoCached=!0,this.storeVideoData({cachedVideoId:e,lastUpdatedTime:null==i?void 0:i.lastUpdatedTime,schedule:null==i?void 0:i.schedule,scheduleFixed:null==i?void 0:i.scheduleFixed})}catch(t){(0,q.H)(d.LWq,"Video caching failed. Video url: "+this.getVideoURL(e)+" First frame url: "+this.getFirstFrameURL(e),"Error: "+t)}}}defineResolution(){window.screen.height<=1080&&window.screen.width<=1920?this.currentResolution="1080":1080<window.screen.height&&window.screen.height<2160&&1920<window.screen.width&&window.screen.width<3840?this.currentResolution="1440":window.screen.height>=2160&&window.screen.width>=3840?this.currentResolution="2160":this.currentResolution="1440"}error(){this.showVideo=!1}generateVideoSchedule(){const e=[];for(let t=0;t<this.config.data.length;t++)e[t]=!1;this.schedule=[-1,-1,-1,-1,-1,-1,-1],this.scheduleFixed=[-1,-1,-1,-1,-1,-1,-1];for(let t=0;t<this.config.videosPerWeek;t++){let i=Math.floor(Math.random()*this.config.data.length);if(e[i])do{i===this.config.data.length-1?i=0:i++}while(e[i]);this.schedule[t]=i,e[i]=!0}(0,K.Z)(this.schedule),this.scheduleFixed=this.schedule;const t=this.getVideoData();this.storeVideoData({cachedVideoId:(null==t?void 0:t.cachedVideoId)?t.cachedVideoId:-1,lastUpdatedTime:this.timeNow,schedule:this.schedule,scheduleFixed:this.scheduleFixed})}getFirstFrameURL(e){let t;switch(this.currentResolution){case"1080":t=this.config.data[e].firstFrame.i1080;break;case"1440":t=this.config.data[e].firstFrame.i1440;break;case"2160":t=this.config.data[e].firstFrame.i2160}return t=this.shouldReduceTo1080()?this.config.data[e].firstFrame.i1080:t,t}getVideoData(){try{return(0,C.$o)().getObject(this.storageKey)}catch(e){return(0,q.H)(d.eEQ,"Local storage for video data failed."),null}}getVideoURL(e){let t;switch(this.currentResolution){case"1080":t=this.config.data[e].video.v1080;break;case"1440":t=this.config.data[e].video.v1440;break;case"2160":t=this.config.data[e].video.v2160}return t=this.shouldReduceTo1080()?this.config.data[e].video.v1080:t,t}removeVideoForToday(){const e=this.getVideoData();e&&e.schedule&&(e.schedule[this.dayNow]=-1,this.showVideo=!1,this.storeVideoData(e))}reRandomizeSchedule(e){e.lastUpdatedTime<this.timeNow-6048e5&&this.generateVideoSchedule()}shouldShowVideo(){if(this.schedule[this.dayNow]>=0&&this.config.enableFeature&&this.config.data){let e=this.schedule[this.dayNow];return 16===e&&e++,this.videoId=e,!0}return!1}shouldReduceTo1080(){const e="4g"===window.navigator.connection.effectiveType,t=this.deviceMemoryGB>=4;return(!e||!t)&&(this.currentResolution="1080",!0)}storeVideoData(e){try{(0,C.$o)().setObject(this.storageKey,e)}catch(e){return void(0,q.H)(d.ybt,"Local storage for video data failed.")}}unloadVideo(){this.batteryPromise.then((()=>{this.battery.removeEventListener("chargingchange",this.batteryChargingChange)})),window.matchMedia("(prefers-reduced-motion)").removeEventListener("change",this.reducedMotionChange)}videoLoaded(){this.firstFrameHidden=!0,this.backgroundImageWC.updateProperties();const e=this.getVideoData();e&&e.cachedVideoId<0&&A.M.addOrUpdateTmplString("videoFirstLoad"),this.isReducedMotionActive=window.matchMedia("(prefers-reduced-motion)").matches,!this.isReducedMotionActive&&this.deviceMemoryGB>=4&&(this.isPlaying=!1,this.playVideo("Timer")),this.isReducedMotionActive&&this.showToastMessage(this.backgroundImageWC.config.localizedStrings.video_reducedMotionToast,!1),this.batteryPromise.then((()=>{this.battery.addEventListener("chargingchange",this.batteryChargingChange)})),window.matchMedia("(prefers-reduced-motion)").addEventListener("change",this.reducedMotionChange)}}var X=i(33090),Y=i(51953),ee=i(12884);class te extends X.l{constructor(){super(...arguments),this.eventStorageId="bkgrdEvt",this.hotSpots=[],this.imageInformationalStyles="",this.imageOverrideStyles="",this.isFeedDisplayAlwaysOn=!1,this.isFRE=m.jG.IsFrePage,this.isTestRunning=!1,this.isReducedMotionActive=!1,this.isTTVRFired=!1,this.isLoadComplete=!1,this.hasFeedDisplayChanged=!1,this.museumCreditsCardIsShown=!1,this.recommendedSitesHeight=0,this.storeOverrideStyles="",this.telemetryTags={},this.translucentFeedEnabled=!1,this.triggerHover=!1,this.videoPlaying=!1,this.windowsBlurOpacity=!1,this.wholePageTranslucentFeed=!1,this.loadImageHotSpotsErrorFired=!1,this.imageSourceErrorFired=!1,this.currentProviderChanged=(e,t)=>{var i;switch(this.imageOverrideStyles="",this.imageInformationalStyles="",this.isLoadComplete=!1,"NoBackground"===t?(0,v.j3)("backgroundImage","hidden"):(0,v.j3)("backgroundImage","displayed"),t){case"Iris":this.irisProvider||(this.irisProvider=new R(this.chromiumPageSettingsConnector,this.config.fallbackImageURL,this.updateProperties));break;case"Video":this.videoProvider||(this.videoProvider=new J(this.config.video,this)),this.videoProvider&&this.videoProvider.showVideo?(window.addEventListener("blur",this.onWindowBlur,!1),window.addEventListener("focus",this.onWindowFocus,!1)):this.currentProvider="Iris"}if("Video"===e)null===(i=this.videoProvider)||void 0===i||i.unloadVideo(),window.removeEventListener("blur",this.onWindowBlur,!1),window.removeEventListener("focus",this.onWindowFocus,!1);this.updateProperties()},this.animationComplete=()=>{this.calcMuseumBottom()},this.calcMuseumBottom=()=>{if(scrollY>0)return;if(this.ref_museumCardContainer&&this.ref_museumCardContainer.classList.remove("museumCard_hide"),this.museumCreditsCardIsShown)return void(this.museumBottom=7);const e=(0,z.b_)(V._.headerSpaceHolder).offsetHeight;switch(this.chromiumPageSettingsState.selectedFeedDisplaySetting){case"always":case"peek":case"headingsonly":this.museumBottom=innerHeight-e+7;break;default:this.museumBottom=7}},this.createTelemetryTags=()=>{(0,L.isNullOrUndefined)(this.telemetryObject)?(0,q.H)(d.CgS,"Telemetry object is undefined"):(this.telemetryTags.hotSpots={},this.telemetryTags.video=this.telemetryObject.addOrUpdateChild({name:"BackgroundVideo"}).getMetadataTag())},this.defineCurrentProvider=()=>{var e,t,i,n;if(null===(e=this.config.video)||void 0===e?void 0:e.isTest)this.currentProvider="Video";else if("bing"!==this.chromiumPageSettingsState.currentBackgroundImageType&&"imageAndVideo"!==this.chromiumPageSettingsState.currentBackgroundImageType||!this.isTestRunning)switch(this.chromiumPageSettingsState.currentBackgroundImageType){case g.HX.bing:case g.HX.enterprise:case g.HX.imageAndVideo:case g.HX.iris:if(this.isFRE){this.currentProvider="FREBackground";break}if((null===(t=this.config.event)||void 0===t?void 0:t.enableFeature)&&(this.showEvent=this.shouldShowEvent(),this.showEvent&&this.chromiumPageSettingsState.backgroundImageTypePolicy===g.gZ.allowAll)){this.currentProvider="Event";break}if((null===(i=this.config.video)||void 0===i?void 0:i.enableFeature)&&this.chromiumPageSettingsState.backgroundImageTypePolicy===g.gZ.allowAll&&this.chromiumPageSettingsState.currentBackgroundImageType!==g.HX.bing){if(this.videoProvider&&!this.videoProvider.showVideo){this.currentProvider="Iris";break}this.currentProvider="Video";break}this.currentProvider="Iris";break;case g.HX.custom:this.chromiumPageSettingsState.customBackgroundImageInfo&&this.chromiumPageSettingsState.customBackgroundImageInfo.hasImage?this.currentProvider="BrowserLocal":this.currentProvider="Iris";break;case g.HX.off:this.currentProvider="NoBackground";break;case g.HX.theme:{const e=this.chromiumPageSettingsState.configData,t=e&&e.enabledFeatures&&e.enabledFeatures.includes("msAllowThemeInstallationFromChromeStore"),i=this.chromiumPageSettingsState.ntpTheme&&this.chromiumPageSettingsState.ntpTheme.usingDefaultTheme,r=this.chromiumPageSettingsState.ntpTheme&&this.chromiumPageSettingsState.ntpTheme.imageUrl,o=this.chromiumPageSettingsState.ntpTheme&&(null===(n=this.chromiumPageSettingsState.ntpTheme.backgroundColorRgba)||void 0===n?void 0:n.length)>3;this.currentProvider=t&&!i&&(r||o)?"Theme":"NoBackground";break}default:this.currentProvider="Iris"}else this.isFRE?this.currentProvider="FREBackground":this.currentProvider="Iris"},this.error=e=>{if(this.isTTVRFired||(this.isTTVRFired=!0,this.markVisuallyReady()),(0,q.H)(d.yb9,"Error fetching source","Source: "+e),"Video"===this.currentProvider)this.videoProvider.error(),this.defineCurrentProvider();else this.currentProvider="Error",this.updateProperties()},this.loadComplete=e=>{!this.isTTVRFired&&e&&(this.isTTVRFired=!0,this.markVisuallyReady()),this.isLoadComplete=!0,U.SO.queueUpdate((()=>{if("Video"===this.currentProvider)this.videoProvider.videoLoaded()}))},this.toggleMuseumCardOpen=()=>{this.museumCreditsCardIsShown?(window.removeEventListener("click",this.onClick_outsideMuseumCard),window.removeEventListener("keydown",this.onKeyDown_closeMuseumCard)):setTimeout((()=>{window.addEventListener("click",this.onClick_outsideMuseumCard),window.addEventListener("keydown",this.onKeyDown_closeMuseumCard)}),100),this.isFeedDisplayAlwaysOn&&(this.museumCreditsCardIsShown?(this.imageInformationalStyles=this.storeOverrideStyles,this.storeOverrideStyles=""):(this.storeOverrideStyles=this.imageInformationalStyles,this.imageInformationalStyles=""));const e=(0,z.b_)(V._.recommendedSites),t=this.getStyleForElementKey(V._.backgroundOuterHolder);this.museumCreditsCardIsShown?(t.zIndex="",this.isFeedDisplayAlwaysOn&&this.config&&this.config.noFeedBackgroundEnabled&&e&&(e.style.zIndex="501")):(t.zIndex=u,this.getStyleForElementKey(V._.backgroundInnerHolder).height=innerHeight+"px"),this.museumCreditsCardIsShown=!this.museumCreditsCardIsShown,(0,b.Gg)(b.tk.museumCard,this.museumCreditsCardIsShown),this.calcMuseumBottom(),"Video"===this.currentProvider&&this.museumCreditsCardIsShown&&this.videoProvider.playVideo("Timer")},this.syncWithStateChange=()=>{const e=this.chromiumPageSettingsConnector.getCurrentState(),t=this.topSitesLayoutDataConnector.getCurrentState(),i=e.selectedFeedDisplaySetting!==this.chromiumPageSettingsState.selectedFeedDisplaySetting,n=e.quickLinksEnabled!==this.chromiumPageSettingsState.quickLinksEnabled,r=t.isTopSitesCollapsed!==this.topSitesLayoutState.isTopSitesCollapsed;(i||n||this.isFeedDisplayAlwaysOn&&r)&&(this.museumBottom=0),i&&(this.hasFeedDisplayChanged=!0),!this.isFeedDisplayAlwaysOn||this.hasFeedDisplayChanged||this.translucentFeedEnabled?this.imageInformationalStyles="":this.imageInformationalStyles=`height: ${(0,z.b_)(V._.headerSpaceHolder).offsetHeight}px;`,this.chromiumPageSettingsState=e,this.topSitesLayoutState=t,this.defineCurrentProvider(),this.updateProperties(),this.calcMuseumBottom()},this.updateProperties=()=>{switch(this.isFeedDisplayAlwaysOn="always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting,this.currentProvider){case"BrowserLocal":this.updateProperties_customImage();break;case"FREBackground":this.updateProperties_fre();break;case"Event":this.updateProperties_event();break;case"Iris":this.updateProperties_iris();break;case"NoBackground":this.updateProperties_noBackground();break;case"Theme":this.updateProperties_theme();break;case"Video":this.updateProperties_video();break;default:this.updateProperties_error()}},this.updateProperties_customImage=()=>{this.imageSource=this.chromiumPageSettingsState.customBackgroundImageInfo.resourceUrl,this.museumCard=null,this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.imageOverrideStyles=""},this.updateProperties_error=()=>{this.imageSource="always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting?this.config.freImages.informational:this.config.freImages.inspirational,this.museumCard=null,this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.imageOverrideStyles=""},this.updateProperties_event=()=>{this.imageSource=this.config.event.imageSource,this.museumCard={credits:this.config.event.attribution,isDisplayed:!0,irisButtons:{likeClicked:!1,dislikeClicked:!1},title:this.config.localizedStrings.events[this.config.event.id],titleURL:this.config.event.imageHref},this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.imageOverrideStyles="",this.telemetryObject?(this.telemetryTags.cardTitle=this.telemetryObject.addOrUpdateChild({name:"CopyrightLink",behavior:P.wu.Navigate,content:{headline:this.config.localizedStrings.events[this.config.event.id],id:"Event - "+this.config.event.id},overrideDestinationUrl:this.config.event.imageHref}).getMetadataTag(),this.telemetryTags.dislikeButton=this.telemetryObject.addOrUpdateChild({name:"DisLike",behavior:P.wu.Dislike,content:{headline:this.museumCard.title,id:"Event - "+this.config.event.id}}).getMetadataTag(),this.telemetryTags.likeButton=this.telemetryObject.addOrUpdateChild({name:"Like",behavior:P.wu.Like,content:{headline:this.museumCard.title,id:"Event - "+this.config.event.id}}).getMetadataTag(),this.telemetryTags.secondaryButton=this.telemetryObject.addOrUpdateChild({name:"SecondaryButton",behavior:P.wu.Navigate,content:{headline:this.museumCard.title,id:"Event - "+this.config.event.secondaryButton.id},overrideDestinationUrl:this.config.event.secondaryButton.href}).getMetadataTag(),this.telemetryTags.title_cardHidden=this.telemetryObject.addOrUpdateChild({name:"LikeBackground",behavior:P.wu.Show,content:{headline:"LikeBackground",id:"Event - "+this.config.event.id}}).getMetadataTag(),this.telemetryTags.title_cardShown=this.telemetryObject.addOrUpdateChild({name:"ExitFullView",behavior:P.wu.Close,content:{headline:"ExitFullView",id:"Event - "+this.config.event.id}}).getMetadataTag()):(0,q.H)(d.CgS,"Telemetry object is undefined on Iris update")},this.updateProperties_fre=()=>{this.imageSource="always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting?this.config.freImages.informational:this.config.freImages.inspirational,this.museumCard=null,this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.imageOverrideStyles=""},this.updateProperties_iris=()=>(0,c.mG)(this,void 0,void 0,(function*(){var e;if(this.config.throwLoadImageHotSpotsError)yield this.irisProvider.loadImageHotSpots();else try{yield this.irisProvider.loadImageHotSpots()}catch(e){this.loadImageHotSpotsErrorFired||((0,q.H)(d.W91,"irisProvider.loadImageHotSpots failed. Mark load complete.",e&&e.message),this.loadImageHotSpotsErrorFired=!0)}const t=this.irisProvider.irisStateInfo;this.imageSource=this.irisProvider.irisImageURL,this.config.throwLoadImageHotSpotsError||this.imageSource||this.imageSourceErrorFired||(this.error("No image source"),this.imageSourceErrorFired=!0),this.museumCard=Object.assign(Object.assign({},this.irisProvider.museumCard),{irisButtons:Object.assign({},null===(e=this.museumCard)||void 0===e?void 0:e.irisButtons)}),this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.imageOverrideStyles="";const i=this.config.iris.disableHotSpots||this.isFeedDisplayAlwaysOn||!t||!t.hsList||0===t.hsList.length;if(this.hotSpots=[],!i){let e,i;const n=(0,z.b_)(V._.topSites);this.config.topSitesCloserToSearchBox?(e=n,i=(0,z.b_)(V._.navBar)):(e=(0,z.b_)(V._.searchBox),i=n);const r=e?e.getBoundingClientRect().bottom:0,o=i?i.getBoundingClientRect().top:0,s=Math.max(o-r-32,0),a=Math.max(window.outerWidth-64,0);t.hsList.forEach((e=>{const t=s*parseFloat(e.landscape.y_percent),i=a*parseFloat(e.landscape.x_percent);if(t+32+16+20<=s&&i+32+8+256<=a){const n={marginTop:r+16+"px",marginLeft:"16px",marginRight:"32px",height:s+"px",width:a+"px",widthOffset:Math.floor(i)+"px",heightOffset:Math.floor(t)+"px"};this.hotSpots.push({data:e,styles:n,icon:j(e.icon),telemetryTags:this.telemetryTags.hotSpots[e.title],onClickHandler:this.irisProvider.hotSpotClickHandler,onMouseEnterHandler:this.irisProvider.hotSpotMouseEnterHandler})}}))}if(!this.telemetryObject||!t)return void(0,q.H)(d.CgS,"Telemetry object is undefined on Iris update");const n=this.museumCard.title?this.museumCard.title:"",r=t.titleLink?t.titleLink:"";this.telemetryTags.cardTitle=this.telemetryObject.addOrUpdateChild({name:"CopyrightLink",behavior:P.wu.Navigate,content:{headline:n},overrideDestinationUrl:r}).getMetadataTag(),this.telemetryTags.dislikeButton=this.telemetryObject.addOrUpdateChild({name:"DisLike",behavior:P.wu.Dislike,content:{headline:n}}).getMetadataTag(),this.telemetryTags.likeButton=this.telemetryObject.addOrUpdateChild({name:"Like",behavior:P.wu.Like,content:{headline:n}}).getMetadataTag(),this.telemetryTags.title_cardHidden=this.telemetryObject.addOrUpdateChild({name:"IrisMuseumCard",behavior:P.wu.Show,content:{headline:"Like this Background?",type:P.uH.Image}}).getMetadataTag(),this.telemetryTags.title_cardShown=this.telemetryObject.addOrUpdateChild({name:"IrisMuseumCard",behavior:P.wu.Close,content:{headline:"Exit Full View",type:P.uH.Image}}).getMetadataTag();const{hsList:o,creativeId:s}=t;o&&o.forEach((e=>{const t=this.telemetryObject.addOrUpdateChild({name:"HotSpot",content:{headline:(e.cta_type===H.offPageNavigation?`HotSpot_${s}_${e.hs}`:`HotSpot_${e.cta}_${s}_${e.hs}`)+" - "+e.title},type:P.c9.Module,behavior:P.wu.Navigate,action:P.Aw.Click,overrideDestinationUrl:e.cta}).getMetadataTag();this.telemetryTags.hotSpots[e.title]=t}))})),this.updateProperties_noBackground=()=>{this.imageSource=null,this.museumCard=null,this.imageOverrideStyles="",this.loadComplete(!0)},this.updateProperties_theme=()=>{const e=this.chromiumPageSettingsState.ntpTheme;this.imageSource=null,this.museumCard=null,this.imageInformationalStyles="",this.imageOverrideStyles=`background-position: ${e.imageHorizontalAlignment} ${e.imageVerticalAlignment}; background-repeat: ${e.imageTiling}; background-image: ${e.imageUrl}; background-color: ${this.getThemeBackgroundColor()}`,"repeat"===e.imageTiling&&(this.imageOverrideStyles+="background-size: auto;"),this.loadComplete(!0)},this.updateProperties_video=()=>{this.imageSource=this.videoProvider.firstFrameSource,this.museumCard=Object.assign({},this.videoProvider.museumCard),this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.isReducedMotionActive=this.videoProvider.isReducedMotionActive,this.showToast=this.videoProvider.showToast,this.toastMessage=this.videoProvider.toastMessage,this.videoPlaying=this.videoProvider.isPlaying,this.videoSource=this.videoProvider.videoSource,this.imageInformationalStyles=this.isFeedDisplayAlwaysOn?this.imageInformationalStyles:"",this.telemetryObject?(this.telemetryTags.dislikeButton=this.telemetryObject.addOrUpdateChild({name:"DisLike",behavior:P.wu.Dislike,content:{headline:this.videoProvider.museumCard.title,id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag(),this.telemetryTags.likeButton=this.telemetryObject.addOrUpdateChild({name:"Like",behavior:P.wu.Like,content:{headline:this.videoProvider.museumCard.title,id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag(),this.telemetryTags.secondaryButton=this.videoPlaying?this.telemetryObject.addOrUpdateChild({name:"Pause",behavior:P.wu.Pause,content:{headline:this.videoProvider.museumCard.title,id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag():this.telemetryObject.addOrUpdateChild({name:"Play",behavior:P.wu.Play,content:{headline:this.videoProvider.museumCard.title,id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag(),this.telemetryTags.title_cardHidden=this.telemetryObject.addOrUpdateChild({name:"LikeBackground",behavior:P.wu.Show,content:{headline:"LikeBackground",id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag(),this.telemetryTags.title_cardShown=this.telemetryObject.addOrUpdateChild({name:"ExitFullView",behavior:P.wu.Close,content:{headline:"ExitFullView",id:this.videoProvider.videoId+" - "+this.videoProvider.currentResolution}}).getMetadataTag()):(0,q.H)(d.CgS,"Telemetry object is undefined on Iris update")},this.onClick_outsideMuseumCard=e=>{e.composedPath().includes(this.ref_museumCardContainer)||(A.M.sendActionEvent(this.ref_museumCardButton,P.Aw.Click,P.wu.Close),this.toggleMuseumCardOpen())},this.onKeyDown_closeMuseumCard=e=>{"Escape"===e.code&&(A.M.sendActionEvent(this.ref_museumCardButton,P.Aw.Click,P.wu.Close),this.toggleMuseumCardOpen())},this.onMouseEnter_museumCard=e=>{this.triggerHover=!0,this.museumCreditsCardIsShown||setTimeout((()=>{this.triggerHover&&(this.toggleMuseumCardOpen(),A.M.sendActionEvent(this.ref_museumCardButton,P.Aw.Hover,P.wu.Show))}),500)},this.onMouseLeave_museumCard=()=>{this.triggerHover=!1},this.onResize=()=>{this.museumCard&&this.calcMuseumBottom(),"Iris"===this.currentProvider&&this.updateProperties()},this.onScroll=()=>{this.museumCreditsCardIsShown&&(this.getStyleForElementKey(V._.backgroundOuterHolder).zIndex="",this.museumCreditsCardIsShown=!this.museumCreditsCardIsShown,(0,b.Gg)(b.tk.museumCard,this.museumCreditsCardIsShown));scrollY>=1?this.museumCard&&(this.ref_museumCardContainer&&this.ref_museumCardContainer.classList.add("museumCard_hide"),this.ref_hotSpotsContainer&&this.ref_hotSpotsContainer.classList.add("hotSpotContainer_hide")):this.museumCard&&(this.ref_museumCardContainer&&this.ref_museumCardContainer.classList.remove("museumCard_hide"),this.ref_hotSpotsContainer&&this.ref_hotSpotsContainer.classList.remove("hotSpotContainer_hide"),this.calcMuseumBottom()),"Video"===this.currentProvider&&(0===scrollY?this.videoProvider.playVideo("Scroll"):this.videoProvider.pauseVideo("Scroll"))},this.onWindowBlur=()=>{this.videoProvider.pauseVideo("Focus")},this.onWindowFocus=()=>{this.videoProvider.playVideo("Focus")}}experienceConnected(){if(this.chromiumPageSettingsConnector=(0,w.K0)(h.z.ChromiumPageSettings),this.topSitesLayoutDataConnector=(0,w.K0)(h.z.TopSitesLayoutData),(0,L.isNullOrUndefined)(this.chromiumPageSettingsConnector)||(0,L.isNullOrUndefined)(this.topSitesLayoutDataConnector)){const e=(0,L.isNullOrUndefined)(this.chromiumPageSettingsConnector),t=(0,L.isNullOrUndefined)(this.topSitesLayoutDataConnector);return(0,q.H)(d.B5f,"Data connector missing: ChromiumSettings-"+e+" Topsites-"+t),void this.error("Data connectors missing")}this.chromiumPageSettingsState=this.chromiumPageSettingsConnector.getCurrentState(),this.topSitesLayoutState=this.topSitesLayoutDataConnector.getCurrentState(),this.isTestRunning="1"===y.c.getQueryParameterByName("forceImageTest",(0,ee.zp)()),this.defineCurrentProvider(),this.createTelemetryTags(),p.J.updateLayout.registerObserver((()=>{this.syncWithStateChange()})),G.V.updateNtpTheme.registerObserver((()=>{this.syncWithStateChange()})),f.I.layoutAnimationComplete.registerObserver((()=>{this.animationComplete()})),this.isFeedDisplayAlwaysOn="always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting,addEventListener("resize",this.onResize),addEventListener("scroll",this.onScroll)}disconnectedCallback(){if(removeEventListener("resize",this.onResize),removeEventListener("scroll",this.onScroll),"Video"===this.currentProvider)window.removeEventListener("blur",this.onWindowBlur,!1),window.removeEventListener("focus",this.onWindowFocus,!1)}getExperienceType(){return s.x.backgroundImageWC}shadowDomPopulated(){const e=(0,z.b_)(V._.headerSpaceHolder);var t;(t=this.syncWithStateChange,new ResizeObserver(t)).observe(e),this.calcMuseumBottom()}getThemeBackgroundColor(){var e,t;let i=null;const n=null===(t=null===(e=this.chromiumPageSettingsState)||void 0===e?void 0:e.ntpTheme)||void 0===t?void 0:t.backgroundColorRgba;if(!n||n.length<4)return null;const r={r:n[0],g:n[1],b:n[2],a:n[3]};return i=Y.g.rgbNumberToCssHexColor(Y.g.parsedColorToNumber(r)),i}shouldShowEvent(){var e;try{this.eventData=(0,C.$o)().getObject(this.eventStorageId)}catch(e){(0,q.H)(d.J_l,"Local storage for event data failed.")}const t=(0,L.isNullOrUndefined)(this.eventData),i=(null===(e=this.eventData)||void 0===e?void 0:e.id)!==this.config.event.id;if(t||i){this.eventData={id:this.config.event.id,showEvent:!0};try{(0,C.$o)().setObject(this.eventStorageId,this.eventData)}catch(e){(0,q.H)(d.LXY,"Local storage for video data failed.")}return!0}return this.eventData.showEvent}onClick_dislikeButton(){return(0,c.mG)(this,void 0,void 0,(function*(){switch(this.museumCard=Object.assign(Object.assign({},this.museumCard),{irisButtons:Object.assign(Object.assign({},this.museumCard.irisButtons),{dislikeClicked:!0})}),window.setTimeout((()=>{this.museumCard=Object.assign(Object.assign({},this.museumCard),{irisButtons:Object.assign(Object.assign({},this.museumCard.irisButtons),{dislikeClicked:!1,likeClicked:!1})})}),3e3),this.currentProvider){case"Video":this.videoProvider.removeVideoForToday(),this.currentProvider="Iris";break;case"Event":this.eventData={id:this.config.event.id,showEvent:!1};try{(0,C.$o)().setObject(this.eventStorageId,this.eventData)}catch(e){(0,q.H)(d.LXY,"Local storage for video data failed.")}this.defineCurrentProvider();break;default:yield this.irisProvider.dislikeClickButtonHandler()}}))}onClick_likeButton(){if(this.museumCard=Object.assign(Object.assign({},this.museumCard),{irisButtons:Object.assign(Object.assign({},this.museumCard.irisButtons),{likeClicked:!0})}),"Video"===this.currentProvider);else this.irisProvider.likeClickButtonHandler()}onClick_secondaryButton(){"Video"===this.currentProvider?this.videoProvider?this.videoProvider.isPlaying?this.videoProvider.pauseVideo("Button"):this.videoProvider.playVideo("Button"):(0,q.H)(d.$qz,"Video provider not available. Attempted play/pause video"):"Event"===this.currentProvider&&window.open(this.config.event.secondaryButton.href)}getStyleForElementKey(e){return(0,z.b_)(e).style}}(0,c.gn)([W.LO],te.prototype,"currentProvider",void 0),(0,c.gn)([W.LO],te.prototype,"hotSpots",void 0),(0,c.gn)([W.LO],te.prototype,"imageInformationalStyles",void 0),(0,c.gn)([W.LO],te.prototype,"imageOverrideStyles",void 0),(0,c.gn)([W.LO],te.prototype,"imageSource",void 0),(0,c.gn)([W.LO],te.prototype,"isReducedMotionActive",void 0),(0,c.gn)([W.LO],te.prototype,"isLoadComplete",void 0),(0,c.gn)([W.LO],te.prototype,"museumBottom",void 0),(0,c.gn)([W.LO],te.prototype,"museumCard",void 0),(0,c.gn)([W.LO],te.prototype,"museumCreditsCardIsShown",void 0),(0,c.gn)([W.LO],te.prototype,"showToast",void 0),(0,c.gn)([W.LO],te.prototype,"telemetryTags",void 0),(0,c.gn)([W.LO],te.prototype,"toastMessage",void 0),(0,c.gn)([_.Lj],te.prototype,"translucentFeedEnabled",void 0),(0,c.gn)([W.LO],te.prototype,"videoPlaying",void 0),(0,c.gn)([W.LO],te.prototype,"videoSource",void 0),(0,c.gn)([_.Lj],te.prototype,"windowsBlurOpacity",void 0),(0,c.gn)([_.Lj],te.prototype,"wholePageTranslucentFeed",void 0);var ie=i(90563),ne=i(91106),re=i(63243),oe=i(78464);i(65302).Z;const se=ie.d`
    <p class="irisResponse">
        ${e=>e.strings.irisResponse}
    </p>
`,ae=ie.d`
    <img
        class="picture"
        id="backgroundImagePicture"
        src=${e=>e.imageSource}
        style=${e=>e.imageOverrideStyles+e.imageInformationalStyles}
        @load=${e=>e.loadComplete(!0)}
        @error=${e=>e.error(e.imageSource)}
    ></img>
`,ce=ie.d`
    <div
        class="museumButtonContainer"
        ${(0,ne.i)("ref_museumButtonContainer")}
    >
        <fluent-button
            appearance="stealth"
            class="irisButton"
            data-t="${e=>e.telemetryTags&&e.telemetryTags.likeButton}"
            id="like"
            @click="${e=>e.onClick_likeButton()}"
        >
            <svg
                class="irisButtonIcon"
                slot="start" id="irisMuseumCard_HeartIcon"
                viewBox="0 0 21 21"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path fill="#fff" d="M11.75 1C12.3385 1 12.8906 1.11198 13.4062 1.33594C13.9219 1.5599 14.3724 1.86458 14.7578 2.25C15.1432 2.63021 15.4453 3.08073 15.6641 3.60156C15.888 4.11719 16 4.66667 16 5.25C16 5.81771 15.8906 6.36198 15.6719 6.88281C15.4583 7.40365 15.1536 7.86198 14.7578 8.25781L8 15.0078L1.24219 8.25781C0.846354 7.86198 0.539062 7.40365 0.320312 6.88281C0.106771 6.36198 0 5.81771 0 5.25C0 4.66667 0.109375 4.11719 0.328125 3.60156C0.552083 3.08073 0.856771 2.63021 1.24219 2.25C1.6276 1.86458 2.07812 1.5599 2.59375 1.33594C3.10938 1.11198 3.66146 1 4.25 1C4.68229 1 5.06771 1.04948 5.40625 1.14844C5.74479 1.2474 6.05729 1.38542 6.34375 1.5625C6.63542 1.73438 6.91146 1.94271 7.17188 2.1875C7.4375 2.43229 7.71354 2.70052 8 2.99219C8.28646 2.70052 8.5599 2.43229 8.82031 2.1875C9.08594 1.94271 9.36198 1.73438 9.64844 1.5625C9.9401 1.38542 10.2552 1.2474 10.5938 1.14844C10.9323 1.04948 11.3177 1 11.75 1ZM14.0469 7.54688C14.3542 7.23958 14.5885 6.88802 14.75 6.49219C14.9115 6.09635 14.9922 5.68229 14.9922 5.25C14.9922 4.79688 14.9089 4.375 14.7422 3.98438C14.5755 3.58854 14.3438 3.2474 14.0469 2.96094C13.7552 2.66927 13.4115 2.44271 13.0156 2.28125C12.625 2.11458 12.2031 2.03125 11.75 2.03125C11.3125 2.03125 10.9245 2.10156 10.5859 2.24219C10.2474 2.3776 9.9349 2.55729 9.64844 2.78125C9.36198 3.00521 9.08594 3.26042 8.82031 3.54688C8.5599 3.82812 8.28646 4.11458 8 4.40625C7.71875 4.125 7.44531 3.84115 7.17969 3.55469C6.91406 3.26823 6.63542 3.01042 6.34375 2.78125C6.05729 2.55208 5.74219 2.36458 5.39844 2.21875C5.0599 2.07292 4.67708 2 4.25 2C3.80208 2 3.38021 2.08594 2.98438 2.25781C2.58854 2.42448 2.24219 2.65625 1.94531 2.95312C1.65365 3.24479 1.42188 3.58854 1.25 3.98438C1.08333 4.38021 1 4.80208 1 5.25C1 5.68229 1.08073 6.09635 1.24219 6.49219C1.40885 6.88802 1.64583 7.23958 1.95312 7.54688L8 13.5938L14.0469 7.54688Z"></path>
            </svg>
            <div>
                <div class="irisButtonTitle">
                    ${e=>e.strings.irisLikeTitle}
                </div>
                <div class="irisButtonSubtitle">
                    ${e=>e.strings.irisLikeSubTitle}
                </div>
            </div>
        </fluent-button>
        <fluent-button
            appearance="stealth"
            class="irisButton"
            data-t="${e=>e.telemetryTags&&e.telemetryTags.dislikeButton}"
            id="dislike"
            @click="${e=>e.onClick_dislikeButton()}"
        >
            <svg
                class="irisButtonIcon"
                slot="start"
                viewBox="0 0 21 21"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path fill="#fff" d="M11.75 0.992188C12.3385 0.992188 12.8906 1.10417 13.4062 1.32812C13.9219 1.54688 14.3724 1.84896 14.7578 2.23438C15.1432 2.61979 15.4453 3.07031 15.6641 3.58594C15.888 4.10156 16 4.65365 16 5.24219C16 5.8099 15.8906 6.35417 15.6719 6.875C15.4583 7.39062 15.1536 7.84635 14.7578 8.24219L8 15L1.24219 8.24219C0.846354 7.84635 0.539062 7.39062 0.320312 6.875C0.106771 6.35417 0 5.8099 0 5.24219C0 4.65365 0.109375 4.10156 0.328125 3.58594C0.552083 3.07031 0.856771 2.61979 1.24219 2.23438C1.6276 1.84896 2.07812 1.54688 2.59375 1.32812C3.10938 1.10417 3.66146 0.992188 4.25 0.992188C4.82812 0.992188 5.36979 1.09896 5.875 1.3125C6.38542 1.52083 6.84635 1.82812 7.25781 2.23438C7.38281 2.35417 7.50521 2.47656 7.625 2.60156C7.75 2.72656 7.875 2.85156 8 2.97656C8.125 2.85156 8.2474 2.72656 8.36719 2.60156C8.49219 2.47656 8.61719 2.35417 8.74219 2.23438C9.15365 1.82812 9.61198 1.52083 10.1172 1.3125C10.6276 1.09896 11.1719 0.992188 11.75 0.992188ZM14.0469 7.53906C14.3542 7.23177 14.5885 6.88021 14.75 6.48438C14.9115 6.08854 14.9922 5.67448 14.9922 5.24219C14.9922 4.78906 14.9062 4.36719 14.7344 3.97656C14.5677 3.58073 14.3385 3.23698 14.0469 2.94531C13.7552 2.64844 13.4115 2.41667 13.0156 2.25C12.625 2.07812 12.2031 1.99219 11.75 1.99219C11.3125 1.99219 10.8984 2.07292 10.5078 2.23438C10.1172 2.39583 9.76562 2.63021 9.45312 2.9375C9.10938 3.27604 8.77344 3.61719 8.44531 3.96094C8.1224 4.30469 7.79427 4.64844 7.46094 4.99219L10.4609 7.99219L8.10156 10.3438L7.39844 9.64062L9.04688 7.99219L6.04688 4.99219L7.32031 3.71094C7.1849 3.59115 7.05469 3.46354 6.92969 3.32812C6.80469 3.19271 6.67708 3.0625 6.54688 2.9375C6.23438 2.63021 5.88281 2.39583 5.49219 2.23438C5.10677 2.07292 4.69271 1.99219 4.25 1.99219C3.79688 1.99219 3.3724 2.07812 2.97656 2.25C2.58594 2.41667 2.24219 2.64844 1.94531 2.94531C1.65365 3.23698 1.42188 3.58073 1.25 3.97656C1.08333 4.36719 1 4.78906 1 5.24219C1 5.66927 1.08333 6.08333 1.25 6.48438C1.41667 6.88542 1.65104 7.23698 1.95312 7.53906L8 13.5859L14.0469 7.53906Z"></path>
            </svg>
            <div>
                <div class="irisButtonTitle">
                    ${e=>e.strings.irisDislikeTitle}
                </div>
                <div class="irisButtonSubtitle">
                    ${e=>e.strings.irisDislikeSubTitle}
                </div>
            </div>
        </fluent-button>
    </div>
`,de=ie.d`
    <div
        class="museumCardCreditsContainer"
        ${(0,ne.i)("ref_museumCreditsContainer")}
    >
        <div class="museumCardTitleContainer">
            ${(0,re.g)((e=>e.museumCard.titleURL),ie.d`
                <a
                    class="museumCardTitle museumCardTitleAnchor"
                    data-t="${e=>e.telemetryTags&&e.telemetryTags.cardTitle}"
                    href="${e=>e.museumCard.titleURL}"
                    target="_blank"
                >
                    ${e=>e.museumCard.title}
                </a>
            `)}
            ${(0,re.g)((e=>!e.museumCard.titleURL),ie.d`
                <p class="museumCardTitle">
                    ${e=>e.museumCard.title}
                </p>
            `)}
            <p class="museumCardCredits">
                ${e=>e.museumCard.credits}
            </p>
        </div>
        <div class="museumCardDivider"></div>
        ${(0,re.g)((e=>!e.museumCard.irisButtons.likeClicked&&!e.museumCard.irisButtons.dislikeClicked),ce)}
        ${(0,re.g)((e=>e.museumCard.irisButtons.likeClicked||e.museumCard.irisButtons.dislikeClicked),se)}
    </div>
`,le=ie.d`
    <fluent-button
        appearance=${e=>"Event"===e.currentProvider?"hypertext":"neutral"}
        class="backgroundButton ${e=>e.museumCreditsCardIsShown?"backgroundButton_active":""}"
        data-t="${e=>e.telemetryTags&&e.telemetryTags.secondaryButton}"
        id="secondaryButton"
        href=${e=>"Event"===e.currentProvider?e.config.event.secondaryButton.href:""}
        @click="${e=>e.onClick_secondaryButton()}"
    >
        ${(0,re.g)((e=>"Video"===e.currentProvider),ie.d`
            ${(0,re.g)((e=>e.videoPlaying),ie.d`
                <svg
                    class="backgroundButtonIcon"
                    fill="none"
                    height="12"
                    slot="start"
                    viewBox="0 0 12 12"
                    width="12"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M1.5 0C0.671573 0 0 0.671573 0 1.5V10.5C0 11.3284 0.671573 12 1.5 12H3.5C4.32843 12 5 11.3284 5 10.5V1.5C5 0.671573 4.32843 0 3.5 0H1.5ZM8.5 0C7.67157 0 7 0.671573 7 1.5V10.5C7 11.3284 7.67157 12 8.5 12H10.5C11.3284 12 12 11.3284 12 10.5V1.5C12 0.671573 11.3284 0 10.5 0H8.5Z" fill="white"/>
                </svg>
            `)}
            ${(0,re.g)((e=>!e.videoPlaying),ie.d`
                <svg
                    class="backgroundButtonIcon"
                    fill="none"
                    height="14"
                    slot="start"
                    viewBox="0 0 11 14"
                    width="11"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path d="M2.23541 1.19239C1.2355 0.629924 0 1.35249 0 2.49974V11.5C0 12.6472 1.23546 13.3698 2.23537 12.8074L10.2356 8.30741C11.2551 7.73397 11.2551 6.26615 10.2357 5.69268L2.23541 1.19239Z" fill="white"/>
                </svg>
            `)}
            <p class="backgroundButtonText">
                ${e=>e.videoPlaying?e.strings.video_pause:e.strings.video_play}
            </p>
        `)}
        ${(0,re.g)((e=>"Event"===e.currentProvider),ie.d`
            <a href=${e=>e.config.event.secondaryButton.href} class="backgroundButtonText secondaryButtonAnchor">
                ${(0,re.g)((e=>"Event"===e.currentProvider),ie.d`
                    ${e=>e.strings.events[e.config.event.secondaryButton.id]}
                `)}
            </a>
        `)}
    </fluent-button>
`,ue=ie.d`
        ${(0,re.g)((e=>e.museumCreditsCardIsShown),de)}
        <fluent-button
            class="backgroundButton ${e=>e.museumCreditsCardIsShown?"backgroundButton_active":""}"
            data-t="${e=>e.museumCreditsCardIsShown?e.telemetryTags&&e.telemetryTags.title_cardShown:e.telemetryTags&&e.telemetryTags.title_cardHidden}"
            id="museumCardButton"
            @click="${e=>e.toggleMuseumCardOpen()}"
            @mouseenter="${(e,t)=>e.onMouseEnter_museumCard(t.event)}"
            @mouseleave="${e=>e.onMouseLeave_museumCard()}"
            ${(0,ne.i)("ref_museumCardButton")}
        >
        ${e=>e.museumCreditsCardIsShown?ie.d`
            <svg
                class="backgroundButtonIcon"
                fill="none"
                height="12"
                slot="start"
                viewBox="0 0 12 12"
                width="12"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path d="M11.7803 1.28033C12.0732 0.987437 12.0732 0.512563 11.7803 0.21967C11.4874 -0.0732233 11.0126 -0.0732233 10.7197 0.21967L8.5 2.43934V1.25C8.5 0.835786 8.16421 0.5 7.75 0.5C7.33579 0.5 7 0.835786 7 1.25V4.15C7 4.16736 7.00052 4.1846 7.00155 4.20171C6.98823 4.40941 7.06093 4.62159 7.21967 4.78033C7.37841 4.93907 7.59059 5.01177 7.79829 4.99845C7.8154 4.99948 7.83264 5 7.85 5H10.75C11.1642 5 11.5 4.66421 11.5 4.25C11.5 3.83579 11.1642 3.5 10.75 3.5H9.56066L11.7803 1.28033ZM4.25 11.5C3.83579 11.5 3.5 11.1642 3.5 10.75V9.56066L1.28033 11.7803C0.987437 12.0732 0.512563 12.0732 0.21967 11.7803C-0.0732232 11.4874 -0.0732232 11.0126 0.21967 10.7197L2.43934 8.5H1.25C0.835786 8.5 0.5 8.16421 0.5 7.75C0.5 7.33579 0.835786 7 1.25 7H4.15C4.16736 7 4.1846 7.00052 4.20171 7.00155C4.40941 6.98823 4.62159 7.06093 4.78033 7.21967C4.93907 7.37841 5.01177 7.59059 4.99845 7.79829C4.99948 7.8154 5 7.83264 5 7.85V10.75C5 11.1642 4.66421 11.5 4.25 11.5Z" fill="white"/>
            </svg>
        `:ie.d`
            <svg
                class="backgroundButtonIcon"
                fill="none"
                height="12"
                slot="start"
                viewBox="0 0 12 12"
                width="12"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path d="M6.47727 0C6.06306 0 5.72727 0.335786 5.72727 0.75C5.72727 1.16421 6.06306 1.5 6.47727 1.5H9.43934L1.5 9.43934V6.47727C1.5 6.06306 1.16421 5.72727 0.75 5.72727C0.335786 5.72727 0 6.06306 0 6.47727V11.15C0 11.6194 0.380559 12 0.85 12H5.52273C5.93694 12 6.27273 11.6642 6.27273 11.25C6.27273 10.8358 5.93694 10.5 5.52273 10.5H2.56066L10.5 2.56066V5.52273C10.5 5.93694 10.8358 6.27273 11.25 6.27273C11.6642 6.27273 12 5.93694 12 5.52273V0.85C12 0.380557 11.6194 0 11.15 0H6.47727Z" fill="white"/>
            </svg>
        `}
        <p class="backgroundButtonText">
            ${e=>e.museumCreditsCardIsShown?e.strings.museumCardExpanded:e.strings.museumCardCollapsed}
        </p>
        </fluent-button>
`,ge=ie.d`
    <div
        class="museumCard"
        style="${e=>`bottom:${e.museumBottom}px`}"
        ${(0,ne.i)("ref_museumCardContainer")}
    >
        ${ue}
        ${(0,re.g)((e=>{var t;return"Video"===e.currentProvider||"Event"===e.currentProvider&&(null===(t=e.config.event)||void 0===t?void 0:t.secondaryButton)}),le)}
    </div>
`,pe=ie.d`
    ${(0,re.g)((e=>e.windowsBlurOpacity),ie.d`<span class="windowsBlur"></span>`)}
    <span
        class="${e=>e.wholePageTranslucentFeed?"overlayTranslucent":"overlay"} ${e=>e.museumCreditsCardIsShown||"Theme"===e.currentProvider&&!e.wholePageTranslucentFeed?"overlay_hide":""}"
        data-mscc-ic="false"
        id="backgroundImageOverlay"
        ${(0,ne.i)("ref_backgroundOverlay")}
    ></span>
`,he=ie.d`
    ${ae}
    ${pe}
`,fe=ie.d`
    ${ae}
    ${pe}
`,me=ie.d`
    ${ae}
    ${pe}
`,ve=ie.d`
    ${ae}
    ${pe}
    ${(0,re.g)((e=>e.museumCard&&e.museumBottom>0),ge)}
`,be=ie.d`
    <svg
        role="img"
        viewBox="${e=>e.icon.viewBoxString}"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path d="${e=>e.icon.svgString}" fill="#fff" />
    </svg>
`,ye=ie.d`
    <svg
        role="img"
        viewBox="-3 -3 30 36"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path d="M11.9999 2C10.3241 2 8.94444 2.26211 7.97842 2.52663C7.49515 2.65896 7.11432 2.79217 6.8504 2.8942C6.71839 2.94523 6.61548 2.98852 6.54346 3.02007C6.50744 3.03585 6.47914 3.0487 6.45877 3.05813L6.43418 3.06965L6.4264 3.07336L6.42364 3.07469L6.42165 3.07566C6.04922 3.25696 5.89428 3.70585 6.07559 4.07828C6.25683 4.45058 6.7053 4.60563 7.07765 4.42462L7.08878 4.41941C7.10006 4.41419 7.11901 4.40556 7.14541 4.39399C7.19821 4.37086 7.28075 4.33602 7.39125 4.2933C7.61235 4.20783 7.94481 4.09104 8.37456 3.97337C9.23458 3.73789 10.4799 3.5 11.9999 3.5C13.5199 3.5 14.7653 3.73789 15.6253 3.97337C16.055 4.09104 16.3875 4.20783 16.6086 4.2933C16.7191 4.33602 16.8016 4.37086 16.8544 4.39399C16.8808 4.40556 16.8998 4.41419 16.9111 4.41941L16.9225 4.42478C17.2948 4.60539 17.7431 4.45041 17.9243 4.07828C18.1853 3.44362 17.5773 3.07522 17.5773 3.07522L17.5762 3.07469L17.5734 3.07336L17.5657 3.06965L17.5411 3.05813C17.5207 3.0487 17.4924 3.03585 17.4564 3.02007C17.3844 2.98852 17.2815 2.94523 17.1494 2.8942C16.8855 2.79217 16.5047 2.65896 16.0214 2.52663C15.0554 2.26211 13.6757 2 11.9999 2Z" fill="#fff" />
        <path d="M7.25 7C6.00736 7 5 8.00736 5 9.25V14.75C5 15.9926 6.00736 17 7.25 17H12.75C13.9926 17 15 15.9926 15 14.75V14.4635L17.9146 15.9208C18.1471 16.0371 18.4232 16.0246 18.6443 15.888C18.8654 15.7513 19 15.5099 19 15.25V8.75C19 8.49007 18.8654 8.24867 18.6443 8.11201C18.4232 7.97536 18.1471 7.96293 17.9146 8.07918L15 9.53648V9.25C15 8.00736 13.9926 7 12.75 7H7.25ZM15 11.2135L17.5 9.96353V14.0365L15 12.7865V11.2135ZM13.5 9.25V14.75C13.5 15.1642 13.1642 15.5 12.75 15.5H7.25C6.83579 15.5 6.5 15.1642 6.5 14.75V9.25C6.5 8.83579 6.83579 8.5 7.25 8.5H12.75C13.1642 8.5 13.5 8.83579 13.5 9.25Z" fill="#fff" />
        <path d="M6.41779 20.9225L6.4206 20.9239L6.42843 20.9277L6.45291 20.9394C6.47312 20.949 6.50109 20.9619 6.53664 20.9778C6.60773 21.0095 6.70917 21.0528 6.8395 21.1039C7.10008 21.2061 7.47658 21.3392 7.95712 21.4714C8.91801 21.7359 10.2974 21.9976 11.9988 22C13.7014 22.0025 15.0818 21.7406 16.0435 21.4747C16.5244 21.3417 16.9013 21.2075 17.1621 21.1045C17.2926 21.053 17.3941 21.0092 17.4653 20.9772C17.5009 20.9611 17.529 20.9481 17.5492 20.9384L17.5738 20.9266L17.5816 20.9227L17.5845 20.9213L17.5856 20.9207C17.5856 20.9207 18.2406 20.5515 17.9201 19.9134C17.7342 19.5434 17.2837 19.394 16.9136 19.5796L16.904 19.5842C16.8934 19.5893 16.8753 19.5978 16.8499 19.6092C16.799 19.6321 16.7189 19.6668 16.6111 19.7094C16.3954 19.7946 16.0691 19.9113 15.6438 20.0289C14.7929 20.2642 13.5484 20.5023 12.001 20.5C10.4523 20.4978 9.20677 20.2596 8.35515 20.0252C7.92945 19.908 7.60282 19.792 7.38684 19.7074C7.27888 19.665 7.19869 19.6306 7.14771 19.6079C7.12222 19.5965 7.10405 19.5881 7.09337 19.583L7.08365 19.5784C6.7129 19.3942 6.26293 19.5452 6.07845 19.9159C5.89587 20.2827 6.05097 20.7407 6.41779 20.9225Z" fill="#fff" />
    </svg>
`,Ce=ie.d`
    <div
        class="hotSpotRenderRegion"
        id = "hotspots"
        style="margin-top:${e=>e.styles.marginTop}; margin-left:${e=>e.styles.marginLeft}; margin-right:${e=>e.styles.marginRight}; height:${e=>e.styles.height}; width:${e=>e.styles.width};"
    >
        <div
            class="hotSpot"
            data-t="${e=>e.telemetryTags}"
            style="left: ${e=>e.styles.widthOffset}; top: ${e=>e.styles.heightOffset};"
            @mouseenter="${(e,t)=>null==e?void 0:e.onMouseEnterHandler(null==t?void 0:t.event)}"
        >
            <a
                class="hotSpot hotSpotAccess"
                href="${e=>e.data.cta}"
                target="_blank"
                @click="${(e,t)=>e.onClickHandler&&e.onClickHandler(e.data,t)}"
            >
                <div class="hotSpotSpot hotSpotClickable">
                    ${e=>""===e.icon.svgString?ye:be}
                </div>
                <div class="hotSpotTextArea hotSpotClickable">
                    ${e=>e.data.title}
                    <div class="hotSpotSubTextArea" >
                        ${e=>e.data.text}
                    </div>
                </div>
            </a>
        </div>
    </div>
`,Se=ie.d`
    ${ae}
    ${pe}
    ${(0,re.g)((e=>e.museumCard&&e.museumBottom>0),ge)}
    ${(0,re.g)((e=>!e.museumCreditsCardIsShown),ie.d`
        <div
            class="hotSpotContainer"
            ${(0,ne.i)("ref_hotSpotsContainer")}
        >
            ${(0,oe.rx)((e=>e.hotSpots),Ce)}
        </div>`)}
`,we=ie.d`
    ${ae}
    ${pe}
`,Te=ie.d`
    <msn-toast
        class="toast"
        style="${e=>`bottom:${e.museumBottom}px`}"
    >
        ${e=>e.toastMessage}
    </msn-toast>
`,ke=ie.d`
    <video
        class="video"
        loop
        muted
        src="${e=>e.videoSource}"
        style=${e=>e.imageInformationalStyles}
        @error=${e=>e.error(e.videoSource)}
        ${(0,ne.i)("ref_video")}
    ></video>
`,Oe=ie.d`
    <video
        class="video"
        loop
        muted
        src="${e=>e.videoSource}"
        style=${e=>e.imageInformationalStyles}
        @canplaythrough=${e=>e.loadComplete(!1)}
        @error=${e=>e.error(e.videoSource)}
        ${(0,ne.i)("ref_video")}
    ></video>
`,Ee=ie.d`
    ${(0,re.g)((e=>e.imageSource||e.videoSource),ie.d`
        ${(0,re.g)((e=>!e.isLoadComplete),ae)}
        ${(0,re.g)((e=>!e.isLoadComplete),Oe)}
        ${(0,re.g)((e=>e.isLoadComplete),ke)}
        ${pe}
        ${(0,re.g)((e=>e.museumCard&&e.museumBottom>0),ge)}
        ${(0,re.g)((e=>e.showToast),Te)}
    `)}
`,Ie=ie.d`
    <template>
        <div
            class="backgroundImage"
            id="backgroundImage"
        >
        ${e=>{switch(e.currentProvider){case"BrowserLocal":return he;case"FREBackground":return me;case"Event":return ve;case"Iris":return Se;case"NoBackground":return null;case"Theme":return we;case"Video":return Ee;default:return fe}}}
        </div>
    </template>
`;var Ae=i(70783),Pe=i(76298),xe=i(68421);const Me=Pe.i`
    .museumCard {
        left: initial;
        right: 12px;
    }
    .backgroundButton {
        float: right;
    }
    .secondaryButton {
        float: right;
        margin-right: 8px;
    }
`,Le=Pe.i`
    .museumCard {
        left: 12px;
        right: initial;
    }
    .backgroundButton {
        float: left;
    }
    .secondaryButton {
        float: left;
        margin-left: 8px;
    }
`,De=Pe.i`
    .windowsBlur {
        background: rgba(0,0,0,.5);
    }
`,Fe=Pe.i`
    .backgroundButton {
        background: transparent;
        border-radius: 12px;
        border: none;
        color: white;
        cursor: pointer;
        display: inline-block;
        font-size: 12px;
        height: 24px;
        overflow: hidden;
        white-space: nowrap;
    }
    .backgroundButton:hover {
        background: rgba(0, 0, 0, .6);
    }
    .backgroundButton::part(control) {
        padding: 0 8px 0 10px;
        vertical-align: top;
    }
    .backgroundButton_active {
        background: rgba(0,0,0,.6);
    }
    .backgroundButton_active:hover {
        background: rgba(0,0,0,.9);
    }
    .backgroundButtonText {
        font-size: 12px;
        padding: 0;
    }
    .backgroundButtonIcon {
        width: 12px;
        height: 12px;
    }
    .backgroundImage {
        height: 100%;
        width: 100%;
    }
    .hotSpot {
        height: max-content;
        position: absolute;
        width: max-content;
        z-index: 290;
    }
    .hotSpotAccess {
        animation-fill-mode: forwards;
        animation: "backgroundFadeInAnimation 0.5s linear";
        cursor: default;
        display:flex;
        text-decoration: none;
        z-index: 292;
    }
    .hotSpotClickable {
        cursor: pointer !important;
    }
    .hotSpotContainer {
        opacity: 1;
        transition: opacity 0.2s;
    }
    .hotSpotContainer_hide {
        opacity: 0;
        transition: opacity 0.2s;
    }
    .hotSpotRenderRegion {
        opacity: 1;
        position: absolute;
    }
    .hotSpotSpot {
        background-color: rgba(0, 0, 0, 0.64);
        border-radius: 16px;
        cursor: default;
        height: 32px;
        height: 32px;
        margin-inline-end: 8px;
        width: 32px;
    }
    .hotSpotSubTextArea {
        color: rgba(255, 255, 255, 0.74);
        font-size: 12px;
        line-height: 16px;
        opacity: 0;
    }
    .hotSpotSubTextArea:hover {
        opacity: 1;
    }
    .hotSpotTextArea {
        border-radius: 4px;
        color: #FFFFFF;
        font-size: 14px;
        line-height: 20px;
        max-width: 256px;
        padding: 4px 12px 10px 12px;
    }
    .hotSpotTextArea:hover {
        background-color: rgba(0, 0, 0, 0.64);
        cursor: pointer;
        z-index: 292;
    }
    .hotSpotTextArea:hover .hotSpotSubTextArea {
        opacity: 1;
    }
    .irisButton {
        background: none;
        border: none;
        color: #fff;
        cursor: pointer;
        height: auto;
        width: 100%;
    }
    .irisButton:hover {
        background: rgba(0,0,0,.9);
    }
    .irisButton::part(control) {
        align-items: flex-start;
        justify-content: unset;
        padding: 10px 15px;
    }
    .irisButtonIcon {
        height: 16px;
        padding-top: 2px;
        width: 16px;
    }
    .irisButtonTitle {
        font-size: 14px;
        line-height: 16px;
        margin-bottom: 4px;
        text-align: start;
        user-select: none;
        width: 100%;
    }
    .irisButtonSubtitle {
        color: rgba(255, 255, 255, 0.54);
        font-size: 12px;
        line-height: 14px;
        text-align: start;
        user-select: none;
        white-space: normal;
    }
    .irisResponse {
        padding: 0px 12px;
        user-select:none;
    }
    .museumCard {
        color: #fff;
        opacity: 1;
        position: absolute;
        transition: opacity 0.2s;
    }
    .museumCard_hide {
        opacity: 0;
        transition: opacity 0.2s;
    }
    .museumCardCredits {
        color: rgba(255, 255, 255, 0.54);
        font-size: 13px;
        margin: 10px 0px 16px 0px;
        user-select: none;
    }
    .museumCardCreditsContainer {
        background: rgba(0,0,0,.77);
        border-bottom: 1px solid transparent;
        border-radius: 4px;
        font-family: inherit;
        font-size: 12px;
        font-weight: 400;
        margin-bottom: 10px;
        max-width: 384px;
        padding: 8px 4px;
    }
    .museumCardDivider {
        background-color: rgba(255, 255, 255, 0.54);
        height: 1px;
        margin: 4px 12px;
        width: 350px;
    }
    .museumCardIcon {
        display: inline;
        fill: #fff;
        font-size: 20px;
        height: 14px;
        position: relative;
        top: 1px;
        width: 20px;
    }
    .museumCardTextContainer {
        background: none;
        border: none;
        color: #fff;
        display: inline;
        height: auto;
        padding-left: 12px;
        padding-right: 12px;
        position: relative;
        text-decoration: none;
        width: auto;
    }
    .museumCardTextContainer:hover,
    .irisButton:hover {
        cursor: pointer;
    }
    .museumCardTitle {
        color: #fff;
        font-family: inherit;
        font-size: 20px;
        font-weight: 400;
        line-height: 24px;
        margin: 4px 0px;
        text-decoration: none;
        user-select: none;
    }
    .museumCardTitleAnchor:hover {
        cursor: pointer;
        text-decoration: underline;
    }
    .museumCardTitleContainer {
        padding: 0px 12px;
    }
    .overlay {
        background-attachment: fixed;
        background-image: radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%);
        background-position-y: top;
        background-repeat: no-repeat;
        background-size: cover;
        height: 100%;
        opacity: 1;
        position: absolute;
        top: 0;
        transition: opacity 0.3s linear;
        width: 100%;
    }
    .overlayTranslucent {
        background: #00000052;
        background-attachment: fixed;
        background-position-y: top;
        background-repeat: no-repeat;
        background-size: cover;
        height: 100%;
        opacity: 1;
        position: absolute;
        top: 0;
        transition: opacity 0.3s linear;
        width: 100%;
    }
    .overlay_hide {
        opacity: 0;
    }
    .picture {
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        height: 101%;
        margin: -1px 0px 0px -1px;
        object-fit: cover;
        padding: 0;
        position: absolute;
        width: 101%;
    }
    .resizeFadeInAnimation {
        animation: opacityFadeInAnimation 0.5s ease-in-out;
        animation-fill-mode: forwards;
    }
    .resizeFadeOutAnimation {
        animation: opacityFadeOutAnimation 0.02s linear;
        animation-fill-mode: forwards;
    }
    .secondaryButtonAnchor {
        color: #fff;
        text-decoration: none;
    }
    .secondaryButtonAnchor:hover {
        text-decoration: underline;
    }
    .scrollFadeInAnimation {
        animation: opacityFadeInAnimation 0.5s ease-in-out;
        animation-fill-mode: forwards;
    }
    .scrollFadeOutAnimation {
        animation: opacityFadeOutAnimation 0.5s ease-in-out;
        animation-fill-mode: forwards;
    }
    .toast {
        bottom: 32px;
        left: 50%;
        position: fixed;
        transform: translate(-50%, 0);
        width: fit-content;
        z-index: ${String(l.K.Over)};
    }
    .video {
        height: 100%;
        margin: 0;
        object-fit: cover;
        padding: 0;
        position: absolute;
        width: 100%;
    }
    .windowsBlur {
        background: rgba(255,255,255,.5);
        backdrop-filter: blur(10px);
        height: 100%;
        position: absolute;
        width: 100%;
        z-index: 1;
    }
`.withBehaviors(new Ae.O(Me,Le),(0,xe.Uu)(De)),Re={experienceConfigSchema:a}},75153:function(e,t,i){"use strict";i.d(t,{BA:function(){return A},Bs:function(){return I},Q6:function(){return S},l0:function(){return E},zZ:function(){return O}});var n=i(33940),r=i(53076),o=i(83227),s=i(19388),a=i(26415),c=i(92031),d=i(38156),l=i(65135),u=i(75559),g=i(60483),p=i(18536),h=i(33090),f=i(65337),m=i(58520),v=i(65932),b=i(82423),y=i(16414),C=i(76373);const S=800,w="DBRBDC",T="DBRBRE",k="DBRBACC",O="DBRB_TMPL",E=7;class I extends h.l{constructor(){super(...arguments),this.darkModeQuery=matchMedia("(prefers-color-scheme:dark)"),this.displayErrorMessage=!1,this.onResize=()=>{window.requestAnimationFrame((()=>this.checkAndApplyCompactMode()))},this.onStorageChangeDismiss=e=>{e.key===w&&this.setBannerState(!1)}}experienceConnected(){var e;return(0,n.mG)(this,void 0,void 0,(function*(){this.defaultBrowserReclaimDataConnector=(0,b.K0)(r.z.DefaultBrowserReclaimData),this.isBannerSuppressed()?this.setBannerState(!1):(this.populateTelemetryTags(),this.displayBanner=!0,this.setDefaultBrowserSuccessMockElement=this.createMockElement("EdgeDefaultReclaimSuccess"),this.setDefaultBrowserFailureMockElement=this.createMockElement("EdgeDefaultReclaimFailure"),this.checkAndApplyCompactMode(),this.darkMode=!!(null===(e=this.darkModeQuery)||void 0===e?void 0:e.matches),this.displayErrorMessage=!1,addEventListener("resize",this.onResize),this.darkModeQuery.addEventListener("change",(e=>{this.darkMode=!!(null==e?void 0:e.matches)}),!0),window.addEventListener("storage",this.onStorageChangeDismiss),this.autoDismissTimer=setTimeout((()=>{this.displayBanner&&this.dismiss()}),72e6),(0,v.Uo)(r.z.DefaultBrowserReclaimData,(e=>{this.displayBanner=e.isBannerDisplayed})),(0,s.o_)(o.x.defaultBrowserReclaimBanner,!0))}))}disconnectedCallback(){super.disconnectedCallback(),removeEventListener("resize",this.onResize),this.darkModeQuery.removeEventListener("change",(e=>{this.darkMode=!!(null==e?void 0:e.matches)})),window.removeEventListener("storage",this.onStorageChangeDismiss),this.autoDismissTimer&&clearTimeout(this.autoDismissTimer)}getExperienceType(){return o.x.defaultBrowserReclaimBanner}accept(){return(0,n.mG)(this,void 0,void 0,(function*(){this.hasClickedSetAsDefault=!0;(yield this.setEdgeAsDefaultBrowser())?this.updateAcceptedFlag():this.displayErrorMessage=!0,this.updateDismissCounter(),this.updateRenderTimestamp()}))}dismiss(){this.setBannerState(!1),this.displayErrorMessage=!1,this.hasClickedSetAsDefault||(this.updateDismissCounter(),this.updateRenderTimestamp())}static isSuppressedByRewardsCoachmarks(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield y.z.getRewardsFromDataConnector();return e&&e.has(C.be.SetEdgeAsDefault)}))}populateTelemetryTags(){this.telemetryObject&&(this.bannerContentViewTag=this.telemetryObject.addOrUpdateChild({name:"EdgeDefaultReclaim",content:{type:d.uH.Banner,headline:"EdgeDefaultReclaim"}}).getMetadataTag(),this.bannerSuccessMessageContentViewTag=this.telemetryObject.addOrUpdateChild({name:"EdgeDefaultReclaimSuccess",content:{type:d.uH.Banner,headline:"EdgeDefaultReclaimSuccess"}}).getMetadataTag(),this.bannerFailureMessageContentViewTag=this.telemetryObject.addOrUpdateChild({name:"EdgeDefaultReclaimFailure",content:{type:d.uH.Banner,headline:"EdgeDefaultReclaimFailure"}}).getMetadataTag(),this.acceptButtonTelemetryTag=this.telemetryObject.addOrUpdateChild({name:"setasdefault",action:d.Aw.Click,behavior:d.wu.Install,content:{type:d.uH.Banner,headline:"setasdefault"}}).getMetadataTag(),this.dismissNotNowButtonTelemetryTag=this.telemetryObject.addOrUpdateChild({name:"notnow",action:d.Aw.Click,behavior:d.wu.Close,content:{type:d.uH.Banner,headline:"notnow"}}).getMetadataTag(),this.dismissCloseButtonTelemetryTag=this.telemetryObject.addOrUpdateChild({name:"dismiss",action:d.Aw.Click,behavior:d.wu.Close,content:{type:d.uH.Banner,headline:"dismiss"}}).getMetadataTag())}createMockElement(e){const t=new g.D({name:`${e}`}),i=document.createElement("div"),n=document.createElement("div");return n.setAttribute("data-t",t.getMetadataTag()),i.appendChild(n),p.u.addElement(n),i}setEdgeAsDefaultBrowser(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield(0,c.js)()();if(e.actionCompleted)return l.M.sendContentViewEvent(this.setDefaultBrowserSuccessMockElement,u.NS.Partial,!1),!0;{const t=(null==e?void 0:e.status)?" "+e.status:"";return l.M.sendContentViewEvent(this.setDefaultBrowserFailureMockElement,u.NS.Partial,!1),l.M.sendAppErrorEvent(Object.assign(Object.assign({},a.WQV),{message:`Exception executing window.chrome.shellIntegrationPrivate.setDefaultBrowser chromium API to set default browser to Edge.${t}`})),!1}}))}updateAcceptedFlag(){(0,f.$o)().setItem(k,"1")}isBannerSuppressed(){const e=(0,f.$o)().getItem(T),t=Number.parseInt((0,f.$o)().getItem(w)),i=!e||e<Date.now().toString();return t>=3||!i||"1"===(0,f.$o)().getItem(k)}updateDismissCounter(){const e=(0,f.$o)().getItem(w);let t=e?+e:0;t++,(0,f.$o)().setItem(w,t.toString())}updateRenderTimestamp(){const e=new Date;(0,f.$o)().setItem(T,e.setDate(e.getDate()+E).toString())}setBannerState(e){var t;this.displayBanner=e,null===(t=this.defaultBrowserReclaimDataConnector)||void 0===t||t.updateBannerDisplayState(e),this.defaultBrowserReclaimDataConnector||l.M.sendAppErrorEvent(Object.assign(Object.assign({},a.hJr),{message:"DefaultBrowserReclaimDataConnector is not initialized"}))}checkAndApplyCompactMode(){innerWidth<S&&this.setBannerState(!1)}}(0,n.gn)([m.LO],I.prototype,"displayBanner",void 0),(0,n.gn)([m.LO],I.prototype,"darkMode",void 0),(0,n.gn)([m.LO],I.prototype,"hasClickedSetAsDefault",void 0),(0,n.gn)([m.LO],I.prototype,"displayErrorMessage",void 0);class A{static markForPersistentTmpl(){(0,f.$o)().setItem(O,"1")}static isMarkedForPersistentTmpl(){return"1"===(0,f.$o)().getItem(O)}static checkAndStampTmpl(){this.isMarkedForPersistentTmpl()||(this.markForPersistentTmpl(),l.M.addOrUpdateTmplProperty("DefaultBrowserReclaimBannerDisplay","1"))}}},49273:function(e,t,i){"use strict";i.r(t),i.d(t,{EdgeChromiumPageWC:function(){return mt},EdgeChromiumPageWCStyles:function(){return Vt},EdgeChromiumPageWCTemplate:function(){return Mt},ToolingInfo:function(){return Gt}});var n=i(84289),r=i(12090),o=i(55492),s=i(64690),a=i(84925),c=i(12517),d=i(83227);const l=(0,n.ii)("TopSitesCollapsibleControlConfig","top site is collapsed, related control configs","related control configs for collaosible top site",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,n.JJ)("collapsibleControlIsDefaultCollapsed","collapsible Control Is Default Collapsed","collapsible Control is default collapsed")),(0,n.JJ)("collapseForDefaultInformational","collapse For Default Informational","collapse For Default Informational")),(0,n.JJ)("showCollapsibleControl","show Collapsible Control","Flag to represent when the collapsible control is shown")),(0,n.JJ)("scrollDownTopSiteInfDhp","scroll Down TopSite Information and Dhp","Flag to scroll down page and hide top site in Informational and DHP")),(0,n.JJ)("scrollDownTopSiteInf","scroll Down TopSite Information","Flag to scroll down page and hide top site in Informational"))),u=(0,n.ii)("childRefs","Child experience references","Child experience references",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,r._)("backgroundImage","backgroundImage")),(0,o.nw)((0,r._)("bingHealth","bingHealth"))),(0,o.nw)((0,r._)("breakingNews","breakingNews"))),(0,r._)("cardAction","cardAction")),(0,r._)("coachmark","coachmark")),(0,o.nw)((0,r._)("conditionalBanner","conditionalBanner"))),(0,o.nw)((0,r._)("dailyBrief","dailyBrief"))),(0,o.nw)((0,r._)("msRewards","msRewards"))),(0,o.nw)((0,r._)("outlookEmailPreview","outlookEmailPreview"))),(0,o.nw)((0,r._)("notificationBell","notificationBell"))),(0,o.nw)((0,r._)("personalizeNavButton","personalizeNavButton"))),(0,r._)("pivotContent","pivotContent")),(0,o.nw)((0,r._)("pivotsNav","pivotsNav"))),(0,o.nw)((0,r._)("recommendedSites","recommendedSites"))),(0,r._)("search","search")),(0,o.nw)((0,r._)("searchHistory","searchHistory"))),(0,o.nw)((0,r._)("settings","settings"))),(0,o.nw)((0,r._)("shoppingSmartList","shoppingSmartList"))),(0,r._)("topSites","topSites")),(0,o.nw)((0,r._)("waffle","waffle"))),(0,o.nw)((0,r._)("welcomeGreeting","welcomeGreeting"))),(0,o.nw)((0,r._)("feedback","feedback"))),(0,o.nw)((0,r._)("holidayEffects","holidayEffects")))),g=(0,s.e)(d.x.edgeChromiumPageWC,"A sample Peregrine Web Component experience",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u),(0,n.ii)("complianceHyperlink","compliance Hyper link","The compliance link to be displayed on page.",Object.assign(Object.assign({},(0,a.sz)("text","The text of the link")),(0,a.sz)("url","The link destination")),["text","url"])),(0,n.JJ)("feedToggleDropdownEnabled","Feed toggle dropdown")),(0,n.JJ)("showTransparentShScrolldown","Boolean Value to indicate if search history can be transparent when users scroll down page")),(0,n.ii)("serviceWorker","Service Worker","Configuration settings for the service worker associated with this page",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,a.sz)("enabled","Enabled","Service worker support flag. Set this to false for unsupported app-types")),(0,a.sz)("registrationEnabled","Registration Enabled","Set to true to enable registration of the service worker")),(0,a.sz)("unregistrationEnabled","UnRegistration Enabled","Set to true to run un-registration code for service worker. Make sure registration is set to false.")),(0,a.sz)("mobileEnabled","Mobile Enabled","Set to true to register serviceWorker on a mobile Device.")),(0,n.JJ)("cacheAndNetworkRaceEnabled","Cache and Network Race Enabled","Set to true to enable cacheAndNetworkRace strategy for navigation route")),(0,a.sz)("bundlesOverride","Bundles Override","Bundle override value. For example, if set to 'staging' SW script will be called with ?bundles=staging param")),(0,n.iF)("unsupportedBrowsers","Unsupported Browsers","List of unsupported browsers",(0,a.NG)("Browser","Browser"))),(0,n.G)("riverAgeMinutes","Caching time for the SW River feed","")))),(0,a.sz)("topLeftDisplayMode","Top left display mode","Top left display mode",["none","logo","greeting"])),(0,n.JJ)("twoRowsOfTopSites","Two rows of top sites")),(0,n.JJ)("companyLogo","Boolean Value to indicate if company logo should be shown")),(0,a.sz)("searchBoxOverlayOpacity","Opacity of search box overlay")),l),(0,c.u)({})),(0,n.JJ)("enableNavGap8px","Enable 8px gap in nav bar","Enable 8px gap in nav bar if true")),(0,n.JJ)("enableOneColumn","Enable one column")),(0,n.JJ)("autoHideQuickLinksInAlways","Auto hide quick links in always layout")),(0,n.JJ)("hideRecommendedSitesInHeadingsOnly","Hide recommended sites in headings only")),(0,n.G)("zoomRatio","zoom river ratio")),(0,n.ii)("translucentFeed","Translucent Feed","Translucent feed properties",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,a.sz)("color","color","Color value for feed background")),(0,n.JJ)("disableSticky","Disable Sticky","Flag that defines if header should scroll away with the page by disabling sticky behavior")),(0,a.sz)("wholePageColor","Whole Page Color","Color value for whole page background")),(0,n.JJ)("wholePageOpacity","Whole Page Opacity","Flag that defines if opacity should be applied to th whole page, not just feed")),(0,n.JJ)("windowsBlur","Windows Blur","Flag that defines if we should use windows blur design")))),(0,n.JJ)("enableNewsbarToggleStartPosition","Enables header start position styling for NewsbarToggle")),(0,n.JJ)("enableNewsbarToggleEndPosition","Enables header end position styling for NewsbarToggle")),(0,n.JJ)("enableNewsbarToggleSearchPosition","Enables search position styling for NewsbarToggle")),(0,n.G)("zoomRatio","zoom river ratio")),(0,n.G)("linearZoomRatio","linear zoom river ratio")),(0,n.JJ)("useEnterpriseCompliance","Use Enterprise Compliance","Flag to indicate whether to make enterprise compliant requests. eg. pass aad token")),(0,n.JJ)("enableWpoRecommendSitesConfigMerge","Enable merge WPO recommend sites config together")),(0,n.JJ)("adminDisableableNotifications","Admin Disableable Notifications","Whether or not the notification settings can be disabled when admins disable the news feed")));var p,h=i(33940),f=i(33090),m=i(76858),v=i(58520),b=i(53076),y=i(12108),C=i(82890),S=i(1103),w=i(58155),T=i(54804),k=i(65974),O=i(26415),E=i(65135),I=i(75559),A=i(38156);let P;!function(e){e.topStories="topstory",e.breakingNews="breakingnews",e.socialReplies="socialreplies",e.socialReactions="socialreactions",e.socialFollowers="socialfollowers",e.socialAchievements="socialachievements",e.socialAlerts="socialalerts"}(p||(p={}));class x{constructor(e){this.resolvePushNotificationsSubscription=(e,t,i,n,r,o,s)=>(0,h.mG)(this,void 0,void 0,(function*(){const a=yield this.swRegistration.pushManager.getSubscription();if("denied"===Notification.permission)return;if(o.size<1&&(!a||"granted"!==Notification.permission))return;if(a)return void x.updateSubscriptions(a,e,o);let c="granted"===Notification.permission;const d=c;let l="";const{defaultNotification:u,defaultNotificationPromptAllow:g,defaultNotificationPromptBlock:p,defaultNotificationPromptDefault:f}=x.buildDefaultNotificationPermissionPromptTelemetryElement(s);if(!c){let e;switch(E.M.sendContentViewEvent(u,I.NS.View),l=yield Notification.requestPermission(),l){case"granted":e=g,c=!0;break;case"denied":e=p;break;default:e=f}E.M.sendActionEvent(e,A.Aw.Click,A.wu.Undefined)}if(!c)return;if(fetch(e+"/webpush/key").then((t=>(0,h.mG)(this,void 0,void 0,(function*(){if(t.ok){const i=yield this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x.urlB64ToUint8Array((yield t.json()).key)});x.updateSubscriptions(i,e,o)}else E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.UVO.FetchKeyError),{message:"Error fetching key for subscribing to push notifications endpoint",pb:Object.assign(Object.assign({},O.UVO.FetchKeyError.pb),{customMessage:`HTTP Status: ${t.status}`})}))})))),!d){const e={body:i,tag:"web-notification",icon:r,data:{url:w.c.getAbsoluteUrl(n)}};T.Al.ClientSettings.browser.browserType===k.A.Edge?this.swRegistration.showNotification(t,e):new Notification(t,e)}})),this.swRegistration=e}static getInstance(){return P}static initializePushSubscriptionManager(e){"string"==typeof e?this.initializeFromScope(e):this.initializeFromRegistration(e)}static initializeFromRegistration(e){P=new x(e)}static initializeFromScope(e){return(0,h.mG)(this,void 0,void 0,(function*(){yield navigator.serviceWorker.ready,x.initializePushSubscriptionManager(yield navigator.serviceWorker.getRegistration(e))}))}static urlB64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=atob(t),n=new Uint8Array(i.length);for(let e=0;e<i.length;++e)n[e]=i.charCodeAt(e);return n}static addTelemetryTagsToElement(e,t,i){const n={name:i},r=t?t.addOrUpdateChild(n):null,o=r.render();return Object.keys(o).forEach((t=>{e.setAttribute(t,o[t])})),r}static buildDefaultNotificationPermissionPromptTelemetryElement(e){const t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div");t.appendChild(i),t.appendChild(n),t.appendChild(r);const o=x.addTelemetryTagsToElement(t,e,"browserNativeNotificationPermissionPrompt");return x.addTelemetryTagsToElement(i,o,"Accept"),x.addTelemetryTagsToElement(n,o,"Block"),x.addTelemetryTagsToElement(r,o,"Default"),{defaultNotification:t,defaultNotificationPromptAllow:i,defaultNotificationPromptBlock:n,defaultNotificationPromptDefault:r}}static updateSubscriptions(e,t,i){return(0,h.mG)(this,void 0,void 0,(function*(){const n=Object.values(p).filter((e=>!i.has(e)));[{segment:"subscribe",tags:[...i]},{segment:"unsubscribe",tags:n}].forEach((i=>(0,h.mG)(this,void 0,void 0,(function*(){if(i.tags.length<1)return;const n=i.tags.join(";"),r=t+"/webpush/news/"+T.Al.Locale+"/v1/webpush/"+i.segment+"?scn=MSNRPSAuth",o=yield fetch(r,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Tags:n},body:JSON.stringify({subscription:e})});o.ok?o.json().then((e=>{"Success"!==e.message&&E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.UVO.SubscribeUnsubscribeError),{message:"Response contained unexpected value when subscribing or unsubscribing from push notifications endpoint",pb:Object.assign(Object.assign({},O.UVO.SubscribeUnsubscribeError.pb),{customMessage:`Expected response message to be 'Success' but instead was ${e.message} when receiving response from endpoint at ${r}`})}))})):E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.UVO.SubscribeUnsubscribeError),{message:"HTTP error when making subscribe or unsubscribe call from push notifications endpoint",pb:Object.assign(Object.assign({},O.UVO.SubscribeUnsubscribeError.pb),{customMessage:`Response status was ${o.status} when attempting to communicate with the endpoint at ${r}`})}))}))))}))}}var M=i(75153),L=i(61810),D=i(13151),F=i(65932),R=i(41691),N=i(7009),j=i(17587),B=i(53899),$=i(91608),H=i(35385),U=i(14989),W=i(88828),_=i(59294),z=i(87538),V=i(41115),G=i(65337),q=i(1334),Z=i(64434),Q=i(33379),K=i(85663);let J=!1,X=!1;function Y(){!J&&document.hidden&&(X=!0)}function ee(){return X}(0,Q.N)()&&(window.addEventListener&&window.addEventListener("beforeunload",(function(){J=!0})),(0,K.isNullOrUndefined)(document.hidden)||document.addEventListener("visibilitychange",Y),Y());var te=i(66588),ie=i(32181),ne=i(66213),re=i(970),oe=i(82423),se=i(19388),ae=i(22704),ce=i(62676),de=i(4734),le=i(34955),ue=i(98864),ge=i(75192),pe=i(33768),he=i(41710),fe=i(93450);var me=i(68364);function ve(e,t,i){void 0!==t.transferSize?e[i+"Cached"]=0===t.transferSize||300===t.transferSize?1:0:void 0!==t.nextHopProtocol&&(e[i+"Cached"]=""===t.nextHopProtocol?1:0)}function be(e){window.windowsPerfMarker&&window.windowsPerfMarker(e)}var ye=i(53301),Ce=i(48799),Se=i(94788),we=i(6719),Te=i(56698),ke=i(70785),Oe=i(27016),Ee=i(63158);function Ie(e,t){let i;const n=t?(0,ae.Y9)():Object.assign({},(0,ae.Ou)());n&&(i=Object.keys(n).length?n:0,i&&function n(){try{if(E.M&&E.M.getPageMetadata()){E.M.sendLoadTimeEvent({markers:i});const e=(0,ae.Ou)();e&&t&&(e.telemetryBeaconFireTime=performance.now())}else e.setTimeout(n,500)}catch(e){E.M&&E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.IU$),{message:"Unable to send load time event"}))}}())}var Ae=i(2312);function Pe(e,t,i){if(!(0,Q.N)())return;const n=(0,de.S0)();if(n&&t===se.oN.Primary&&ye.g.updateAboveTheFoldVisuallyReady.getActionSender(n).send(performance.now()),ee())return void e([]);let r=[];const o=t===se.oN.Primary,s=o?O.LwW:O.Nxj;r=o?(0,se.bP)():(0,se.gh)();const a=(0,se.bO)(t);let c=", Visual dependency callback was unavailable";if(i){const e=i();c=e.length?`, Incomplete visual dependencies: ${JSON.stringify(e)}`:", No pending visual dependencies"}(0,me.H)(s,"Missing perf markers",`Missing perf markers: ${JSON.stringify(a)}${c}`);const d=(0,se.OZ)();d&&o&&a.includes(`TTVR.${d}`)&&(0,me.H)(O.MmB,"Expected feed timed out while loading",`Expected feed timed out while loading: ${d}`),window.renderCacheEnabled&&o&&(0,Ee.cB)(),e(r)}function xe(e){return(0,h.mG)(this,void 0,void 0,(function*(){const t=(0,ae.Ou)();if(performance&&performance.timing&&performance.timing.responseStart&&performance.timing.navigationStart&&performance.timing.domContentLoadedEventStart){const{domComplete:e,loadEventStart:i,navigationStart:n,responseStart:r}=performance.timing;t.timeToFirstByte=r-n,t.timeToDomComplete=e-n,t.timeToOnLoad=Math.max(i-n,0),function(e){e.buildVer=parseFloat(ne.jG.BuildVersion)||-1}(t),function(e){if(performance.getEntriesByType){const t=performance.getEntriesByType("paint").filter((e=>"first-contentful-paint"===e.name));t.length>0&&(e.FCP=Math.round(t[0].startTime))}}(t),function(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("navigation");if(t&&t.length){const i=t[0];i&&ve(e,i,"html")}}}(t),function(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("resource").filter((e=>"script"===e.initiatorType)),i=["vendors","microsoft","common","experience"];for(const n of i){const i=t.find((e=>e.name.indexOf(n)>=0));i&&ve(e,i,n+"JS")}}}(t),function(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("resource");if(t&&t.length){const i=t.find((e=>e.name.indexOf("/Feed/me")>=0));i&&ve(e,i,"feed")}}}(t),function(e){if(e&&performance.getEntriesByType){const t=performance.getEntriesByType("navigation");if(t.length){const i=t[0],n="useragent_launch";"type"in i&&(e.isBrowserLaunch=i.type===n?1:0)}}}(t)}!function(e){if(!(0,Q.N)()||!e)return;const t=navigator;if(t.connection){const i=t.connection;"rtt"in i&&(e.rtt=i.rtt),"downlink"in i&&(e.downlink=i.downlink)}"hardwareConcurrency"in navigator&&(e.hardwareConcurrency=navigator.hardwareConcurrency)}(t),function(e){e&&(e.isIDBSupported=window.indexedDB?1:0,e.isSWSupported=window.navigator.serviceWorker?1:0,e.isWWPresent=window._isWebWorkerPresent?1:0)}(t);for(const i of e){const e=i[0];t[e]||(t[e]=i[1])}const i=t[we.dd];i&&(be(we.jh),be(we.H$),(0,Te.Eu)(i),function(e){if(performance&&performance.getEntriesByType&&e&&e[ce.MV]){const t=performance.getEntriesByType("navigation");if(t.length){const i=t[0];let n=0,r=0;ce.pJ in i&&ce.fR in i&&(n=i[ce.pJ],r=i[ce.fR]),n<0&&r<0&&(e["TTVR."+ce.IP]=Math.round(e[ce.MV]-n),e["TTVR."+ce.Hm]=Math.round(e[ce.MV]-r))}}}(t)),Ce.U.getConfigTimings(t),(0,Oe.J)(t),t.wasBrowserHiddenAtLeastOnce=ee(),Promise.all([(0,ke.o)(),(0,Ae.lr)()]).then((()=>{(0,Te.fv)(t),Ie(window)})),Ce.U.refreshConfigCache().then((()=>{!function(){const e=Ce.U.getResolverErrors();e&&e.length>0&&e.forEach((e=>{E.M.sendAppErrorEvent(e)}))}()})),(0,Se.mS)({id:"PostTtvr",type:"command"})}))}function Me(e){if(!(0,Q.N)())return;if(e=e||{},T.Al.IsPrerender){(0,ae.Y9)()[we.C7]=1}let t=!1;const i=setTimeout((()=>{t=!0,Pe(n,se.oN.Secondary,e.incompleteVisualDependencyCallback)}),e.timeoutOverride||2e4);function n(e){return(0,h.mG)(this,void 0,void 0,(function*(){i&&clearTimeout(i),function(e){(0,h.mG)(this,void 0,void 0,(function*(){const t=(0,ae.Ou)(),i=(0,ae.Y9)();if((e=e.filter((e=>!(e[0]in t)))).forEach((e=>{const n=e[0];n in t||(i[n]=e[1],t[n]=e[1])})),Se.yb){const e=yield(0,Se.ot)({id:"perfmarkers"},4e3);if(e&&e.fetched){const n=e.payload;n&&n["WW.MyFeed"]&&(n[C.p.feedRequest]=n["WW.MyFeed"]),Object.assign(i,e.payload),Object.assign(t,e.payload)}}Promise.all([(0,ke.o)(),(0,Ae.lr)()]).then((()=>{Ie(window,!0)}))}))}(e)}))}(0,se.e3)().then((e=>{t||n(e)}))}var Le=i(9533),De=i(81555),Fe=i(23344),Re=i(49278),Ne=i(36934);let je=!1;function Be(){$e()}const $e=(0,Ne.Z)((()=>_e(!1)),300),He=new Set;class Ue{constructor(e,t){this.target=e,this.options=t}bind(){je||(addEventListener("resize",Be),je=!0),this.initialCalc(),He.add(this)}unbind(){He.delete(this)}initialCalc(){return(0,h.mG)(this,void 0,void 0,(function*(){yield(0,de.F_)(),this.recalculate(!1)}))}recalculate(e){return(0,h.mG)(this,void 0,void 0,(function*(){yield(0,m.y)();const t=this.target;if("fixed"!==t.style.position&&t.offsetWidth>0&&t.offsetHeight>0){const i={top:t.offsetTop,left:t.offsetLeft};if(e&&this.lastPosition){const e=this.lastPosition.left-i.left,n=this.lastPosition.top-i.top;if(e||n){const i=`translate(${e}px, ${n}px)`;t.style.transform=i,requestAnimationFrame((()=>{const e="transform .3s ease-out",i=t.style.transition;t.style.transition=i?i+", "+e:e,t.style.transform="translate(0, 0)",setTimeout((()=>{t.style.transition=i,t.style.transform=null}),300)}))}}this.lastPosition=i}}))}}function We(){return new Re.ON("animateOnMove",Ue,{})}function _e(e){for(const t of He.values())t.recalculate(e)}var ze=i(73231);const Ve="background",Ge="pivot",qe="search",Ze="solidHeader",Qe={name:"PromoInformationalCoachmark",coachmarkSource:ze.jX.Experience,displayDismissX:"true",displayType:ze.dm.Small,headline:"The new Microsoft Edge is here",leadText:"And with the Informational layout, you’re getting the latest news from the world's best journalists. You can always change it later in Page Settings.",pointerPlacement:ze.M_.Opposite,position:ze.ur.Below,targetElement:"SettingsButton",timeoutMilliseconds:1e4,ctaList:[void 0,{ctaButtonText:"Got it",ctaType:"dismiss"}]};var Ke=i(37802);let Je=!1;function Xe(){window.pageYOffset>0&&Ye()}function Ye(){const e=(0,de.S0)();e&&ye.g.updateBelowTheFoldTransitionStart.getActionSender(e).send(!0),Je=!0,window.removeEventListener("scroll",Xe)}const et={initialize:function(){window.addEventListener("scroll",Xe,{passive:!0})},handleSettingUpdate:function(e){Je||"always"!==e&&"headingsonly"!==e&&"peek"!==e||Ye()}};var tt=i(62661),it=i(37574),nt=i(32717),rt=i(55027),ot=i(32758),st=i(26007),at=i(37271),ct=i(96292);const dt="signInButtonSeen",lt="signInBannerSeen",ut="signInFlyoutSeen";function gt(){return(0,h.mG)(this,void 0,void 0,(function*(){const e=yield Ce.U.getConfig({experienceType:"EdgeChromiumPageWC",instanceSrc:"default"}),t=(e&&e.properties,[]);null!==(0,G.$o)().getItem(dt)&&t.push("SignInButtonDisplay"),null!==(0,G.$o)().getItem(lt)&&t.push("SignInBannerDisplay"),null!==(0,G.$o)().getItem(ut)&&t.push("SignInFlyoutDisplay"),t.forEach((e=>{E.M.addOrUpdateTmplProperty(e,"1")}))}))}var pt=i(52144),ht=i(72344);const ft=300;class mt extends f.l{constructor(){super(...arguments),this.showGreeting=!0,this.showRewards=!0,this.showNewsbarToggle=!1,this.showFeedTranslucent=!0,this.enableHiddenRecommendedSitesStyles=!1,this.hideComplianceLink=!1,this.showSearchBoxOverlay=!1,this.className="",this.disableStickyHeader=!1,this.canaryFlightEnabled=!1,this.holidayEffectsPosition="display: none;",this.isZoomedLinear=!1,this.isNotificationEnabledByAdmin=!0,this.hideQuickLinks=!1,this.museumCardShown=!1,this.scrollIsPastStyleThreshold=!0,this.showTopsitesWithRecommendSites=!1,this.enableWinHPCustomBackButtonBehaviorQsp=!1,this.initializeRecommendedSites=()=>{if(this.childRefs.recommendedSites&&this.config.hideRecommendedSitesInHeadingsOnly)if("headingsonly"===this.layoutState.selectedFeedDisplaySetting){const e=this.recommendedSitesHeight/100;this.complianceHyperlink&&(this.complianceHyperlink.style.bottom="12px"),this.recommendedSites||((0,Le.FY)(De._.recommendedSites,this.shadowRoot.querySelector("#recommendedSites")),this.recommendedSites=(0,Le.b_)(De._.recommendedSites)),this.recommendedSites.style.opacity=`${Math.min(1,scrollY*e/this.recommendedSitesHeight)}`,0===scrollY?this.recommendedSites.style.visibility="hidden":this.recommendedSites.style.visibility="visible",0===scrollY?this.enableHiddenRecommendedSitesStyles=!0:this.enableHiddenRecommendedSitesStyles=!1}else this.complianceHyperlink&&(this.complianceHyperlink.style.bottom="12px"),this.recommendedSites&&(this.recommendedSites.style.opacity="1",this.recommendedSites.style.visibility="visible"),this.enableHiddenRecommendedSitesStyles=!1},this.leftRailToggle=e=>{(null==e?void 0:e.detail)&&(this.enableLeftRail=null==e?void 0:e.detail.enabled)},this.sideBarToggle=e=>{(null==e?void 0:e.detail)&&(this.enableSideBar=null==e?void 0:e.detail.enabled)},this.displayQuickLinks=()=>{this.hideQuickLinks=!1,this.calculateStickyBreakpoints(),this.topSitesHolder.style.visibility="",this.refreshHeaderHeight(),window.removeEventListener("wheel",this.quickLinksToggle),this.config.enableHorizontalNav&&setTimeout((()=>this.computeFeedToggleAttributes()),300)},this.quickLinksToggle=e=>{if("always"!==this.layoutState.selectedFeedDisplaySetting)return;const{selectedQuickLinksDisplaySetting:t}=this.layoutState;if(![B.Z3.onerow,B.Z3.tworows].includes(t))return;0===(document.documentElement?document.documentElement:document.body).scrollTop&&e.deltaY<0&&this.hideQuickLinks&&this.displayQuickLinks()},this.scrollToShowFeed=()=>{const e=(0,Fe.Nu)("top"),t=this.disableStickyHeader?e+$.FQ:e;t&&window.scrollTo({top:t,behavior:"smooth"})},this.topSitesIntersectionObserverCallback=e=>{if(this.topSitesHolder&&(!this.layoutState.quickLinksEnabled||"off"===this.layoutState.selectedQuickLinksDisplaySetting))return this.topSitesHolder.style.opacity="0",void(this.topSitesHolder.style.visibility="hidden");const t=e[e.length-1];let i,n;if(t.intersectionRatio<=.9){const e=0!==this.topSitesHolder.clientHeight?this.topSitesHolder.clientHeight-t.intersectionRect.height:44;e>40&&this.isTwoOrThreeColumnArrangement?(i="0",n="none",this.updateHeaderGrid(),this.refreshHeaderHeight(),this.calculateTopAndBackgroundStickyBreakpoints()):e>40?(i="0",n="none"):(i=(40-e)/40+"",n="")}else i="1",n="";this.topSitesHolder.style.opacity=i,this.topSitesHolder.style.pointerEvents=n,this.updateTopSitesVisibility()},this.updateTopSitesVisibility=()=>{var e;const{layoutState:t}=this;let i=(null===(e=this.shadowRoot.getElementById("g_nav"))||void 0===e?void 0:e.clientHeight)||0;["always","off"].includes(t.selectedFeedDisplaySetting)&&(i=0);let n=115;const r=this.shadowRoot.getElementById("topSitesHolder");t.imageOfTheDayEnabled||(n=Math.max(r.getBoundingClientRect().top,n));let o=r.clientHeight+i+n+this.recommendedSitesHeight;this.columnArrangement<"c4"&&this.columnArrangement>"c1"&&(o+=50),innerHeight<o?(r.classList.add("topSitesZoomHidden"),this.showTopsitesWithRecommendSites=!1):(r.classList.remove("topSitesZoomHidden"),this.recommendedSitesHeight&&(this.showTopsitesWithRecommendSites=!0))},this.updateTopSitesVisibilityDebounced=(0,Ne.Z)(this.updateTopSitesVisibility,ft),this.onResize=()=>{this.refreshHeaderHeight(),this.refreshImageHeight(),this.calculateStickyBreakpointsDebounced(),this.checkTopEndCornerFitOnPage(),this.pageSettingsDataConnector.getUpdatedPeekHeight(),this.updateTopSitesVisibilityDebounced(),this.config.companyLogo&&this.updateCompanyLogoStatus(),this.config.enableHorizontalNav&&this.computeFeedToggleAttributes(),this.config.enableSignInControl&&this.checkSignInControlPageFit(),this.config.enableLocationMarker?this.checkLocationGreeting(100):this.config.enableLocationUnder&&this.checkLocationGreeting(0)},this.shouldShowNewsbarToggle=()=>this.config.enableNewsbarToggleStartPosition&&!this.edgeLiteLowModuleModeEnabled&&!this.config.logoOnLeft&&innerWidth>1700&&this.columnArrangement>U.K$.c4||!this.config.enableNewsbarToggleStartPosition&&this.columnArrangement>U.K$.c3,this.onScroll=()=>{const e=scrollY<100;e!=this.scrollIsPastStyleThreshold&&(this.scrollIsPastStyleThreshold=e,this.refreshTranslucentMode()),this.navIsSticky=scrollY>$.FT;const t=scrollY>$.FT-this.recommendedSitesHeight;this.config.translucentFeed&&this.layoutState.currentBackgroundImageType!==B.HX.off&&(t&&!this.config.translucentFeed.disableSticky?(0,V.j3)("backgroundImage","hidden"):(0,V.j3)("backgroundImage","displayed"),this.navIsSticky&&!this.config.translucentFeed.disableSticky?(0,V.j3)("navBar","normal"):(0,V.j3)("navBar","translucentBackground")),this.config.complianceHyperlink&&this.updateComplianceLinkStyleOnScroll(),this.config.enableHorizontalNav&&this.computeFeedToggleAttributes(),this.childRefs.newsbarToggle&&(this.showNewsbarToggle=this.shouldShowNewsbarToggle())},this.throttledOnScroll=()=>{this.initializeRecommendedSites()},this.updateComplianceLinkStyleOnScroll=()=>{const e=scrollY>0;e!==this.hideComplianceLink&&(this.hideComplianceLink=e,this.hideComplianceLink?this.complianceHyperlink&&this.complianceHyperlink.classList.add("complianceHyperlink_hide"):this.complianceHyperlink&&this.complianceHyperlink.classList.remove("complianceHyperlink_hide"))},this.calculateStickyBreakpointsDebounced=(0,Ne.Z)(this.calculateStickyBreakpoints,ft),this.getCompanyLogoFromLocalStorage=()=>{const e=(0,G.$o)().supported&&(0,G.$o)().getObject("companyLogo",null);if(!e||!e.default_logo)return"";return!this.layoutState.imageOfTheDayEnabled||!e.light_logo?e.default_logo||"":e.light_logo||""},this.onFlyoutEvent=(e,t)=>{let i;switch(e){case q.tk.settings:case q.tk.msRewards:case q.tk.notificationBell:case q.tk.signInControl:i=this.topEndCorner;break;case q.tk.search:case q.tk.imageSearch:case q.tk.voiceSearchWC:case q.tk.searchHistoryMoreOptions:i=this.searchHolder;break;case q.tk.addTopSite:case q.tk.editTopSite:case q.tk.toast:i=this.topSitesHolder;break;case q.tk.waffle:i=this.shadowRoot.getElementById("waffleHolder");break;case q.tk.museumCard:this.museumCardShown=t;break;case q.tk.editWelcomeGreeting:case q.tk.editLocationMarker:i=this.shadowRoot.getElementById("welcomeGreetingHolder"),this.config.addBrandLogo&&(i=this.topEndCorner)}if(i&&(i.style.zIndex=t?Z.K.Flyout.toString():Z.K.Nav.toString()+1),e===q.tk.searchHistoryMoreOptions){const e=this.shadowRoot.getElementById("c_srch_hist");e&&e.style&&(e.style.zIndex=t?Z.K.Flyout.toString():(Z.K.Over+4).toString())}if(e===q.tk.hamburgerMenu&&this.enableLeftRail){const e=this.shadowRoot.getElementById("leftRailHolder");(null==e?void 0:e.style)&&(e.style.zIndex=t?"0":"")}if(e===q.tk.actionMenuOpen){const e=this.shadowRoot.getElementById("g_nav");(null==e?void 0:e.style)&&(e.style.zIndex=t?"0":"")}},this.toggleSearchBoxOverlay=(e=!1,t=!1)=>(0,h.mG)(this,void 0,void 0,(function*(){const{searchBoxOverlayOpacity:i}=this.config;if(e){this.showSearchBoxOverlay=!0,yield(0,m.y)();const e=this.shadowRoot.getElementById("searchBoxOverlay");(null==e?void 0:e.style)&&(e.style.opacity=i)}else{const e=this.shadowRoot.getElementById("searchBoxOverlay");(null==e?void 0:e.style)&&(e.style.opacity=null),t?this.showSearchBoxOverlay=!1:setTimeout((()=>this.showSearchBoxOverlay=!1),200)}})),this.switchListenerCallback=e=>{e.oldSelection&&this.scrollToShowFeed()}}get recommendedSitesHeight(){if(!this.childRefs.recommendedSites)return 0;switch(this.columnArrangement){case"c5":case"c4":return 154;case"c3":return 191;case"c2":return 265;case"c1":return 487;default:return 80}}experienceConnected(){var e,t,i,n,r,o,s,a,c,d;return(0,h.mG)(this,void 0,void 0,(function*(){if(this.config.enableWpoTopSitesConfigOverride){const e=(0,pe.R)(this.config.enableWpoRecommendSitesConfigMerge);e&&(this.config.topSitesCollapsibleControlConfig=e)}this.childRefs=this.config.childRefs,this.pageSettingsDataConnector=(0,oe.K0)(b.z.ChromiumPageSettings),this.topSitesLayoutDataConnector=(0,oe.K0)(b.z.TopSitesLayoutData),this.signInDataConnector=(0,oe.K0)(b.z.SignInData),this.initializeDevTools();const l=(0,L.b)(2);(0,D.Z)("./ntp/service-worker.js",this.config.serviceWorker,l,!1,(()=>(0,h.mG)(this,void 0,void 0,(function*(){x.initializePushSubscriptionManager(l)})))),this.reportPerfMarkers(),function(e){if(!e.useEnterpriseCompliance)return;const t=fe._.getInstance().rootReducer.connector(b.z.SharedState),i=he.s.useEnterpriseCompliance.getActionSender(t);i&&i.send(!0)}(this.config),(0,se.b1)().then((()=>{ee()?T.Al.IsPrerender&&(0,Ae.lr)().then((()=>{le.H.logEvent(le.v.NTP_VISUALLY_READY)})):le.H.logEvent(le.v.NTP_VISUALLY_READY)})),(0,q.WW)(this.onFlyoutEvent),this.columnArrangement=(0,W.Bn)().currentColumnArrangement,this.isTwoOrThreeColumnArrangement=this.columnArrangement<=U.K$.c3&&this.config.noOverlapStyle,this.enableOneColumn=this.config.enableOneColumn&&"c1"===this.columnArrangement,(0,W.Bn)().subscribe((e=>{this.columnArrangement=e,this.enableOneColumn=this.config.enableOneColumn&&"c1"===this.columnArrangement,this.isTwoOrThreeColumnArrangement=e<=U.K$.c3&&this.config.noOverlapStyle,this.updateHeaderGrid();this.shadowRoot.querySelector("background-image").recommendedSitesHeight=this.recommendedSitesHeight,E.M.updatePageMetadata({page:{viewType:(0,W.vi)()}},!0),this.config.companyLogo&&(this.showCompanyLogo=!("c1"===this.columnArrangement||"c2"===this.columnArrangement)),this.refreshHeaderHeight()})),et.initialize();let u=!1;const g=new _.o;(0,F.Uo)(b.z.ChromiumPageSettings,(e=>(0,h.mG)(this,void 0,void 0,(function*(){if(!e.isLoadCompleted)return;g.set();const t=this.layoutState;this.layoutState=e,this.isAlwaysMode="always"===e.selectedFeedDisplaySetting,!this.isAlwaysMode&&this.hideQuickLinks&&this.displayQuickLinks(),this.quickLinksDisplaySetting=e.selectedQuickLinksDisplaySetting;let i=!1,n=!1,r=!1,o=!1;if(t){if(i=t.selectedQuickLinksDisplaySetting!==e.selectedQuickLinksDisplaySetting,n=t.selectedFeedDisplaySetting!==e.selectedFeedDisplaySetting,r=t.isSingleColumn!==e.isSingleColumn,o=t.imageOfTheDayEnabled!==e.imageOfTheDayEnabled,i){const t=e.selectedQuickLinksDisplaySetting===B.Z3.tworows||e.selectedQuickLinksDisplaySetting===B.Z3.onerow;this.handleTopSitesEnableChange(t,e)}n&&setTimeout((()=>{et.handleSettingUpdate(e.selectedFeedDisplaySetting)}),0),r&&(u=!1)}this.config.enableHorizontalNav&&(this.bottomRightCornerClassName=this.layoutState.imageOfTheDayEnabled?"":"withoutMuseumCard"),this.updateHeaderGrid(),this.refreshTranslucentMode(),this.refreshHeaderHeight(),_e(u),u=!0,t&&((i||n||o)&&(this.fireLayoutAnimationComplete(),scrollTo(0,0),yield(0,te.r)(400)),yield(0,m.y)(),this.calculateStickyBreakpoints()),this.config.companyLogo&&this.getCompanyLogo(),this.childRefs.newsbarToggle&&(this.showNewsbarToggle=this.shouldShowNewsbarToggle()),yield(0,m.y)(),this.initializeRecommendedSites()})))),this.hideQuickLinks=(null===(e=this.config)||void 0===e?void 0:e.autoHideQuickLinksInAlways)&&"always"===(null===(t=this.layoutState)||void 0===t?void 0:t.selectedFeedDisplaySetting),this.hideQuickLinks&&window.addEventListener("wheel",this.quickLinksToggle),yield g.getResultAsync(),(0,F.Uo)(b.z.TopSitesLayoutData,(e=>{var t;this.topSitesLayoutState=e,this.refreshHeaderHeight(),this.hideQuickLinks&&(null===(t=this.topSitesLayoutState)||void 0===t?void 0:t.isTopSitesCollapsed)&&this.topSitesHolder&&(this.topSitesHolder.style.visibility="hidden"),(0,m.y)().then((()=>this.calculateStickyBreakpoints()))})),(0,F.Uo)(b.z.CoachmarkData,(e=>{this.hasCoachmark=!!e.coachmarkMessages})),(0,F.Uo)(b.z.SignInData,(e=>{void 0!==e.isUserSignedIn&&(this.renderSignInControls=!e.isUserSignedIn&&this.config.enableSignInControl,this.showRewards=e.isUserSignedIn&&this.columnArrangement>="c3")})),this.childRefs.defaultBrowserReclaimBanner&&this.config.enableDefaultBrowserReclaimBanner&&((0,F.Uo)(b.z.DefaultBrowserReclaimData,(e=>{this.renderDefaultBrowserReclaimBanner=e.isBannerDisplayed})),this.defaultBrowserReclaimDataConnector=(0,oe.K0)(b.z.DefaultBrowserReclaimData)),this.initializeTopSitesState();let p=this.layoutState&&this.layoutState.configData;const f=(0,oe.K0)(b.z.ChromiumPageSettings);f&&void 0===p&&(p=yield f.getConfigDataAsync()),this.config.enableSignInControl&&(yield this.checkSignInStatusAndSetup(p),this.signInDataConnector.updateNotificationButtonDisplayState(!!this.config.childRefs.notificationBell)),this.config.edgeLiteLowModuleModeEnabled&&(0,at.I9)()&&((0,at.cs)(ct.FO),this.edgeLiteLowModuleModeEnabled=!this.config.edgeLiteControl),(this.childRefs.defaultBrowserReclaimBanner&&this.config.enableDefaultBrowserReclaimBanner||this.config.enableDefaultBrowserReclaimBannerCf)&&p&&this.checkDefaultBrowserConfigAndSetup(p);const v=this.config.localizedStrings,y=yield(0,oe.K0)(b.z.CoachmarkData);R.V.readyToShowRecommendedLayoutAppliedCoachmark.registerObserver((e=>(0,h.mG)(this,void 0,void 0,(function*(){let t,i;if(e&&e.params&&e.params.length&&e.params[0]){const n=e.params[0];n===B.nP.informational?(t=v.coachMark.recommendedLayoutAppliedCoachmarkHeadline,i=v.coachMark.recommendedLayoutAppliedCoachmarkText):n===B.nP.inspirational?(t=v.coachMark.inspirationalLayoutAppliedCoachmarkHeadline,i=v.coachMark.inspirationalLayoutAppliedCoachmarkText):n===B.nP.focused?(t=v.coachMark.focusedLayoutAppliedCoachmarkHeadline,i=v.coachMark.focusedLayoutAppliedCoachmarkText):n===B.nP.custom&&(t=v.coachMark.customLayoutAppliedCoachmarkHeadline,i=v.coachMark.customLayoutAppliedCoachmarkText)}yield(0,nt.eC)(),t&&i&&y&&setTimeout((()=>{y.addCoachmark([Object.assign(Object.assign({},Qe),{ctaList:[void 0,{ctaButtonText:v.coachMark.promoCoachmarkCtaText,ctaType:"dismiss"}],headline:t,leadText:i})],!!this.config.enableEnterpriseCoachmarks)}),2e3)})))),p&&p.enabledFeatures&&(p.enabledFeatures.includes("msQuickLinksDefaultOneRow")||p.enabledFeatures.includes("msQuickLinksDefaultTwoRow"))&&(this.twoRowTopSitesEnabledThroughClientConfig=!0),this.enableLeftRail=this.childRefs.officeLeftRail&&f.officeLeftRailEnabled(),this.enableSideBar=this.childRefs.sideBar&&f.sideBarEnabled(),this.focusRedirectEnabled=p&&p.inPageSearchBoxType===N.HT.redirect,R.V.updateConfigDataChanged.registerObserver((e=>{const t=e&&e.params;if(!t||t.length<1)return;t[0]===N.HT.redirect!==this.focusRedirectEnabled&&(0,z.Z)()}));const C=null===ue.N.getPslFeedLayoutType&&this.config.renderSingleColumn,w=ue.N.getPslFeedLayoutType===ge.sj.SingleColumn,k=C||w;this.isSingleColumn=k||this.config.disableSingleColumnForInformational&&"always"!==this.layoutState.selectedFeedDisplaySetting,this.renderFeedNavigationHeader=!(null===(i=this.config)||void 0===i?void 0:i.delayLoadFeedNavigationHeader)||!(null===(r=null===(n=this.config)||void 0===n?void 0:n.childRefs)||void 0===r?void 0:r.feedNavigationHeader)||"always"!==(null===(o=this.layoutState)||void 0===o?void 0:o.selectedFeedDisplaySetting)&&"peek"!==(null===(s=this.layoutState)||void 0===s?void 0:s.selectedFeedDisplaySetting),Object.keys(this.childRefs).filter((e=>e&&(0,ie.oO)(this.childRefs[e])&&this.filterFeedExperiencesToSkip(e,this.isSingleColumn))).forEach((e=>(0,S.Fg)(this.childRefs[e])));let O=ue.N.getPslFeedLayoutType;if(this.config.enableHorizontalNav&&this.computeFeedToggleAttributes(),H.J.updateLayout.registerObserver((e=>(0,h.mG)(this,void 0,void 0,(function*(){var t,i;(null===(i=null===(t=this.config)||void 0===t?void 0:t.childRefs)||void 0===i?void 0:i.holidayEffects)&&this.updateHolidayEffectsPostion();const n=e&&e.params;if(n&&n.length<1)return;const r=ue.N.getPslFeedLayoutType;if(!r||O===r)return;O=r;const o=r===ge.sj.SingleColumn;this.updateFeedLayoutTelemetry(o),yield this.loadFeedExperiences(o),this.isSingleColumn=o,this.initializePivotManager(this.isSingleColumn)})))),window.addEventListener("leftRailToggle",this.leftRailToggle),window.addEventListener("sideBarToggle",this.sideBarToggle),this.enableFeedback=!1,this.pageSettingsDataConnector&&this.pageSettingsDataConnector.getLayoutStateAsync().then((e=>this.isAlwaysMode="always"===e.selectedFeedDisplaySetting)),(null===(a=this.config.translucentFeed)||void 0===a?void 0:a.disableSticky)?this.disableStickyHeader=!0:this.disableStickyHeader=!1,this.isZoomedLinear=!!this.config.linearZoomRatio,this.config.adminDisableableNotifications){const e=(0,oe.K0)(b.z.AdminPortalData),t=e&&e.getCurrentState();t&&t.settings&&(this.isNotificationEnabledByAdmin=!!t.settings.isShowCompanyAndIndustry)}this.enableWinHPCustomBackButtonBehaviorQsp=!!(null===(d=null===(c=null==f?void 0:f.getCurrentState().configData)||void 0===c?void 0:c.enabledFeatures)||void 0===d?void 0:d.includes(j.Z.WinHPCustomBackButtonBehavior))}))}checkDefaultBrowserConfigAndSetup(e){var t,i,n;return(0,h.mG)(this,void 0,void 0,(function*(){if((null===(t=ne.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)===y.F.Kids||(null===(i=ne.jG.CurrentRequestTargetScope)||void 0===i?void 0:i.pageType)===y.G.DHP)return;if(M.BA.isMarkedForPersistentTmpl()&&E.M.addOrUpdateTmplProperty("DefaultBrowserReclaimBannerDisplay","1"),yield M.Bs.isSuppressedByRewardsCoachmarks())return void E.M.addOrUpdateTmplProperty("DefaultBrowserReclaimBannerSupRw","1");const r=null===(n=e.irisAttributes)||void 0===n?void 0:n.get("ADEFAB");r?E.M.addOrUpdateTmplProperty("edgdef",r===N.Aq.MSEDGE.toString()?"1":"0"):E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.M2h),{message:"ADEFAB IrisAttribute not available"}));(!r||r!==N.Aq.MSEDGE.toString())&&(M.BA.checkAndStampTmpl(),this.config.enableDefaultBrowserReclaimBanner&&(this.isSetDefaultBrowserAPIAvailable()?(this.defaultBrowserReclaimDataConnector&&this.defaultBrowserReclaimDataConnector.updateBannerDisplayState(!0),this.renderDefaultBrowserReclaimBanner=!0,(0,G.$o)().removeItem("DBRBACC"),this.updateHeaderGrid()):this.config.enableDefaultBrowserReclaimBanner&&E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.DKZ),{message:"DefaultBrowserReclaimBanner: window.chrome.shellIntegrationPrivate.setDefaultBrowser chromium API not available"}))))}))}checkSignInStatusAndSetup(e){var t;return(0,h.mG)(this,void 0,void 0,(function*(){const i=yield this.getPrimaryAccountInfo(),n=i&&""===i.accountId,r=void 0!==e.isEdgeSignInAllowed&&e.isEdgeSignInAllowed;return n&&(null===(t=this.pageSettingsDataConnector)||void 0===t?void 0:t.checkAuthApiIsAvailable())&&r?(this.renderSignInControls=!0,this.updateHeaderGrid(),this.checkSignInControlPageFit(),E.M.addOrUpdateTmplProperty("UserEligibleForSignInTreatment","1")):(this.renderSignInControls=!1,E.M.addOrUpdateTmplProperty("UserNotEligibleForSignInTreatment","1")),yield gt(),n}))}getPrimaryAccountInfo(){var e;return(0,h.mG)(this,void 0,void 0,(function*(){return yield null===(e=this.pageSettingsDataConnector)||void 0===e?void 0:e.getPrimaryAccountInfoAsync(!1)}))}shadowDomPopulated(){var e;if(this.markVisuallyReadyRaf(),(0,Le.FY)(De._.headerSpaceHolder,this.shadowRoot.getElementById("headerSpaceHolder")),this.backgroundOuterHolder=this.shadowRoot.getElementById("bgOuterHolder"),(0,Le.FY)(De._.backgroundOuterHolder,this.backgroundOuterHolder),(0,Le.FY)(De._.backgroundInnerHolder,this.shadowRoot.getElementById("bgInnerHolder")),(0,Le.FY)(De._.navBar,this.shadowRoot.getElementById("g_nav")),this.config.showTransparentShScrolldown&&(0,Le.FY)(De._.searchHistory,this.shadowRoot.getElementById("c_srch_hist")),this.topSitesHolder=this.shadowRoot.getElementById("topSitesHolder"),(this.layoutState.selectedQuickLinksDisplaySetting===B.Z3.off||this.hideQuickLinks&&(null===(e=this.topSitesLayoutState)||void 0===e?void 0:e.isTopSitesCollapsed))&&(this.topSitesHolder.style.visibility="hidden"),this.updateTopSitesVisibilityDebounced(),this.searchHolder=this.shadowRoot.getElementById("searchHolder"),this.enableOneColumn&&(this.conditionalBanner=this.shadowRoot.querySelector(".conditionalBannerHolder"),this.conditionalBanner)){new IntersectionObserver((e=>{const t=e[e.length-1];this.conditionalBannerShown=t.intersectionRatio>.5}),{root:null,rootMargin:"-10px 0px 0px 0px",threshold:.5}).observe(this.conditionalBanner)}this.refreshImageHeight(),this.calculateStickyBreakpoints();const t={root:null,rootMargin:"-115px 0px 0px 0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]};if(this.topSitesObserver=new IntersectionObserver(this.topSitesIntersectionObserverCallback,t),this.topSitesObserver.observe(this.topSitesHolder),this.headerGrid=this.shadowRoot.getElementById("headerGrid"),this.disableStickyHeader&&this.headerGrid){const e=this.shadowRoot.getElementById("translucentFeedSentinel"),t={root:null,rootMargin:-1*$.FQ+"px 0px 0px",threshold:[.1,1]};new IntersectionObserver((t=>{if(!e||"off"===this.layoutState.selectedFeedDisplaySetting)return;1===t[t.length-1].intersectionRatio?(this.headerGrid.style.zIndex="1",this.headerGrid.classList.add("headerGrid_visible"),this.headerGrid.classList.remove("headerGrid_hidden"),setTimeout((()=>{this.headerGrid.style.zIndex=null}),200)):(this.headerGrid.classList.remove("headerGrid_visible"),this.headerGrid.classList.add("headerGrid_hidden"))}),t).observe(e)}this.topEndCorner=this.shadowRoot.getElementById("topEndCorner"),addEventListener("scroll",this.onScroll),addEventListener("scroll",(0,Ke.Z)(this.throttledOnScroll,17)),addEventListener("resize",this.onResize),this.initializePivotManager(this.isSingleColumn),(0,Le.FY)(De._.cardAction,this.shadowRoot.querySelector("card-action")),(0,Le.FY)(De._.complianceHyperlink,this.shadowRoot.querySelector("#complianceHyperlink")),this.complianceHyperlink=(0,Le.b_)(De._.complianceHyperlink),(0,Le.FY)(De._.recommendedSites,this.shadowRoot.querySelector("#recommendedSites")),this.recommendedSites=(0,Le.b_)(De._.recommendedSites),this.initializeRecommendedSites(),this.delayLoadFeedNavigationHeader(),(0,de.F_)().then((()=>window.requestAnimationFrame((()=>setTimeout((()=>{var e,t;this.checkTopEndCornerFitOnPage(),this.config.companyLogo&&this.updateCompanyLogoStatus(),(null===(t=null===(e=this.config)||void 0===e?void 0:e.childRefs)||void 0===t?void 0:t.holidayEffects)&&this.updateHolidayEffectsPostion()}),10)))))}initializePivotManager(e){this.pivotManager=(0,tt.l)(e?this.config.singleColumnPivotsNavInstanceId:null),this.pivotManager&&(this.pivotManager.addSwitchListener(ot.D.onPivotSwitch,it.I.Telemetry),this.pivotManager.addSwitchListener(this.switchListenerCallback),this.pivotManager.addClickListener((e=>{e||this.scrollToShowFeed()})))}filterFeedExperiencesToSkip(e,t){var i,n,r,o;return(!(null===(n=null===(i=this.config)||void 0===i?void 0:i.childRefs)||void 0===n?void 0:n.feedNavigationHeader)||"pivotsNav"!==e&&"pivotsNavSingleColumn"!==e)&&(!((null===(o=null===(r=this.config)||void 0===r?void 0:r.childRefs)||void 0===o?void 0:o.feedNavigationHeader)&&"feedNavigationHeader"===e&&!this.renderFeedNavigationHeader)&&("pivotsNav"===e||"pivotContent"===e||"personalizeNavButton"===e?!t:"pivotsNavSingleColumn"!==e&&"pivotContentSingleColumn"!==e||t))}loadFeedExperiences(e){var t,i;return(0,h.mG)(this,void 0,void 0,(function*(){(null===(i=null===(t=this.config)||void 0===t?void 0:t.childRefs)||void 0===i?void 0:i.feedNavigationHeader)?e?(0,S.pE)([this.childRefs.pivotContentSingleColumn]):(0,S.pE)([this.childRefs.pivotContent]):e?(0,S.pE)([this.childRefs.pivotsNavSingleColumn,this.childRefs.pivotContentSingleColumn]):(0,S.pE)([this.childRefs.pivotsNav,this.childRefs.pivotContent])}))}fireLayoutAnimationComplete(){setTimeout((()=>{rt.I.layoutAnimationComplete.getActionSender(this.pageSettingsDataConnector).send({height:100})}),0)}delayLoadFeedNavigationHeader(){var e,t,i;if(!(null===(e=this.config)||void 0===e?void 0:e.delayLoadFeedNavigationHeader)||!(null===(i=null===(t=this.config)||void 0===t?void 0:t.childRefs)||void 0===i?void 0:i.feedNavigationHeader)||this.renderFeedNavigationHeader)return;const n=this.isSingleColumn?{instanceId:"DesktopFeedSingleColumnWC",configRef:{experienceType:"DesktopFeedSingleColumnWC",instanceSrc:"default"}}:{instanceId:"DesktopFeedEdgeNextWC",configRef:{experienceType:"DesktopFeedEdgeNextWC",instanceSrc:"default"}};(0,S.Fg)(n).then((()=>{this.pivotManager&&this.pivotManager.switchPivot({pivotId:"myfeed",configIndexRef:n}),(0,de.F_)().then((()=>window.requestAnimationFrame((()=>setTimeout((()=>{var e,t;(0,S.Fg)(null===(t=null===(e=this.config)||void 0===e?void 0:e.childRefs)||void 0===t?void 0:t.feedNavigationHeader),this.renderFeedNavigationHeader=!0}),150)))))}))}reportPerfMarkers(){return(0,h.mG)(this,void 0,void 0,(function*(){const e=(0,oe.K0)(b.z.ExperienceTrackerEdgeNextData);yield function(e){return(0,h.mG)(this,void 0,void 0,(function*(){if(!(0,Q.N)())return;e=e||{};let t=!1;const i=setTimeout((()=>{t=!0,Pe((e=>r(e)),se.oN.Primary,e.incompleteVisualDependencyCallback)}),e.timeoutOverride||2e4);(0,se.Nv)().then((e=>{t||r(e)}));const n=new _.o;return yield n.getResultAsync();function r(t){return(0,h.mG)(this,void 0,void 0,(function*(){i&&clearTimeout(i),E.M.config.autoCaptureContentView=!0,E.M.observeElementTree(document),E.M.scheduleContentViewEvent(I.NS.Load);const{contentViewTimeoutOverride:r,onBeforeNotifyCallback:o}=e;r&&E.M.setContentViewTimeout(r),o&&o(t),xe(t),n.set()}))}}))}({incompleteVisualDependencyCallback:e&&e.getIncompleteVisualDependencies||null,contentViewTimeoutOverride:2e3,onBeforeNotifyCallback:e=>{const t=(0,ae.Ou)();for(const i of e){const e=this.getLegacyTtvrMarkerName(i[0]);e&&(t[e]=i[1])}}}),yield(0,Ae.lr)(),this.addE2ETtvrToSecondaryPageTimings(),Me({incompleteVisualDependencyCallback:e&&e.getIncompleteVisualDependencies||null})}))}addE2ETtvrToSecondaryPageTimings(){var e,t,i,n,r,o,s,a;const c=(0,ae.Ou)(),d=(0,ae.Y9)();if(!c||!d)return;const l=c[ce.MV],u=c[`${ce.MV}.${C.p.searchBox}`],g=`${ce.MV}.${ce.T8}`,p=`${ce.MV}.${C.p.searchBox}.${ce.T8}`,h=c[`${ce.MV}.${C.p.feed}`],f=c[`${ce.MV}.${C.p.basicFeed}`];let m=-1;h&&(m=h-u),c.SearchBoxToFeed=m;let v=-1;const b=c[`${ce.MV}.${C.p.sdCards}`];f&&b&&(v=b-f),c[C.p.feedSDRender]=v;const y=null===(e=null===performance||void 0===performance?void 0:performance.getEntriesByType)||void 0===e?void 0:e.call(performance,"navigation");if("navigate"!==(y&&1===y.length&&y[0]).type)return c[g]=d[g]=l,void(c[p]=d[p]=u);if(!(null===(n=null===(i=null===(t=null===window||void 0===window?void 0:window.chrome)||void 0===t?void 0:t.embeddedSearch)||void 0===i?void 0:i.newTabPage)||void 0===n?void 0:n.getTabTimings))return void E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.IfP),{message:"window.chrome.embeddedSearch.newTabPage.getTabTimings does not exist."}));const S=performance.now();null===(a=null===(s=null===(o=null===(r=null===window||void 0===window?void 0:window.chrome)||void 0===r?void 0:r.embeddedSearch)||void 0===o?void 0:o.newTabPage)||void 0===s?void 0:s.getTabTimings)||void 0===a||a.call(s,((e,t)=>{if(!e)return void E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.tkb),{message:"chrome.embeddedSearch.newTabPage.getTabTimings returned false."}));if(!t||!t.tabStartToNavigationStart)return void E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.OWM),{message:"chrome.embeddedSearch.newTabPage.getTabTimings returned invalid timing object."}));let i=Math.round(t.tabStartToNavigationStart);T.Al.IsPrerender&&(i+=c[ce.U4]),l&&(c[g]=d[g]=i+l),u&&(c[p]=d[p]=i+u);const n=performance.now(),r=n-S;c[ce.OM]=d[ce.OM]=r;const o=c.telemetryBeaconFireTime;if(o){const e=n-o;E.M.sendAppErrorEvent(Object.assign(Object.assign({},O.SaE),{message:"chrome.embeddedSearch.newTabPage.getTabTimings returned after telemetry beacon with secondary perf markers has already fired.",pb:Object.assign(Object.assign({},O.SaE.pb),{timeElapsed:e,timeTakenByGetTabTimings:r})}))}}))}getLegacyTtvrMarkerName(e){switch(e){case"TTVR.BackgroundImageWC":return"TTVR.BingImage";case"TTVR.River":case"TTVR.GridViewFeed":case"TTVR.LinearViewFeed":case"TTVR.DesktopFeedEdgeNextWC":return"TTVR.BasicFeed";case"TTVR.TopSitesEdgeNextWC":return"TTVR.QuickLinks";case"TTVR":return"TTVR.Feed";default:return null}}getExperienceType(){return d.x.edgeChromiumPageWC}updateHeaderGrid(){var e;const{selectedFeedDisplaySetting:t}=this.layoutState,i="always"===t,n=this.layoutState.imageOfTheDayEnabled;if(i){const e=this.layoutState.quickLinksEnabled||this.twoRowTopSitesEnabledThroughClientConfig&&this.layoutState.selectedQuickLinksDisplaySetting!==B.Z3.off,t=this.renderSignInControls&&this.config.enableSignInBanner||this.renderDefaultBrowserReclaimBanner?"40px":"32px";e&&this.isTwoOrThreeColumnArrangement?(this.gridRows=`${t} 46px 44px 46px 32px 16px auto 38px`,this.searchRow=4,this.searchHistoryRow=5,this.topSitesRow=7):e?(this.gridRows=`${t} 46px 32px 16px auto 38px`,this.searchRow=2,this.searchHistoryRow=3,this.topSitesRow=5):this.isTwoOrThreeColumnArrangement?(this.gridRows=`${t} 46px 44px 46px 32px 32px`,this.searchRow=4,this.searchHistoryRow=5,this.topSitesRow=this.twoRowTopSitesEnabledThroughClientConfig&&this.layoutState.selectedQuickLinksDisplaySetting!==B.Z3.off?0:6):(this.gridRows=`${t} 46px 32px 32px`,this.searchRow=2,this.searchHistoryRow=3,this.topSitesRow=this.twoRowTopSitesEnabledThroughClientConfig&&this.layoutState.selectedQuickLinksDisplaySetting!==B.Z3.off?0:4),this.logoRow=0}else if(n){let t;t=this.twoRowTopSitesEnabledThroughClientConfig&&this.layoutState.selectedQuickLinksDisplaySetting?this.layoutState.selectedQuickLinksDisplaySetting===B.Z3.tworows:(null===(e=this.topSitesLayoutState)||void 0===e?void 0:e.maxTiles)>10;const i=this.enableOneColumn?"minmax(32px, 15%)":"minmax(78px, 15%)";this.gridRows=t?`${i} 46px 32px 1fr auto 20%`:`${i} 46px 32px 1fr auto 12%`,this.logoRow=1,this.searchRow=2,this.searchHistoryRow=3,this.topSitesRow=5}else this.layoutState.quickLinksEnabled||this.twoRowTopSitesEnabledThroughClientConfig&&this.layoutState.selectedQuickLinksDisplaySetting!==B.Z3.off?(this.gridRows=`1fr ${this.enableOneColumn?"minmax(0px, auto)":"auto"} 72px 46px 32px 32px auto 1fr`,this.logoRow=2,this.searchRow=4,this.searchHistoryRow=5,this.topSitesRow=7):(this.gridRows=`1fr ${this.enableOneColumn?"minmax(0px, auto)":"auto"} 72px 46px 32px 1fr`,this.logoRow=2,this.searchRow=4,this.searchHistoryRow=5,this.topSitesRow=6)}refreshHeaderHeight(){var e;if(!this.topSitesLayoutState||!this.layoutState)return;let t;switch(this.layoutState.selectedFeedDisplaySetting){case"headingsonly":t=this.config.enableHorizontalNav?innerHeight:innerHeight-$.A$;break;case"peek":t=innerHeight-$.A$-this.layoutState.peekHeight;break;case"onscroll":case"off":t=innerHeight;break;default:{if(this.museumCardShown)return innerHeight-$.A$;const i=this.calculateCollapsibleInformationalHeaderHeight(),n=this.isTwoOrThreeColumnArrangement?$.FQ+90:$.FQ;if(this.layoutState.selectedQuickLinksDisplaySetting===B.Z3.onerow||this.layoutState.selectedQuickLinksDisplaySetting===B.Z3.tworows)return this.hideQuickLinks&&(null===(e=this.topSitesLayoutState)||void 0===e?void 0:e.isTopSitesCollapsed)?this.headerHeight=n+"px":this.headerHeight=i+"px";if(this.layoutState.selectedQuickLinksDisplaySetting===B.Z3.off)return this.headerHeight=n+"px";t=this.layoutState.quickLinksEnabled?i:n;break}}this.childRefs.recommendedSites&&["peek"].includes(this.layoutState.selectedFeedDisplaySetting)&&(t-=this.recommendedSitesHeight),"tworows"===this.layoutState.selectedQuickLinksDisplaySetting&&this.columnArrangement>"c2"&&this.layoutState.quickLinksEnabled&&"always"===this.layoutState.selectedFeedDisplaySetting&&!this.topSitesLayoutState.isTopSitesCollapsed&&(t+=112),this.showTopsitesWithRecommendSites&&this.columnArrangement<"c4"&&t<336&&(t+=this.layoutState.peekHeight),this.headerHeight=t+"px"}refreshImageHeight(){this.imageHeight=innerHeight+"px"}refreshTranslucentMode(){var e,t;if(this.config.translucentFeed&&this.layoutState.currentBackgroundImageType!==B.HX.off)return this.showFeedTranslucent=!0,this.navOverrideStyles=(null===(e=this.config.translucentFeed)||void 0===e?void 0:e.color)?`background: ${null===(t=this.config.translucentFeed)||void 0===t?void 0:t.color};`:"",(0,V.j3)("navBar","translucentBackground"),void(0,V.j3)("backgroundImage","displayed");this.navOverrideStyles="",this.showFeedTranslucent=this.scrollIsPastStyleThreshold&&this.layoutState.imageOfTheDayEnabled&&("headingsonly"===this.layoutState.selectedFeedDisplaySetting||"peek"===this.layoutState.selectedFeedDisplaySetting),(0,V.j3)("navBar",this.showFeedTranslucent?"translucentBackground":"normal"),this.config.translucentFeed&&(0,V.j3)("backgroundImage",this.showFeedTranslucent?"displayed":"hidden")}handleTopSitesEnableChange(e,t){if(this.topSitesHolder){if(this.topSitesHolder.style.transition="opacity .3s ease-out","always"===t.selectedFeedDisplaySetting&&!e)return this.topSitesHolder.style.opacity="0",void(this.topSitesHolder.style.visibility="hidden");e?(this.topSitesHolder.style.visibility="",this.topSitesHolder.style.opacity="1"):this.topSitesHolder.style.opacity="0",setTimeout((()=>{e||(this.topSitesHolder.style.visibility="hidden"),this.topSitesHolder.style.transition=null}),ft)}}calculateCollapsibleInformationalHeaderHeight(){let e=248,t=360;this.isTwoOrThreeColumnArrangement&&(e=338,t=450);const{isTopSitesCollapsed:i,maxTiles:n}=this.topSitesLayoutState,{selectedQuickLinksDisplaySetting:r}=this.layoutState,o=n&&n>10&&r==B.Z3.tworows,s=this.columnArrangement>=U.K$.c3&&!o?84:196,a=(this.columnArrangement>=U.K$.c3&&!o?e:t)-0;let c=i?a-s:a+0;return this.config.enableHorizontalNav&&i&&(c+=28),c}checkTopEndCornerFitOnPage(){this.childRefs.newsbarToggle&&(this.showNewsbarToggle=this.shouldShowNewsbarToggle()),window.requestAnimationFrame((()=>{if(this.config.addBrandLogo)this.showGreeting=!(innerWidth<1090),"c4"===this.columnArrangement&&innerWidth<1350&&(this.searchHolder&&0!=this.searchHolder.clientWidth&&this.searchHolder.clientWidth<700?this.showGreeting=!0:this.showGreeting=!1),this.showRewards=!(innerWidth<720);else if(!1===this.config.disableSignInButton&&this.renderSignInControls&&this.childRefs.msRewards){const e=this.columnArrangement>="c5";this.showRewards=e,this.signInDataConnector.updateRewardButtonDisplayState(e)}else this.showRewards=this.columnArrangement>="c3"}))}checkLocationGreeting(e){this.showGreeting=!(innerWidth<1090+e),"c4"===this.columnArrangement&&innerWidth<1350+e&&(this.searchHolder&&0!=this.searchHolder.clientWidth&&this.searchHolder.clientWidth<700?this.showGreeting=!0:this.showGreeting=!1)}computeFeedToggleAttributes(){this.renderBottomRightCorner=0===scrollY&&!this.hideQuickLinks,this.className=this.isSingleColumn?"horizontal_nav_height_single":"horizontal_nav_height"}checkSignInControlPageFit(){requestAnimationFrame((()=>{this.renderSignInButton=!(innerWidth<820),this.renderSignInBanner=!(innerWidth<1495),this.config.enableSignInFlyoutTopEndCorner?this.renderSignInFlyout=!(innerWidth<820):this.config.enableSignInFlyoutCenter&&(this.renderSignInFlyout=this.columnArrangement>"c1")}))}calculateStickyBreakpoints(){0===window.scrollY&&this.calculateSearchStickyBreakpoint(),this.calculateTopAndBackgroundStickyBreakpoints()}calculateSearchStickyBreakpoint(){const e=this.searchHolder.offsetTop-32+(this.enableOneColumn?$.FQ:0);(0,Fe.Fc)(qe,e)}calculateTopAndBackgroundStickyBreakpoints(){var e;const{selectedFeedDisplaySetting:t,quickLinksEnabled:i,peekHeight:n,selectedQuickLinksDisplaySetting:r}=this.layoutState;let o;switch(t){case"always":{const e=this.calculateCollapsibleInformationalHeaderHeight();o=i?e-$.FQ:0,o=r===B.Z3.onerow?e-$.FQ:o,o=r===B.Z3.tworows?e-$.FQ:o;break}case"peek":o=innerHeight-$.FQ-$.A$-n;break;case"headingsonly":o=this.config.enableHorizontalNav?innerHeight-$.FQ:innerHeight-$.FQ-$.A$;break;default:o=innerHeight-$.FQ}let s=o,a=o;if(this.childRefs.recommendedSites){const e=this.recommendedSitesHeight;"peek"===t?a-=e:s+=e}s+=+(this.enableOneColumn?$.FQ:0),this.hideQuickLinks&&(null===(e=this.topSitesLayoutState)||void 0===e?void 0:e.isTopSitesCollapsed)&&(a=this.isTwoOrThreeColumnArrangement?90:0,s=this.isTwoOrThreeColumnArrangement?90:0),!this.config.translucentFeed||this.layoutState.currentBackgroundImageType===B.HX.off&&!this.disableStickyHeader?(0,Fe.Fc)(Ve,a):(0,Fe.Fc)(Ve,-1),this.disableStickyHeader||(0,Fe.Fc)(Ge,s),this.layoutState.currentBackgroundImageType!==B.HX.off?(0,Fe.Fc)(Ze,a):(0,Fe.Fc)(Ze,-1),(0,Fe.Fc)("top",s),this.navIsSticky=scrollY>s,(0,$.cN)(s)}getCompanyLogo(){this.horizontalFlip=!0;const e=this.layoutState.currentLayout;this.showBackplate=e===B.nP.focused||e===B.nP.custom&&!this.layoutState.imageOfTheDayEnabled,this.showCompanyLogo=!("c1"===this.columnArrangement||"c2"===this.columnArrangement),this.companyLogoImage=this.getCompanyLogoFromLocalStorage()}updateCompanyLogoStatus(){const e=this.shadowRoot&&this.shadowRoot.getElementById("companyLogo"),t=this.shadowRoot&&this.shadowRoot.getElementById("searchHolder"),i=t&&t.getBoundingClientRect(),n=e&&e.getBoundingClientRect();i&&n&&(i.left<n.left&&i.right>=n.left-24||i.left>n.left&&n.right+24>=i.left?e.style.visibility="hidden":this.shadowRoot.getElementById("companyLogo").style.visibility="visible")}updateHolidayEffectsPostion(){this.holidayEffectsPosition="display: none;",setTimeout((()=>{var e,t;const i=getComputedStyle(this).getPropertyValue("--direction")===st.N.ltr,n=null===(t=null===(e=this.shadowRoot.querySelector("background-image"))||void 0===e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector(".museumCard");if(n&&n.clientWidth){const e=n.clientWidth+140;this.holidayEffectsPosition=i?`left: calc(100% - ${e}px);`:`right: calc(100% - ${e}px);`}else this.holidayEffectsPosition=i?"left: calc(100% - 300px);":"right: calc(100% - 300px);"}),ft)}getCompanyLogoClassName(){const e=this.companyLogoImage.indexOf("image/svg+xml")>-1||this.companyLogoImage.indexOf(".svg")>-1;return e&&this.showBackplate?"backplateSVG":e?"svgLogo":this.showBackplate?"backplateNonSVG":"nonSvgLogo"}initializeDevTools(){var e,t;const i=(0,re.L)();if(this.config.childRefs.devTools&&"true"===i.get("devtools")){const i=T.Al.ClientSettings,n=(null===(e=null==i?void 0:i.detection)||void 0===e?void 0:e.isMsft)||(null===(t=null==i?void 0:i.detection)||void 0===t?void 0:t.isCorpNet);this.enableDevTools=n||ne.jG.IsDebug}}initializeTopSitesState(){if(this.showCollapsibleControl()&&this.topSitesLayoutDataConnector){const e=(0,pe.NU)(this.layoutState);this.topSitesLayoutDataConnector.updateCollapsedStatus(e,!0)}}showCollapsibleControl(){return this.config.topSitesCollapsibleControlConfig&&this.config.topSitesCollapsibleControlConfig.showCollapsibleControl&&!this.isCookieConsentRequired()&&(0,G.$o)().supported}isCookieConsentRequired(){return pt.A.get(pt.U.CookieConsentStatus)===ht._.Required}updateFeedLayoutTelemetry(e){const t={feed:{layout:e?"singlecol":"multicol"}};E.M.updatePageMetadata(t)}isSetDefaultBrowserAPIAvailable(){var e,t;return(0,Q.N)()&&(null===(t=null===(e=null===window||void 0===window?void 0:window.chrome)||void 0===e?void 0:e.shellIntegrationPrivate)||void 0===t?void 0:t.setDefaultBrowser)&&"function"==typeof window.chrome.shellIntegrationPrivate.setDefaultBrowser}}(0,h.gn)([v.LO],mt.prototype,"layoutState",void 0),(0,h.gn)([v.LO],mt.prototype,"columnArrangement",void 0),(0,h.gn)([v.LO],mt.prototype,"quickLinksDisplaySetting",void 0),(0,h.gn)([v.LO],mt.prototype,"headerHeight",void 0),(0,h.gn)([v.LO],mt.prototype,"imageHeight",void 0),(0,h.gn)([v.LO],mt.prototype,"gridRows",void 0),(0,h.gn)([v.LO],mt.prototype,"enableLeftRail",void 0),(0,h.gn)([v.LO],mt.prototype,"enableOneColumn",void 0),(0,h.gn)([v.LO],mt.prototype,"enableSideBar",void 0),(0,h.gn)([v.LO],mt.prototype,"logoRow",void 0),(0,h.gn)([v.LO],mt.prototype,"searchRow",void 0),(0,h.gn)([v.LO],mt.prototype,"searchHistoryRow",void 0),(0,h.gn)([v.LO],mt.prototype,"topSitesRow",void 0),(0,h.gn)([v.LO],mt.prototype,"showGreeting",void 0),(0,h.gn)([v.LO],mt.prototype,"showRewards",void 0),(0,h.gn)([v.LO],mt.prototype,"showNewsbarToggle",void 0),(0,h.gn)([v.LO],mt.prototype,"showFeedTranslucent",void 0),(0,h.gn)([v.LO],mt.prototype,"navOverrideStyles",void 0),(0,h.gn)([v.LO],mt.prototype,"enableHiddenRecommendedSitesStyles",void 0),(0,h.gn)([v.LO],mt.prototype,"hasCoachmark",void 0),(0,h.gn)([v.LO],mt.prototype,"navIsSticky",void 0),(0,h.gn)([v.LO],mt.prototype,"isSingleColumn",void 0),(0,h.gn)([v.LO],mt.prototype,"showBackplate",void 0),(0,h.gn)([v.LO],mt.prototype,"companyLogoImage",void 0),(0,h.gn)([v.LO],mt.prototype,"horizontalFlip",void 0),(0,h.gn)([v.LO],mt.prototype,"showSearchBoxOverlay",void 0),(0,h.gn)([v.LO],mt.prototype,"showCompanyLogo",void 0),(0,h.gn)([v.LO],mt.prototype,"pivotManager",void 0),(0,h.gn)([v.LO],mt.prototype,"conditionalBannerShown",void 0),(0,h.gn)([v.LO],mt.prototype,"isTwoOrThreeColumnArrangement",void 0),(0,h.gn)([v.LO],mt.prototype,"renderFeedNavigationHeader",void 0),(0,h.gn)([v.LO],mt.prototype,"renderSignInControls",void 0),(0,h.gn)([v.LO],mt.prototype,"renderSignInFlyout",void 0),(0,h.gn)([v.LO],mt.prototype,"renderSignInBanner",void 0),(0,h.gn)([v.LO],mt.prototype,"renderSignInButton",void 0),(0,h.gn)([v.LO],mt.prototype,"isAlwaysMode",void 0),(0,h.gn)([v.LO],mt.prototype,"renderBottomRightCorner",void 0),(0,h.gn)([v.LO],mt.prototype,"bottomRightCornerClassName",void 0),(0,h.gn)([v.LO],mt.prototype,"className",void 0),(0,h.gn)([v.LO],mt.prototype,"disableStickyHeader",void 0),(0,h.gn)([v.LO],mt.prototype,"canaryFlightEnabled",void 0),(0,h.gn)([v.LO],mt.prototype,"holidayEffectsPosition",void 0),(0,h.gn)([v.LO],mt.prototype,"renderDefaultBrowserReclaimBanner",void 0),(0,h.gn)([v.LO],mt.prototype,"edgeLiteLowModuleModeEnabled",void 0),(0,h.gn)([v.LO],mt.prototype,"isZoomedLinear",void 0),(0,h.gn)([v.LO],mt.prototype,"isNotificationEnabledByAdmin",void 0);var vt=i(90563),bt=i(63243),yt=i(84829),Ct='<svg viewBox="0 0 226 48" height="48" width="225"><path key="MicrosoftLogo1" id="microsoft" d="M93.6 9.6v28.8h-5V15.8h-.1l-8.9 22.6h-3.3l-9.1-22.6h-.1v22.6h-4.6V9.6h7.2L78 30.9h.1l8.7-21.3h6.8zm4.1 2.2c0-.8.3-1.5.9-2 .6-.5 1.3-.8 2.1-.8.9 0 1.6.3 2.1.9.5.5.9 1.2.9 2s-.3 1.5-.9 2c-.6.5-1.3.8-2.1.8-.9 0-1.5-.3-2.1-.8-.5-.7-.9-1.4-.9-2.1zm5.4 5.9v20.7h-4.9V17.7h4.9zm14.8 17.2a9.2 9.2 0 0 0 4.8-1.8v4.5c-.8.5-1.7.8-2.7 1-1 .2-2.1.3-3.3.3-3.1 0-5.5-.9-7.4-2.9-1.9-1.9-2.9-4.4-2.9-7.3 0-3.3 1-6.1 2.9-8.2 1.9-2.1 4.7-3.2 8.3-3.2.9 0 1.8.1 2.7.3.9.3 1.7.5 2.2.8v4.7c-.7-.5-1.5-1-2.3-1.3-.8-.3-1.6-.5-2.4-.5-1.9 0-3.5.6-4.7 1.9-1.2 1.3-1.8 2.9-1.8 5.1 0 2.1.5 3.7 1.7 4.9 1.4 1.1 2.9 1.7 4.9 1.7zm18.6-17.5c.4 0 .7 0 1.1.1.3.1.6.1.8.2v4.9c-.3-.2-.6-.3-1.1-.5-.5-.2-1.1-.3-1.8-.3-1.2 0-2.2.5-3 1.5-.8 1-1.3 2.5-1.3 4.7v10.4h-4.9V17.7h4.9V21h.1c.5-1.1 1.1-2 2-2.7.8-.6 1.9-.9 3.2-.9zm2.1 11c0-3.4.9-6.1 2.9-8.1 1.9-2 4.6-3 8.1-3 3.2 0 5.7.9 7.5 2.9 1.8 1.9 2.7 4.5 2.7 7.8s-.9 6-2.9 8c-1.9 2-4.5 3-7.9 3-3.2 0-5.7-.9-7.6-2.8-1.9-2-2.8-4.6-2.8-7.8zm5.1-.2c0 2.1.5 3.8 1.5 4.9 1 1.1 2.4 1.7 4.2 1.7 1.8 0 3.1-.6 4.1-1.7.9-1.1 1.4-2.8 1.4-5.1 0-2.2-.5-3.9-1.5-5-.9-1.1-2.3-1.7-4-1.7-1.8 0-3.1.6-4.1 1.8-1.2 1.2-1.6 2.9-1.6 5.1zm23.3-5c0 .7.2 1.3.7 1.7.5.4 1.4.9 2.9 1.5 1.9.8 3.3 1.7 4.1 2.6.8 1 1.2 2.1 1.2 3.5 0 1.9-.7 3.5-2.3 4.7-1.5 1.2-3.5 1.8-6.1 1.8-.9 0-1.8-.1-2.9-.3-1.1-.2-1.9-.5-2.7-.8V33c.9.6 1.9 1.1 2.9 1.5 1 .3 1.9.5 2.8.5 1.1 0 1.9-.1 2.4-.5.5-.3.8-.8.8-1.5s-.3-1.3-.8-1.7c-.5-.5-1.6-1-3.1-1.6-1.8-.7-3.1-1.6-3.8-2.5s-1.1-2.1-1.1-3.6c0-1.9.7-3.4 2.2-4.6 1.5-1.2 3.4-1.8 5.7-1.8.7 0 1.5.1 2.4.3.9.1 1.7.4 2.3.6v4.6c-.7-.4-1.4-.8-2.3-1.1-.9-.3-1.7-.5-2.5-.5-.9 0-1.7.2-2.1.5-.4.5-.7.9-.7 1.6zm10.9 5.2c0-3.4.9-6.1 2.9-8.1s4.6-3 8.1-3c3.2 0 5.7.9 7.5 2.9 1.8 1.9 2.7 4.5 2.7 7.8s-.9 6-2.9 8c-1.9 2-4.5 3-7.9 3-3.2 0-5.7-.9-7.6-2.8-1.8-2-2.8-4.6-2.8-7.8zm5.1-.2c0 2.1.5 3.8 1.5 4.9 1 1.1 2.4 1.7 4.2 1.7 1.8 0 3.1-.6 4.1-1.7.9-1.1 1.4-2.8 1.4-5.1 0-2.2-.5-3.9-1.5-5-.9-1.1-2.3-1.7-4-1.7-1.8 0-3.1.6-4.1 1.8-1.1 1.2-1.6 2.9-1.6 5.1zm32.3-6.5H208v16.7h-4.9V21.7h-3.5v-4h3.5v-2.9c0-2.2.7-3.9 2.1-5.3 1.4-1.4 3.2-2.1 5.4-2.1.6 0 1.1 0 1.6.1s.9.1 1.2.3V12c-.1-.1-.5-.2-.9-.3-.4-.1-.9-.2-1.4-.2-1 0-1.8.3-2.3.9-.5.7-.8 1.6-.8 2.8v2.5h7.3V13l4.9-1.5v6.1h4.9v4h-4.9v9.7c0 1.3.2 2.2.7 2.7.5.5 1.2.8 2.2.8.3 0 .6-.1 1-.2s.7-.3 1.1-.5v4c-.3.2-.8.3-1.5.5-.7.1-1.4.2-2.1.2-2.1 0-3.6-.5-4.6-1.7-1-1.1-1.5-2.7-1.5-4.9V21.7h-.2z"/><path key="MicrosoftLogo2" id="blue" d="M22.8 25.2H0V48h22.8V25.2z" fill="#00A4EF"/><path key="MicrosoftLogo3" id="yellow" d="M48 25.2H25.2V48H48V25.2z" fill="#FFB900"/><path key="MicrosoftLogo4" id="green" d="M48 0H25.2v22.8H48V0z" fill="#7FBA00"/><path key="MicrosoftLogo5" id="red" d="M22.8 0H0v22.8h22.8V0z" fill="#F25022"/></svg>',St=i(60483),wt=i(81563);yt.q;const Tt=e=>e.showSearchBoxOverlay?"aboveSearchBoxOverlay":"",kt=vt.d`
<div id="searchBoxOverlay"></div>
`,Ot=vt.d`
<div id="welcomeGreetingHolder" class="${e=>Tt(e)} ${e=>e.isTwoOrThreeColumnArrangement?"welcome_greeting_absolute":""}">${e=>(0,wt.O)(e.childRefs.welcomeGreeting)}</div>
`,Et=vt.d`
<div class="${e=>Tt(e)}">${e=>(0,wt.O)(e.childRefs.welcomeGreeting)}</div>
`,It=vt.d`
<div id="microsoftBrandingHolder" class="${e=>Tt(e)}">
${Ct}
</div>
`,At=vt.d`
    <div id="bgOuterHolder" class="bgOuterHolder" ${(0,Fe.Fl)({stickyClassName:"bgOuterHolder_sticky_header",breakpointName:Ve})}>
        <div id="bgInnerHolder" style="height:${e=>e.imageHeight};">
        ${e=>{var t,i;return(0,wt.O)(e.childRefs.backgroundImage,{properties:{translucentFeedEnabled:e.config.translucentFeed,windowsBlurOpacity:(null===(t=e.config.translucentFeed)||void 0===t?void 0:t.windowsBlur)&&e.showFeedTranslucent&&e.navIsSticky,wholePageTranslucentFeed:null===(i=e.config.translucentFeed)||void 0===i?void 0:i.wholePageOpacity}})}}
        </div>
    </div>
`,Pt=vt.d`
    <div id="bgOuterHolder" class="bgOuterHolder" ${(0,Fe.Fl)({stickyClassName:"bgOuterHolder_sticky",breakpointName:Ve})}>
        <div id="bgInnerHolder" style="height:${e=>e.imageHeight};">
        ${e=>{var t,i;return(0,wt.O)(e.childRefs.backgroundImage,{properties:{translucentFeedEnabled:e.config.translucentFeed,windowsBlurOpacity:(null===(t=e.config.translucentFeed)||void 0===t?void 0:t.windowsBlur)&&e.showFeedTranslucent&&e.navIsSticky,wholePageTranslucentFeed:null===(i=e.config.translucentFeed)||void 0===i?void 0:i.wholePageOpacity}})}}
        </div>
    </div>
`,xt=vt.d`
<div class="navAndContent ${e=>e.config.enableOneColumn?"navAndContentOneColumn":""} ${e=>e.showFeedTranslucent?"navAndContent_tb":""} ${e=>{var t;return(null===(t=e.config.translucentFeed)||void 0===t?void 0:t.windowsBlur)&&e.showFeedTranslucent&&!e.navIsSticky?"navAndContent_wb":""}} ${e=>{var t;return(null===(t=e.config.translucentFeed)||void 0===t?void 0:t.windowsBlur)&&e.showFeedTranslucent&&e.navIsSticky?"navAndContent_nwb":""}}" style=${e=>e.navOverrideStyles}>
    ${e=>(0,wt.O)(e.childRefs.backToTopButton)}
    <div id="recommendedSites">${(0,bt.g)((e=>!e.enableHiddenRecommendedSitesStyles),vt.d`${e=>(0,wt.O)(e.childRefs.recommendedSites)}`)}</div>
    <div class="navAndContent_feed">
    <div id="g_nav" class="nav ${e=>e.className} ${e=>e.config.enableOneColumn?"navStickyOneColumn":""} ${e=>e.conditionalBannerShown?"conditionalBannerShown":""}" ${(0,Fe.Fl)({stickyClassName:"nav_sticky",breakpointName:Ge})} ${e=>e.config.zoomRatio?"zoom-container":""}">
    <div class="contentSized navSized ${e=>e.config.enableOneColumn?"contentSizedOneColumn":""} ${e=>e.config.enableNavGap8px?"navGap8px":""} ${e=>e.isSingleColumn?"singleColumnNav":""}">
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav&&e.isSingleColumn),vt.d`${e=>(0,wt.O)(e.childRefs.pivotsNavSingleColumn,{telemetryObject:new St.D({type:A.c9.Module,name:"PivotsNav"})})}`)}
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav&&!e.isSingleColumn),vt.d`${e=>(0,wt.O)(e.childRefs.pivotsNav,{telemetryObject:new St.D({type:A.c9.Module,name:"PivotsNav"})})}`)}
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav&&e.renderFeedNavigationHeader),vt.d`${e=>{var t;return(0,wt.O)(e.childRefs.feedNavigationHeader,{properties:{defaultSingleColumnContent:e.isSingleColumn,selectedFeedDisplaySetting:null===(t=e.layoutState)||void 0===t?void 0:t.selectedFeedDisplaySetting},memoize:!1})}}`)}
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav&&!e.isSingleColumn),vt.d`${e=>(0,wt.O)(e.childRefs.personalizeNavButton)}`)}
                ${(0,bt.g)((e=>e.config.enableHorizontalNav),vt.d`
                <div class="horizontal">
                ${e=>(0,wt.O)(e.childRefs.horizontalNav)}
                </div>
                `)}
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav&&e.config.feedToggleDropdownEnabled),vt.d`${e=>(0,wt.O)(e.childRefs.feedToggle)}`)}
                ${(0,bt.g)((e=>!e.config.enableHorizontalNav),vt.d`${e=>(0,wt.O)(e.childRefs.layoutToggle)}`)}
                </div>
        </div>
        ${(0,bt.g)((e=>e.navIsSticky&&!e.disableStickyHeader),vt.d`<div class="nav_surrogate"></div>`)}
        <div class="contentSized ${e=>e.config.enableOneColumn?"contentSizedOneColumn":""} ${e=>e.config.linearZoomRatio&&e.isSingleColumn?"zoomLinearContainer":""}">
            ${e=>(0,wt.O)(e.childRefs.breakingNews)}
            ${(0,bt.g)((e=>e.isSingleColumn),vt.d`${e=>(0,wt.O)(e.childRefs.pivotContentSingleColumn,{includeTelemetryTag:!1})}`)}
            ${(0,bt.g)((e=>!e.isSingleColumn),vt.d`${e=>(0,wt.O)(e.childRefs.pivotContent,{includeTelemetryTag:!1})}`)}
        </div>
    </div>
</div>`,Mt=vt.d`
${(0,bt.g)((e=>e.renderSignInControls&&e.renderSignInBanner&&!e.renderDefaultBrowserReclaimBanner),vt.d`<div class="signInBannerHolder">${e=>(0,wt.O)(e.childRefs.signInBanner)}</div>`)}
${(0,bt.g)((e=>e.renderDefaultBrowserReclaimBanner),vt.d`<div id="defaultBrowserReclaimBannerHolder">${e=>(0,wt.O)(e.childRefs.defaultBrowserReclaimBanner)}</div>`)}
${(0,bt.g)((e=>e.childRefs.conditionalBanner),vt.d`<div class="conditionalBannerHolder">${e=>(0,wt.O)(e.childRefs.conditionalBanner)}</div>`)}
${(0,bt.g)((e=>e.childRefs.coachmark),vt.d`<div class="coachMarkHolder">${e=>(0,wt.O)(e.childRefs.coachmark)}</div>`)}
${(0,bt.g)((e=>e.childRefs.stickyPeek),vt.d`<div class="stickyPeekHolder">${e=>(0,wt.O)(e.childRefs.stickyPeek)}`)}
<div id="headerGrid" style="grid-template-rows: ${e=>e.gridRows};height:${e=>e.headerHeight};" role="${e=>"off"===e.layoutState.selectedFeedDisplaySetting?"main":"banner"}">
    ${(0,bt.g)((e=>e.showSearchBoxOverlay),kt)}
    <div class="companyLogoHolder_aboveSearch ${e=>Tt(e)}" ${e=>e.logoRow?"grid-row: ${x => x.logoRow};":""} ${We()}>
        ${(0,bt.g)((e=>"always"!==e.layoutState.selectedFeedDisplaySetting&&!e.layoutState.imageOfTheDayEnabled),vt.d`${Ct}`)}
    </div>
    <div id="searchHolder" class="${e=>Tt(e)} ${e=>e.enableOneColumn?"searchStickyOneColumn":""} ${e=>e.config.enableSignInBanner&&e.renderSignInControls||e.renderDefaultBrowserReclaimBanner?"signInBanner":""}" style="grid-row: ${e=>e.searchRow};" ${We()} ${(0,Fe.Fl)({stickyClassName:"searchHolder_sticky",breakpointName:qe})}>
        ${e=>(0,wt.O)(e.childRefs.search,{properties:{toggleOverlay:e.toggleSearchBoxOverlay}})}
        ${(0,bt.g)((e=>!e.config.showTransparentShScrolldown),(e=>(0,wt.O)(e.childRefs.searchHistory)))}
    </div>
    ${(0,bt.g)((e=>e.config.showTransparentShScrolldown),vt.d`<div id="c_srch_hist" style="grid-row: ${e=>e.searchHistoryRow}; z-index: 1;" class="${e=>e.childRefs.newsbarToggle&&e.showNewsbarToggle&&(e.config.enableNewsbarToggleSearchPositionStart||e.config.enableNewsbarToggleSearchPositionEnd)?"newsbar-toggle-search-container":""}">
        ${(0,bt.g)((e=>e.childRefs.newsbarToggle&&e.showNewsbarToggle&&e.config.enableNewsbarToggleSearchPositionStart),vt.d`<span class="newsbar-toggle-holder newsbar-toggle-search newsbar-toggle-search-start" ${We()}>${e=>(0,wt.O)(e.childRefs.newsbarToggle)}</span>`)}
        <div class="search-history-container">${e=>(0,wt.O)(e.childRefs.searchHistory,{properties:{belowSearchSuggestionsClass:e.childRefs.newsbarToggle&&e.showNewsbarToggle&&(e.config.enableNewsbarToggleSearchPositionStart||e.config.enableNewsbarToggleSearchPositionEnd)?"newsbar-toggle-suggestions":""}})}</div>
        ${(0,bt.g)((e=>e.childRefs.newsbarToggle&&e.showNewsbarToggle&&e.config.enableNewsbarToggleSearchPositionEnd),vt.d`<span class="newsbar-toggle-holder newsbar-toggle-search newsbar-toggle-search-end" ${We()}>${e=>(0,wt.O)(e.childRefs.newsbarToggle)}</span>`)}
    </div>`)}
    ${(0,bt.g)((e=>!e.enableLeftRail),vt.d`
        <div id="waffleHolder" class="${e=>Tt(e)} ${e=>e.enableOneColumn?"bannerOneColumn":""} ${e=>e.isTwoOrThreeColumnArrangement?"waffle_absolute":""}">
            ${e=>(0,wt.O)(e.childRefs.waffle)}
        </div>`)}
    ${(0,bt.g)((e=>e.enableLeftRail),vt.d`
        <div id="leftRailHolder" class="${e=>Tt(e)}">
            ${e=>(0,wt.O)(e.childRefs.officeLeftRail)}
        </div>`)}
     ${(0,bt.g)((e=>!e.config.addBrandLogo&&e.layoutState.greetingEnabled&&e.showGreeting&&e.childRefs.welcomeGreeting&&e.columnArrangement>="c3"&&"greeting"===e.config.topLeftDisplayMode&&!e.edgeLiteLowModuleModeEnabled),Ot)}
     ${(0,bt.g)((e=>e.childRefs.newsbarToggle&&e.showNewsbarToggle&&e.config.enableNewsbarToggleStartPosition),vt.d`<span class="newsbar-toggle-holder newsbar-toggle-header newsbar-toggle-header-start">${e=>(0,wt.O)(e.childRefs.newsbarToggle)}</span>`)}
     ${(0,bt.g)((e=>!e.config.logoOnLeft&&e.config.addBrandLogo&&e.layoutState.imageOfTheDayEnabled&&e.layoutState.greetingEnabled&&e.childRefs.welcomeGreeting&&e.columnArrangement>="c3"&&"greeting"===e.config.topLeftDisplayMode&&!e.edgeLiteLowModuleModeEnabled),It)}
     ${(0,bt.g)((e=>e.config.logoOnLeft&&e.showCompanyLogo&&e.config.companyLogo&&e.companyLogoImage),vt.d`<div class="companyLogoHolder_header_left ${e=>e.getCompanyLogoClassName()}">
        <enterprise-company-logo
            :image=${e=>e.companyLogoImage}
            :backplateImage=${e=>e.showBackplate}
            :horizontalFlip=${e=>e.horizontalFlip}
        >
        </enterprise-company-logo>
        </div>`)}
     <div id="topSitesHolder" style="grid-row: ${e=>e.topSitesRow};" ${We()}>
        ${e=>(0,wt.O)(e.childRefs.topSites,{properties:{defaultCollapsedState:e.topSitesLayoutState.isTopSitesCollapsed,showCollapsibleControl:e.config.topSitesCollapsibleControlConfig.showCollapsibleControl,selectedQuickLinksDisplaySetting:e.quickLinksDisplaySetting}})}
    </div>
    <div id="topEndCorner" class="${e=>Tt(e)} ${e=>e.enableOneColumn?"bannerOneColumn":""} ${e=>e.isTwoOrThreeColumnArrangement?"top_end_corner_absolute":""}">
        ${(0,bt.g)((e=>e.renderSignInControls&&e.renderSignInButton&&!e.config.disableSignInButton),vt.d`${e=>(0,wt.O)(e.childRefs.signInControl)}`)}
        ${(0,bt.g)((e=>e.config.addBrandLogo&&e.showGreeting&&e.layoutState.greetingEnabled&&e.childRefs.welcomeGreeting&&e.columnArrangement>="c4"&&"greeting"===e.config.topLeftDisplayMode&&!e.edgeLiteLowModuleModeEnabled),Et)}
        ${(0,bt.g)((e=>e.childRefs.msRewards&&e.showRewards&&!e.edgeLiteLowModuleModeEnabled),vt.d`${e=>(0,wt.O)(e.childRefs.msRewards)}`)}
        ${(0,bt.g)((e=>!e.config.logoOnLeft&&e.showCompanyLogo&&e.config.companyLogo&&e.companyLogoImage),vt.d`<div id="companyLogo" class="companyLogoHolder_header ${e=>e.getCompanyLogoClassName()}">
            <enterprise-company-logo
                :image=${e=>e.companyLogoImage}
                :backplateImage=${e=>e.showBackplate}
                :horizontalFlip=${e=>e.horizontalFlip}
            >
            </enterprise-company-logo>
        </div>`)}
        ${(0,bt.g)((e=>e.childRefs.notificationBell&&"off"!==e.layoutState.selectedFeedDisplaySetting&&!e.edgeLiteLowModuleModeEnabled&&e.isNotificationEnabledByAdmin),vt.d`${e=>(0,wt.O)(e.childRefs.notificationBell,{properties:{isSingleColumn:e.isSingleColumn,enableWinHPCustomBackButtonBehaviorQsp:e.enableWinHPCustomBackButtonBehaviorQsp}})}`)}
        ${e=>(0,wt.O)(e.childRefs.settings)}
        ${(0,bt.g)((e=>e.childRefs.themePicker),vt.d`<div class="themePickerHolder">${e=>(0,wt.O)(e.childRefs.themePicker)}</div>`)}
    </div>
     ${(0,bt.g)((e=>e.config.enableHorizontalNav&&e.renderBottomRightCorner&&"off"!==e.layoutState.selectedFeedDisplaySetting),vt.d`<div id="bottomRightCorner" class="${e=>e.bottomRightCornerClassName}">
        ${(0,bt.g)((e=>e.config.feedToggleDropdownEnabled),vt.d`${e=>(0,wt.O)(e.childRefs.feedToggle)}`)}
        ${e=>(0,wt.O)(e.childRefs.layoutToggle)}
    </div>`)}
    ${(0,bt.g)((e=>e.config.complianceHyperlink),vt.d`<a href=${e=>e.config.complianceHyperlink.url} id="complianceHyperlink" class=${e=>e.layoutState.imageOfTheDayEnabled?"complianceHyperlink_imageEnabled":null} ${We()}>${e=>e.config.complianceHyperlink.text}</a>`)}
    ${(0,bt.g)((e=>e.renderSignInControls&&e.renderSignInFlyout&&e.config.enableSignInFlyoutCenter),vt.d`<div class="centerSignInFlyoutHolder">${e=>(0,wt.O)(e.childRefs.signInFlyout)}</div>`)}
    ${(0,bt.g)((e=>e.childRefs.holidayEffects&&"off"!==e.layoutState.selectedFeedDisplaySetting&&"focused"!==e.layoutState.currentLayout),vt.d`
        <div
            class="holidayEffectsHolder ${e=>e.layoutState.currentBackgroundImageType!==B.HX.off?"darkMode":""}"
            id="holidayEffects"
            style="${e=>e.holidayEffectsPosition}"
        >
            ${e=>(0,wt.O)(e.childRefs.holidayEffects)}
        </div>
    `)}
</div>
${(0,bt.g)((e=>e.config.translucentFeed&&!e.disableStickyHeader),vt.d`<div ${(0,Fe.Fl)({stickyClassName:"translucentSticky",breakpointName:Ze})}></div>`)}
<div id="headerSpaceHolder" style="height:${e=>e.headerHeight};">
      ${(0,bt.g)((e=>e.config.enableHorizontalNav&&e.isSingleColumn),At)}
      ${(0,bt.g)((e=>!e.config.enableHorizontalNav||!e.isSingleColumn),Pt)}
      ${(0,bt.g)((e=>e.childRefs.newsbarToggle&&e.showNewsbarToggle&&e.config.enableNewsbarToggleFooterPosition),vt.d`<span class="newsbar-toggle-holder newsbar-toggle-footer" style="top: calc(${e=>e.headerHeight} - 40px)" ${We()}>${e=>(0,wt.O)(e.childRefs.newsbarToggle)}</span>`)}
</div>
${(0,bt.g)((e=>e.enableFeedback&&e.childRefs.feedback),vt.d`${e=>(0,wt.O)(e.childRefs.feedback,{properties:{isAutoHide:!e.isAlwaysMode}})}`)}
<div id="translucentFeedSentinel"></div>
${(0,bt.g)((e=>"off"!==e.layoutState.selectedFeedDisplaySetting),xt)}
${(0,bt.g)((e=>e.enableDevTools),vt.d`${e=>(0,wt.O)(e.childRefs.devTools)}`)}
${(0,bt.g)((e=>e.enableSideBar&&"off"!==e.layoutState.selectedFeedDisplaySetting&&"focused"!==e.layoutState.currentLayout),vt.d`${e=>(0,wt.O)(e.childRefs.sideBar)}`)}
${e=>(0,wt.O)(e.childRefs.cardAction)}
${e=>(0,wt.O)(e.childRefs.bingHealth)}
${e=>(0,wt.O)(e.childRefs.dailyBrief)}
${e=>(0,wt.O)(e.childRefs.outlookEmailPreview)}
${e=>(0,wt.O)(e.childRefs.shoppingSmartList)}
`;var Lt=i(9879),Dt=i(14165),Ft=i(8994),Rt=i(70783),Nt=i(68421),jt=i(45536),Bt=i(76298);const $t=(Z.K.Over+2).toString(),Ht=(Z.K.Over+3).toString(),Ut=((Z.K.Overlay-1).toString(),Bt.i`
#bottomRightCorner {
    right: 180px;
}

#bottomRightCorner.withoutMuseumCard {
    right: 25px;
}

.companyLogoHolder_header_left {
    left: 85px;
}

#companyLogo {
    visibility: hidden;
}

#leftRailHolder {
    left: 0;
}

.notificationBellHolder {
    right: 97px;
}

.themePickerHolder {
    right: 36px;
}

#topEndCorner {
    right: 36px;
}

.topEndCornerSignInFlyoutHolder {
    right: 81px;
}

#waffleHolder {
    left: 36px;
}

#microsoftBrandingHolder {
    left: 85px;
}

#welcomeGreetingHolder {
    left: 85px;
}

.newsbar-toggle-holder.newsbar-toggle-absolute {
    left: 190px;
}

.newsbar-toggle-footer {
    left: 12px;
}

.newsbar-toggle-header {
    left: 205px;
}
`),Wt=Bt.i`
#bottomRightCorner {
    left: 180px;
}

#bottomRightCorner.withoutMuseumCard {
    left: 25px;
}

.companyLogoHolder_header_left {
    right: 85px;
}

#leftRailHolder {
    right: 0;
}

.notificationBellHolder {
    left: 97px;
}

.topEndCornerSignInFlyoutHolder {
    left: 81px;
}

.themePickerHolder {
    left: 36px;
}

#topEndCorner {
    left: 36px;
}

#waffleHolder {
    right: 36px;
}

#welcomeGreetingHolder {
    right: 85px;
}

#microsoftBrandingHolder {
    right: 85px;
}

.newsbar-toggle-holder.newsbar-toggle-absolute {
    right: 190px;
}

.newsbar-toggle-footer {
    right: 12px;
}

.newsbar-toggle-header {
    right: 205px;
}
`,_t=Bt.i`
.companyLogoHolder_aboveSearch > svg {
    fill: white;
}

.navAndContent, .nav_sticky, .bgOuterHolder_sticky {
    background: #242424;
}

.translucentSticky {
    background: #242424;
}

.navAndContent_wb {
    background: rgba(0,0,0,.5) !important;
    backdrop-filter: blur(10px);
}
`,zt=`\n    @media (max-width: ${Lt.Cy.toString()}px) {\n        .contentSized.zoomLinearContainer,\n        .singleColumnNav {\n            width: ${Lt.L9.toString()}px;\n        }    \n    }\n\n    @media (min-width: ${Lt.Cy.toString()}px) and (max-width: ${Lt.vE.toString()}px) {\n        .contentSized.zoomLinearContainer,\n        .singleColumnNav {\n            width: ${Lt.Cy.toString()}px;\n        }    \n    }\n\n    @media (min-width: ${Lt.vE.toString()}px) and (max-width: ${Lt.Md.toString()}px) {\n        .contentSized.zoomLinearContainer,\n        .singleColumnNav {\n            width: ${Lt.vE.toString()}px;\n        }   \n    }\n\n    @media (min-width: ${Lt.Md.toString()}px) {\n        .contentSized.zoomLinearContainer,\n        .singleColumnNav {\n            width: ${Lt.Md.toString()}px;\n        }   \n    }`,Vt=Bt.i`
.aboveSearchBoxOverlay {
    z-index: ${Z.K.Overlay.toString()} !important;
}

.backplateNonSVG {
    top: 16px;
}

.backplateSVG {
    top: 28px;
}

.newsbar-toggle-absolute {
    position: absolute;
    top: 38px;
    z-index: ${$t};
}

.search-history-container {
    flex: 1;
}

.newsbar-toggle-search {
    display: inline-block;
}

.newsbar-toggle-search-container {
    column-gap: 10px;
    width: 755px;
    display: flex;
    align-items: center;
    margin-top: 10px;
}

.newsbar-toggle-footer {
    position: relative;
}

.newsbar-toggle-header {
    z-index: ${$t};
    position: absolute;
    top: 37px;
}

.bgOuterHolder {
    height: 100%;
    overflow: hidden;
    position: fixed;
    width: 100%;
}

.bgOuterHolder_sticky {
    background: #F7F7F7;
    height: 108px;
    z-index: ${Z.K.Over.toString()};
}

.bgOuterHolder_sticky_header {
    background: #F7F7F7;
    height: 148px;
    z-index: ${Z.K.Over.toString()};
}

#bgInnerHolder {
    height: 100%;
    opacity: 1;
    overflow: hidden;
    top: 0px;
    transform: scale(1);
    width: 100%;
}

.coachMarkHolder {
    left: initial;
    position: fixed;
    z-index: ${Z.K.Flyout.toString()};
}

.companyLogoHolder_aboveSearch {
    align-self: end;
    height: 48px;
    opacity: 1;
    width: 225px;
}

.companyLogoHolder_aboveSearch > svg {
    fill: #737373;
}

.companyLogoHolder_header {
    z-index: ${$t};
    padding-inline-end: 10px;
}

.companyLogoHolder_header_left {
    position: fixed;
    z-index: ${$t};
}

#complianceHyperlink {
    bottom: 16px;
    color: ${Ft.Q5n};
    font-size: 10px;
    justify-self: self-start;
    padding: 0 8px;
    opacity: 1;
    position: absolute;
    text-decoration: none;
    transition: opacity 0.2s;
    z-index: ${$t};
}

#complianceHyperlink.complianceHyperlink_imageEnabled {
    color: white;
    opacity: 0.64;
}

.complianceHyperlink_hide {
    opacity: 0 !important;
}

.conditionalBannerHolder {
    max-height: 200px;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: ${Z.K.Overlay.toString()};
}

#headerGrid {
    display: grid;
    justify-items: center;
    position: absolute;
    top: 0;
    width: 100%;
}

#microsoftBrandingHolder {
    position: fixed;
    top: 42px;
    z-index: ${$t};
}

#microsoftBrandingHolder > svg {
    width: 125px;
    height: 24px;
    fill: #fff;
}

.headerGrid_hidden {
    opacity: 0;
    transition: opacity 0.2s;
    z-index: 1;
}

.headerGrid_visible {
    opacity: 1;
    transition: opacity 0.2s;
}

#headerSpaceHolder {
    transition: height .3s ease-out;
}

.holidayEffectsHolder {
    position: absolute;
    bottom: 7px;
    opacity: 1;
}

.holidayEffectsHolder.darkMode {
    --border: none;
    --bg-color: #0000008A;
    --flipper-color: #fff;
}

.holidayEffectsSticky {
    --menu-opacity: 0;
}

#leftRailHolder{
    position: fixed;
    top: 0;
    z-index: ${(Z.K.Nav+3).toString()};
}

.nav {
    display: flex;
    height: 50px;
    justify-content: center;
    z-index: ${Z.K.Nav.toString()};
}

.horizontal_nav_height{
    height:10px;
}

.horizontal_nav_height_single{
    height:10px;
    top:148px !important;
}

.newsbar-toggle-holder {
    /* Minimum dimensions required for animation */
    min-width: 1px;
    min-height: 20px;
    display: inline-block;
}

.navAndContent {
    align-items: center;
    background: #F7F7F7;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    position: relative;
    transition: background-color .3s ease-out;
}

.navAndContent.navAndContent_tb {
    background: #00000051;
}

.navAndContent_wb {
    background: rgba(255,255,255,.5) !important;
    backdrop-filter: blur(10px);
    transition: unset !important;
}

.navAndContent.navAndContent_nwb {
    transition: unset;
}

#recommendedSites {
    align-items: center;
    display: flex;
    flex-direction: column;
}

.navAndContent_feed {
    align-items: center;
    display: flex;
    flex-direction: column;
}

.navAndContent_feed_hidden_rs {
    background: #00000051;
}

.navGap8px {
    gap: 8px;
}

.nav_sticky {
    background: #F7F7F7;
    position: fixed;
    top: 108px;
    width: 100%;
}

.nav_surrogate {
    height: 50px;
}

.navSized {
    align-items: center;
    display: flex;
    gap: 5px;
}

.nonSvgLogo {
    top: 28px;
}

.notificationBellHolder {
    position: fixed;
    top: 38px;
    z-index: ${$t};
}

#searchBoxOverlay {
    background: #000;
    height: 100%;
    left: 0;
    opacity: 0;
    position: fixed;
    top: 0;
    transition: opacity 0.2s;
    width: 100%;
    z-index: ${Z.K.Overlay.toString()};
}

#searchHolder {
    z-index: ${$t};
}

.searchHolder_sticky {
    display: grid;
    justify-content: center;
    position: fixed;
    top: 32px;
}

.signInBanner.searchHolder_sticky {
    display: grid;
    justify-content: center;
    position: fixed;
    top: 40px;
    width: 100%;
}

.centerSignInFlyoutHolder {
    position: fixed;
    top: 25%;
    z-index: ${Z.K.Overlay.toString()}
}

.topEndCornerSignInFlyoutHolder {
    position: fixed;
    top: 75px;
    z-index: ${Z.K.Overlay.toString()}
}

.svgLogo {
    top: 40px;
}

.themePickerHolder {
    position: fixed;
    top: 70px;
    z-index: ${$t};
}

#topEndCorner {
    align-items: center;
    display: flex;
    gap: 12px;
    position: fixed;
    top: 38px;
    z-index: ${$t};
}

.translucentSticky {
    background: #F7F7F7;
    height: 108px;
    position: fixed;
    top: 0px;
    width: 100%;
    z-index: ${Z.K.Over.toString()};
}

#bottomRightCorner {
    align-items: center;
    display: flex;
    gap: 12px;
    bottom: 7px;
    position: absolute;
    z-index: ${Ht};
}

#bottomRightCorner.withoutMuseumCard {
    bottom: 7px;
}

#topSitesHolder {
    height: 100%;
    min-width: 0;
    z-index: ${Ht};
}

.topSitesZoomHidden {
    visibility: hidden;
}

#waffleHolder {
    position: fixed;
    top: 38px;
    z-index: ${$t};
}

#welcomeGreetingHolder {
    position: fixed;
    top: 29px;
    z-index: ${$t};
}

.horizontal_nav_height {
    height: 10px;
}

 @media (max-width: 1097px) {
      #topSitesHolder {
        height: 100%;
    }
 }

.newsbar-toggle-search-container {
    display: none;
}

${(0,U.vW)(null,U.K$.c2)} {
    .contentSized {
        width: ${Dt._3.toString()}px;
    }

    .singleColumnNav {
        width: ${Lt.L9.toString()}px;
    }

    #topSitesHolder {
        height: 100%;
    }
}

${(0,U.eH)(U.K$.c3)} {
    .contentSized {
        width: ${Dt.Xn.toString()}px;
    }

    .singleColumnNav {
        width: ${Lt.Cy.toString()}px;
    }
}

${(0,U.eH)(U.K$.c4)} {
    .contentSized {
        width: ${Dt.xX.toString()}px;
    }

    .singleColumnNav .horizontal {
        display:none;
    }

    .singleColumnNav {
        width: ${Lt.vE.toString()}px;
    }

    .newsbar-toggle-search-container {
        display: flex;
    }
}

${(0,U.vW)(U.K$.c5,null)} {
    .contentSized {
        width: ${Dt.sc.toString()}px;
    }

    .singleColumnNav .horizontal {
        display:none;
    }

    .singleColumnNav {
        width: ${Lt.Md.toString()}px;
    }

    .newsbar-toggle-search-container {
        display: flex;
    }
}

${(0,U.vW)(U.K$.c6,null)} {
    .contentSized {
        width: ${Dt.OE.toString()}px;
    }

    .singleColumnNav .horizontal {
        display:none;
    }

    .singleColumnNav {
        width: ${Lt.Md.toString()}px;
    }

    .newsbar-toggle-search-container {
        display: flex;
    }
}

.waffle_absolute#waffleHolder, .welcome_greeting_absolute#welcomeGreetingHolder, .top_end_corner_absolute#topEndCorner {
    position: absolute;
}

${(0,U.vW)(null,U.K$.c1)} {
    .contentSizedOneColumn {
        width: ${Dt.xs.toString()}px;
    }
    
    .contentSizedOneColumn feed-toggle {
        display: none;
    }
    .navStickyOneColumn {
        top: 0;
    }
    .navStickyOneColumn.conditionalBannerShown {
        top: 30px;
    }
    .searchStickyOneColumn {
        top: -60px;
    }
    #topEndCorner.bannerOneColumn, #waffleHolder.bannerOneColumn {
        top: 0;
        position: absolute;
        grid-row: 1 / auto;
    }
    .navAndContentOneColumn {
        z-index: 401;
    }
    .bannerOneColumn .companyLogoHolder_header {
        position: absolute;
    }
}
`.withBehaviors(new Rt.O(Ut,Wt),(0,Nt.Uu)(_t),new jt.w("isZoomedLinear",!0,Bt.i`${zt}`)),Gt={experienceConfigSchema:g}},6117:function(e,t,i){"use strict";i.r(t),i.d(t,{SearchBoxEdgeNextWC:function(){return te},SearchBoxEdgeNextWCStyles:function(){return Pe},SearchBoxEdgeNextWCTemplate:function(){return Ce},ToolingInfo:function(){return xe}});var n=i(71564),r=i(38345),o=i(64690),s=i(84289),a=i(84925),c=i(81277),d=i(12517),l=i(83227);const u=(0,o.e)(l.x.searchBoxEdgeNextWC,"Web component search box for Anaheim NTP",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,s.ii)("formCodes","Form codes","Form codes for the search box",Object.assign(Object.assign({},(0,a.sz)("bingSearchEngine","Bing search engine")),(0,a.sz)("nonBingSearchEngine","Non-bing search engine")),["bingSearchEngine","nonBingSearchEngine"])),(0,s.ii)("autoSuggest","Autosuggest","Autosuggest settings",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,s.G)("cookieSharingDelayInSeconds","Cookie sharing delay")),(0,s.G)("delayBind","Delay binding","Delay binding",[0,1,2,3])),(0,s.JJ)("disableSuggestionFetchOnEmpty","Disable Suggestion fetching when no input is provided")),(0,s.JJ)("enableFeatures","Enable auto suggest features")),(0,s.JJ)("businessSearchResultsEnabled","Enable business search results")),(0,s.JJ)("feedSwitcherCheckEnabled","Enable feedswitcher check for business search")),(0,s.JJ)("enableNewSnrUrl","Enable new SnR url")),(0,a.sz)("features","AutoSuggest features")),(0,a.sz)("osMarket","OS market value")),(0,a.sz)("osLanguage","OS language value")),(0,a.sz)("partnerEndpoint","Partner endpoint value")),(0,s.JJ)("useMarketBasedUrl","Use market based AutoSuggest url")))),(0,a.sz)("actionUrl","Search action URL")),(0,s.JJ)("showVoiceSearchButton","Show voice search button")),(0,s.JJ)("showImageSearchButton","Show image search button")),(0,s.JJ)("showBoldSvg","Show bold SVG icons")),(0,s.JJ)("showBoldSvgAndColor","Show bold SVG icons with new color")),(0,s.JJ)("showTrendingNowAsGhostText","Show trending now as ghost text")),(0,s.JJ)("removeGhostText","Remove ghost text from search box")),(0,s.JJ)("removeGhostTextOnFocus","Remove ghost text on input focus")),(0,s.JJ)("showGhostTextPrefix","Show ghost text prefix")),(0,s.JJ)("enablePlaceholderFadeIn","Enable fade in animation on placeholder when loaded")),(0,s.G)("placeholderFadeInDuration","Duration of fade in animation on placeholder")),(0,s.JJ)("enableSearchBoxOverlay","Enable search box overlay")),(0,s.JJ)("enableCaptureFocusDhp","Capture focus in DHP search box for non-enterprise and Bing DSE users")),(0,s.JJ)("pillShapedSearchBox","Pill shaped search box")),(0,s.ii)("childExperienceReferencesWC","Web component child experience references","child experience references basing on Web component",Object.assign(Object.assign({},(0,c.Z)("voiceSearchWC","Voice Search WC")),(0,c.Z)("imageSearchWC","Image Search WC")))),(0,s.JJ)("warmWwwBing","Warm www.bing.com","Option to warm connection to primary Bing domain www.bing.com")),(0,s.JJ)("warmRBingStatics","Warm r.bing.com","Option to warm connection to Bing static domain r.bing.com")),(0,s.JJ)("enableOneColumn","support one column")),(0,s.JJ)("clarityEnabled","Flag to indicate Clarity WC lib is enabled and Search Box needs to be masked")),(0,d.u)({buttonText:"Button text",inputTitle:"Search input title",placeholderText:"Placeholder text",imageButtonTitle:"Image button title",tenantAvailableEnterprisePlaceholderText:"Placeholder text when Enterprise tenant name is available and default search provider is bing",tenantMissingEnterprisePlaceholderText:"Placeholder text when Enterprise tenant name is not available and default search provider is bing",voiceButtonTitle:"Voice button title"})),["formCodes","actionUrl"]);var g,p=i(33940),h=i(33090),f=i(58520),m=i(53076),v=i(82890),b=i(65135),y=i(38156),C=i(970),S=i(1334),w=i(66213),T=i(82423),k=i(65932),O=i(7009),E=i(18536),I=i(19388);!function(e){e[e.Immediately=0]="Immediately",e[e.OnPageLoad=1]="OnPageLoad",e[e.OnUserInteraction=2]="OnUserInteraction",e[e.OnBusinessSearchResultsReady=3]="OnBusinessSearchResultsReady"}(g||(g={}));const A="Search-AutoSuggest";var P=i(58155),x=i(54804),M=i(33379),L=i(12884),D=i(9344),F=i(85663);class R{constructor(e,t,i,n,r){this.autoSuggestProperties=e,this.osMarket=t,this.osLanguage=i,this.requestId=n,this.isDarkMode=r}addAutoSuggest(e){if(!(0,M.N)())return!1;if(w.jG.CurrentRequestTargetScope&&"kids"===w.jG.CurrentRequestTargetScope.audienceMode)return!1;const t=this.isDisabled(),i=window[R.globalObjectName];if(i)return i.enable(!t),this.updateAutoSuggestSessionId(),!0;if(t)return!1;const n=this.getCompleteUrl(),r=(0,L.b0)(n,void 0,!0,"use-credentials");r.onload=e;return document.getElementsByTagName("head")[0].appendChild(r),!0}invokeCookieSharing(){N((0,D.ej)(R.sharedCookieName),5)||(0,D.sq)(R.sharedCookieName,"SID=00",365,R.cookieDomain,"/")}isDisabled(){return new RegExp("\\b"+R.cookieCrumb+"=0\\b","i").test((0,D.ej)(R.cookieName))}updateAutoSuggestSessionId(){const e=/SID=[\da-z]+/i;if(!this.partnerSessionId){const t=(0,D.ej)(R.sharedCookieName);if(N(t,4)){const i=t.match(e);i&&N(i[0],5)&&(this.partnerSessionId=i[0].substr(4))}}const t=window[R.globalObjectName];if(t){const e=t["sid"];"function"==typeof e&&e(this.partnerSessionId)}}getCompleteUrl(){let e="";const t=P.c.getParamsFromUrl(location.search);return t.find((e=>"autosuggest_hook"===e.key))?this.getHookUrl(t):(e=this.autoSuggestProperties.useMarketBasedUrl?this.getMarketBasedUrl():this.getUrl(),this.shouldInitializeAutoSuggestOnPageLoad()&&(e+="&onload=1"),this.isDarkMode&&(e+="&rt=1"),(0,F.isNullOrUndefined)(this.autoSuggestProperties.zeroInputItemCount)||(e+=`&zict=${this.autoSuggestProperties.zeroInputItemCount}`),this.autoSuggestProperties.disableSearchHistory&&(e+="&shdis=1"),(0,F.isNullOrUndefined)(this.autoSuggestProperties.maxItemCount)||(e+=`&itemCount=${this.autoSuggestProperties.maxItemCount}`),e)}shouldInitializeAutoSuggestOnPageLoad(){return this.autoSuggestProperties.delayBind===g.Immediately||this.autoSuggestProperties.delayBind===g.OnPageLoad||this.autoSuggestProperties.delayBind===g.OnBusinessSearchResultsReady&&this.autoSuggestProperties.businessSearchResultsEnabled}getMarketBasedUrl(){const e=this.osMarket||"US",t=this.osLanguage||"en-US",i=(0,x.nP)().Locale;let n=["https","://www.bing.com/as/init?","pt=msnedgentp",this.osLanguage?"&setlang="+t:"",this.osMarket?"&cc="+e:"","&refig="+this.requestId].join("");return"en-us"!==t.toLowerCase()&&(n+="&endpt=1"),n+=this.getFeatures(),n+=this.autoSuggestProperties.businessSearchResultsEnabled?"&msbqf=true":"&msbqf=false",this.autoSuggestProperties.disableSuggestionFetchOnEmpty&&i&&"en-us"!==i.toLowerCase()&&(n+="&dfoe=1"),n}getHookUrl(e){const t="muidflt9-ismsft",i=(0,x.nP)().CurrentFlights,n=e.find((e=>"fdhead"===e.key)),r=n?n.value:"",o=e.find((e=>"asinturl"===e.key)),s=o&&o.value;if((i.indexOf(t)>-1||r.indexOf(t)>-1)&&s){return decodeURIComponent(s)}return this.getUrl()}getUrl(){const e=(0,x.nP)().Locale||"en-us";let t=["https","://www.bing.com/as/init?mkt=",e,"&pt=",this.autoSuggestProperties.partnerEndpoint,"&refig=",this.requestId].join("");return this.autoSuggestProperties.enableNewSnrUrl||"en-us"===e.toLowerCase()||(t+="&endpt=1"),t}getFeatures(){return this.autoSuggestProperties.enableFeatures&&this.autoSuggestProperties.features?"&features="+this.autoSuggestProperties.features:""}}function N(e,t){return"string"==typeof e&&(!t||e.length>=t)}function j(e){if(!e||e.disableAutoSuggest)return;const{autoSuggestProperties:t,requestId:i,isDarkMode:n,searchBoxContext:r,startPerfMarkerHandler:o}=e,{osMarket:s,osLanguage:a,useMarketBasedUrl:c,delayBind:d,businessSearchResultsEnabled:l,cookieSharingDelayInSeconds:u}=t,p=new R(t,c&&s,c&&a,i,n);if(d===g.OnUserInteraction||d===g.OnBusinessSearchResultsReady&&!l){r.autoSuggestEventHandler=B.bind(r,p),r.registerAutoSuggestOnSearchEventHandler=$.bind(r,e);const t=U(r.inputRef);null==t||t.addEventListener("keyup",r.autoSuggestEventHandler),null==t||t.addEventListener("click",r.autoSuggestEventHandler)}else d!==g.Immediately&&d!==g.OnPageLoad&&d!==g.OnBusinessSearchResultsReady||(o&&o(A),r.registerAutoSuggestOnSearchEventHandler=$.bind(r,e),p.addAutoSuggest(r.registerAutoSuggestOnSearchEventHandler));1===u&&p.invokeCookieSharing()}function B(e,t){if("keyup"===t.type){const e=t.key;if("Tab"===e||"Escape"===e)return}if(e.addAutoSuggest(this.registerAutoSuggestOnSearchEventHandler)){const e=U(this.inputRef);e.removeEventListener("click",this.autoSuggestEventHandler),e.removeEventListener("keyup",this.autoSuggestEventHandler)}}function $(e){const{autoSuggestProperties:t,endPerfMarkerHandler:i,searchBoxContext:n,searchOpenInNewWindow:r,action:o,telemetryCallback:s}=e,{delayBind:a}=t;if(a!==g.OnUserInteraction&&a!==g.OnPageLoad&&a!==g.OnBusinessSearchResultsReady||i&&i(A),r)return;const c=window.sj_evt,d=c&&c.fire;d&&(c.fire=function(...e){const[t,i]=e||[];if("AS.Navigate"===t){if(!i)return;const e=U(n.formRef);if(e&&e.attributes&&e.attributes["data-t"]){const t=E.u.get(e);t.contract.content.type=function(e){if(!e)return y.uH.Undefined;const t=e.toLowerCase();if("hs"===t)return y.uH.SearchHistory;if("pn"===t)return y.uH.TrendingSearch;return y.uH.AutoSuggestSearch}(i.stype),E.u.setAttribute(e,t.contract)}}"onSearch"===t&&(n.onAutoSuggestSuggestionClickHandler=H.bind(n,o,s),n.onAutoSuggestSuggestionClickHandler()),d.apply(n,e)})}function H(e,t){let i=e;const n=U(this.formRef);if(i){const e=(-1!==i.indexOf("?")?"&":"?")+"msnst=AS";if(i+=e,n.attributes&&n.attributes["data-t"]){const e=E.u.get(n);e.contract.overrideDestinationUrl=i,E.u.setAttribute(n,e.contract)}}t(n,y.Aw.Submit,y.wu.TextSearch)}function U(e){return e&&e.current?e.current:e}R.cookieCrumb="AS",R.globalObjectName="sa_inst",R.cookieName="SRCHHPGUSR",R.sharedCookieName="_SS",R.cookieDomain="msn.com";var W=i(25514),_=i(73898),z=i(65337),V=i(68364),G=i(26415),q=i(9533),Z=i(81555),Q=i(1103),K=i(4734),J=i(2312);const X="ghost-text-index",Y="ghost-text-timestamp",ee="ghost-text-content";class te extends h.l{constructor(){super(...arguments),this.pcCode=(0,C.L)().get("PC")||(0,C.L)().get("pc"),this.openVoiceSearchDialog=!1,this.openImageSearchDialog=!1,this.isVoiceSearchLoaded=!1,this.isImageSearchLoaded=!1,this.searchVisible=!0,this.isDefaultSearchBing="0"!==(0,C.L)().get("dsp"),this.trendingNowContent=[],this.autosuggestShown=!1,this.isRTLMarket=!1,this.inputOnFocus=()=>{this.placeholderText=""},this.inputOnBlur=()=>{this.setPlaceholderText(),this.isOpenSearchBoxButton&&(this.$emit("isOpenSearchBoxButton"),this.isOpenSearchBoxButton=!1)},this.onKeyCaptureChange=()=>{this.searchboxApiHandle&&(this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled)},this.handleFocusEvent=()=>{this.fakeFocused=!0,this.searchboxApiHandle&&this.searchboxApiHandle.startCapturingKeyStrokes()},this.onInputStart=()=>{this.fakeFocused&&(this.fakeFocused=!1,this.searchVisible=!1)},this.onInputCancel=()=>{this.searchVisible=!0},this.handleMouseDownEvent=e=>{this.inputElement!==e.target&&this.fakeFocused&&(this.fakeFocused=!1,this.searchboxApiHandle&&this.searchboxApiHandle.stopCapturingKeyStrokes())},this.onKeyPress=e=>{if("Enter"!==e.key)return!0;this.onSubmit(),this.formElement.submit()},this.onDocumentKeyPress=e=>{const t=e.target,i=new Set(["input","textarea","select","top-sites-edgenext","msn-top-site-dialog","msft-feed-layout"]);e.charCode>32&&e.charCode<=126&&"q"!==t.id&&!i.has(t.tagName.toLowerCase())&&this.inputElement.focus()},this.onVoiceSearchClick=e=>(0,p.mG)(this,void 0,void 0,(function*(){!this.isVoiceSearchLoaded&&this.config.childExperienceReferencesWC.VoiceSearchWC&&(yield(0,Q.Fg)(this.config.childExperienceReferencesWC.VoiceSearchWC),this.isVoiceSearchLoaded=!0),this.config.enableSearchBoxOverlay&&this.toggleOverlay(!1,!0),b.M.sendActionEvent(e.currentTarget),this.openVoiceSearchDialog=!this.openVoiceSearchDialog,e.stopImmediatePropagation()})),this.voiceSearchCancelCallback=()=>{this.openVoiceSearchDialog=!1},this.imageSearchCancelCallback=()=>{this.openImageSearchDialog=!1},this.voiceSearchSubmitCallback=e=>{if(!e)return;this.inputElement.value=e;const t=E.u.getTelemetryObject(this.formElement);t.contract.overrideDestinationUrl=this.config.actionUrl,t.contract.behavior=y.wu.VoiceSearch,E.u.setAttribute(this.formElement,null,t),b.M.sendActionEvent(this.formElement,y.Aw.Submit,y.wu.VoiceSearch),this.formElement.action="//www.bing.com/opaluqu/v1";const i=this.shadowRoot.getElementById("vshi");this.inputElement&&!i&&this.inputElement.appendChild(this.voiceSearchHiddenInputs()),this.formElement.submit()},this.voiceSearchHiddenInputs=()=>{const e=document.createElement("div");e.setAttribute("id","vshi");const t=e.appendChild(document.createElement("input"));t.setAttribute("type","hidden"),t.setAttribute("name","input"),t.setAttribute("value","2");const i=e.appendChild(document.createElement("input"));i.setAttribute("type","hidden"),i.setAttribute("name","uquresponseformat"),i.setAttribute("value","1");const n=e.appendChild(document.createElement("input"));return n.setAttribute("type","hidden"),n.setAttribute("name","uqubfprlg"),n.setAttribute("value","1"),e},this.onImageSearchClick=e=>(0,p.mG)(this,void 0,void 0,(function*(){!this.isImageSearchLoaded&&this.config.childExperienceReferencesWC.ImageSearchWC&&(yield(0,Q.Fg)(this.config.childExperienceReferencesWC.ImageSearchWC),this.isImageSearchLoaded=!0),this.config.enableSearchBoxOverlay&&this.toggleOverlay(!1,!0),this.openImageSearchDialog=!this.openImageSearchDialog,e.stopImmediatePropagation()})),this.onAutosuggestShown=()=>{this.autosuggestShown=!0,(0,S.Gg)(S.tk.search,!0)},this.onAutosuggestHidden=()=>{this.autosuggestShown&&((0,S.Gg)(S.tk.search,!1),this.autosuggestShown=!1)}}experienceConnected(){var e;const{showVoiceSearchButton:t,showImageSearchButton:i,enablePlaceholderFadeIn:n}=this.config,r=(0,T.K0)(m.z.ChromiumPageSettings).getCurrentState();this.isSignInButtonVisible=this.config.signInButtonEnabled&&""===(null===(e=r.primaryAccountInfo)||void 0===e?void 0:e.accountId),this.enableFocusRedirect=r.configData.inPageSearchBoxType===O.HT.redirect,this.isProjectEqual=r.configData.isEnrolledInProjectEqual,(0,k.Uo)(m.z.ChromiumPageSettings,(e=>{this.isOnImage=e.imageOfTheDayEnabled})),n&&(this.shouldPlaceholderFadeIn=!1);const o=window;o.chrome&&o.chrome.embeddedSearch&&(this.ntpApiHandle=o.chrome.embeddedSearch.newTabPage,this.searchboxApiHandle=o.chrome.embeddedSearch.searchBox),this.populateFormParameters(),this.populateTelemetryTags(),this.setTelemetryPersonalizationParam(),(0,q.FY)(Z._.searchBox,this),this.isRTLMarket="rtl"===document.dir}shadowDomPopulated(){const{showTrendingNowAsGhostText:e,enablePlaceholderFadeIn:t,enableSearchBoxOverlay:i,clarityEnabled:n}=this.config;this.inputElement=this.shadowRoot.getElementById("q"),this.formElement=this.shadowRoot.getElementById("srchfrm"),this.buttonElement=this.inputElement.shadowRoot.querySelector("fluent-button"),this.shadowRoot.querySelector("msft-search-box").removeAttribute("role"),window.addEventListener("openSearchBox",(()=>{this.inputElement.click(),this.inputElement.focus(),this.isOpenSearchBoxButton=!0})),(this.config.pillShapedSearchBox||this.isProjectEqual)&&(this.isRTLMarket?this.buttonElement.setAttribute("style","border-radius: 22px 0 0 22px"):this.buttonElement.setAttribute("style","border-radius: 0 22px 22px 0"),this.formElement.addEventListener("autosuggestRendered",this.nwasEvtHandler.bind(this)),this.formElement.addEventListener("autosuggestShown",this.shownEvtHandler.bind(this)),this.formElement.addEventListener("autosuggestHide",this.hiddenEvtHandler.bind(this))),i&&(this.inputElement.addEventListener("focus",(()=>{this.toggleOverlay(!0)})),this.shadowRoot.host.addEventListener("blur",(()=>{this.toggleOverlay(!1)}))),e&&!this.enableFocusRedirect?this.setGhostTextAsPlaceholderText():this.config.removeGhostText||this.setPlaceholderText(),(0,q.FY)(Z._.searchBox,this);const r=this.shadowRoot.getElementById("voice_srch_go");r&&(0,q.FY)(Z._.searchBoxVoiceButton,r),this.enableFocusRedirect?this.registerFocusRedirectHandler():(0,K.F_)().then((()=>{this.initAutoSuggest()})),this.config.enableCaptureFocusDhp&&this.isDefaultSearchBing&&"1"===(0,C.L)().get("startpage")&&this.inputElement.focus(),(0,I.BW)(v.p.searchBox),requestAnimationFrame((()=>{setTimeout((()=>{const e=this.markVisuallyReady();(0,I.o_)(v.p.searchBox,!1,e),b.M.observeSingleElement(this.formElement.parentElement),t&&(0,J.lr)().then((()=>{this.shouldPlaceholderFadeIn=!0}))}))})),((0,w.Yq)().ClarityEnabled||n)&&this.formElement.setAttribute("data-clarity-mask","true"),this.warmBingConnections()}getExperienceType(){return l.x.searchBoxEdgeNextWC}shownEvtHandler(e){this.formElement.classList.add("droplistshow"),this.formElement.classList.remove("droplisthide")}hiddenEvtHandler(e){this.formElement.classList.add("droplisthide"),this.formElement.classList.remove("droplistshow"),this.isRTLMarket?this.buttonElement.setAttribute("style","border-radius: 22px 0 0 22px"):this.buttonElement.setAttribute("style","border-radius: 0 22px 22px 0")}nwasEvtHandler(e){"1"===e.srcElement.getAttribute("SuggMode")?(this.formElement.classList.add("nwas"),this.formElement.classList.remove("as"),this.isRTLMarket?this.buttonElement.setAttribute("style","border-radius: 22px 0 0 22px"):this.buttonElement.setAttribute("style","border-radius: 0 22px 22px 0")):(this.formElement.classList.add("as"),this.formElement.classList.remove("nwas"),this.buttonElement.setAttribute("style","border-radius: 0 22px 0 0"),this.isRTLMarket?this.buttonElement.setAttribute("style","border-radius: 22px 0 0 0"):this.buttonElement.setAttribute("style","border-radius: 0 22px 0 0"))}populateFormParameters(){const e=Object.assign({},this.config.formParameters);e.refig=b.M.getRequestId();const{formCodes:t}=this.config;e.form=this.isDefaultSearchBing?t.bingSearchEngine:t.nonBingSearchEngine,this.formParameters=Object.entries(e).map((e=>{const[t,i]=e;return{name:t,value:i}}))}setTelemetryPersonalizationParam(){const e={page:{has3PSearch:!this.isDefaultSearchBing,isSearchAB:this.enableFocusRedirect}};b.M.updatePageMetadata(e)}initAutoSuggest(){const e="AutoSuggest.Service.Elements.";(0,W.Z)(window,e+"Input",this.inputElement),(0,W.Z)(window,e+"Form",this.formElement),this.formElement.addEventListener("autosuggestShown",this.onAutosuggestShown),this.formElement.addEventListener("autosuggestHide",this.onAutosuggestHidden),this.enableFocusRedirect||document.body.addEventListener("keypress",this.onDocumentKeyPress,{capture:!0}),j(this.getAutoSuggestInitProps())}getAutoSuggestInitProps(){const{autoSuggest:e,actionUrl:t}=this.config;return{autoSuggestProperties:e,requestId:b.M.getRequestId(),telemetryCallback:b.M.sendActionEvent.bind(b.M),action:t,searchBoxContext:{inputRef:this.inputElement,formRef:this.formElement},isDarkMode:matchMedia("(prefers-color-scheme: dark)").matches}}registerFocusRedirectHandler(){this.ntpApiHandle&&(this.ntpApiHandle.oninputstart=this.onInputStart,this.ntpApiHandle.oninputcancel=this.onInputCancel,this.ntpApiHandle.isInputInProgress&&this.onInputStart()),this.searchboxApiHandle&&(this.searchboxApiHandle.onkeycapturechange=this.onKeyCaptureChange,this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled,this.searchboxApiHandle.isKeyCaptureEnabled&&this.searchboxApiHandle.startCapturingKeyStrokes()),this.inputElement.addEventListener("focus",this.handleFocusEvent),this.formElement.submit=_.Z,document.body.addEventListener("mousedown",this.handleMouseDownEvent)}setGhostTextAsPlaceholderText(){const e=(0,z.$o)(),t=e.getItem(X);this.ghostTextIndex=(0,F.isNullOrUndefined)(t)?0:(Number(t)+1)%2,e.setItem(X,String(this.ghostTextIndex));const i=e.getItem(Y);(0,F.isNullOrUndefined)(i)&&e.setItem(Y,String(Date.now()));const n=(Date.now()-Number(e.getItem(Y)))/6e4,r=e.getItem(ee);let o=r?JSON.parse(r):null;if(n<=60&&!(0,F.isNullOrUndefined)(o)&&o.length>0){for(let e=0;e<2;e++)this.trendingNowContent[e]=o[e];this.setPlaceholderText()}else o=this.getTrendingNow(),o.then((t=>{e.setItem(ee,JSON.stringify(t));for(let e=0;e<2;e++)this.trendingNowContent[e]=t[e];e.setItem(Y,String(Date.now())),this.setPlaceholderText()}))}getTrendingNow(){return(0,p.mG)(this,void 0,void 0,(function*(){try{const e=yield fetch("https://www.bing.com/AS/Suggestions?pt=msnedgentp&qry=&cp=0&contentWidth=760&cvid=2008c83fa40f4ac5a74034ee7fb4070b"),t=yield e.text(),i=document.createElement("div");i.innerHTML=t;const n=i.querySelectorAll(".sa_sg"),r=[];if(n.length>=2){for(let e=0;e<2;e++)r[e]=n[e].getAttribute("query");return r}return[]}catch(e){return(0,V.OO)(e,G.WnH.ContentURLFetchError,"getTrendingNow error ",e.toString()),[]}}))}setPlaceholderText(){const{placeholderText:e,tenantMissingEnterprisePlaceholderText:t,tenantAvailableEnterprisePlaceholderText:i}=this.config.localizedStrings;if(this.config.removeGhostTextOnFocus&&(this.inputElement.addEventListener("focus",this.inputOnFocus),this.inputElement.addEventListener("blur",this.inputOnBlur)),this.config.showTrendingNowAsGhostText&&!this.enableFocusRedirect){const e=this.trendingNowContent[this.ghostTextIndex];if(!(0,F.isNullOrUndefined)(e))return void(this.config.showGhostTextPrefix?this.placeholderText="Search... "+e:this.placeholderText=e)}if(!(0,w.Yq)().isAadAccountUser)return void(this.placeholderText=e);let n=!1;(0,k.Uo)(m.z.AdminPortalData,(e=>{if(n=!0,this.placeholderText)return;if(!e.settingsDataRecieved)return;const{company:r,isMsbEnabled:o}=e.settings||{};this.placeholderText=o&&r?i.replace(/\{0\}/g,r):t})),n||(this.placeholderText=t)}populateTelemetryTags(){const e={content:{headline:"",type:y.uH.TextSearch},behavior:y.wu.TextSearch,type:y.c9.SearchBox},t=this.telemetryObject.addOrUpdateChild(Object.assign(Object.assign({},e),{name:"headersearch"}));this.formTelemetryTag=t.getMetadataTag();const i=this.telemetryObject.addOrUpdateChild({name:"imagesearch",behavior:y.wu.Open,content:{type:y.uH.ImageSearch,headline:"Image Search"},overrideDestinationUrl:" "});this.imageSearchButtonTelemetryTag=i.getMetadataTag();const n=this.telemetryObject.addOrUpdateChild({name:"voicesearch",behavior:y.wu.Open,content:{type:y.uH.VoiceSearch,headline:"Voice Search"},overrideDestinationUrl:" "});this.voiceSearchButtonTelemetryTag=n.getMetadataTag()}onSubmit(){if(this.enableFocusRedirect)return;E.u.get(this.formElement).contract.destinationUrl=this.config.actionUrl,b.M.sendActionEvent(this.formElement,y.Aw.Submit,y.wu.TextSearch)}warmBingConnections(){const{warmWwwBing:e,warmRBingStatics:t}=this.config;if(!t&&!e)return;const i=(e,t=!1)=>{const i=document.createElement("link");i.rel="preconnect",i.href=e,t&&i.setAttribute("crossorigin",""),document.head.appendChild(i)};Promise.all([(0,K.F_)(),(0,J.lr)()]).then((()=>{t&&(i("https://r.bing.com"),i("https://r.bing.com",!0),i("https://r.msftstatic.com"),i("https://r.msftstatic.com",!0)),e&&i("https://www.bing.com")}))}}(0,p.gn)([f.LO],te.prototype,"ghostTextIndex",void 0),(0,p.gn)([f.LO],te.prototype,"isOnImage",void 0),(0,p.gn)([f.LO],te.prototype,"isOpenSearchBoxButton",void 0),(0,p.gn)([f.LO],te.prototype,"openVoiceSearchDialog",void 0),(0,p.gn)([f.LO],te.prototype,"openImageSearchDialog",void 0),(0,p.gn)([f.LO],te.prototype,"toggleOverlay",void 0),(0,p.gn)([f.LO],te.prototype,"isSignInButtonVisible",void 0),(0,p.gn)([f.LO],te.prototype,"fakeFocused",void 0),(0,p.gn)([f.LO],te.prototype,"searchVisible",void 0),(0,p.gn)([f.LO],te.prototype,"placeholderText",void 0),(0,p.gn)([f.LO],te.prototype,"shouldPlaceholderFadeIn",void 0);var ie=i(90563),ne=i(63243),re=i(78464),oe=i(82128);const se=ie.d`
<svg slot="search-options" viewBox="0 0 22 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="bingLogo">
<g clip-path="url(#clip0)">
    <path d="M21.6341 20.3822C21.6341 20.6972 21.617 21.0105 21.5827 21.3192C21.379 23.2023 20.5641 24.905 19.3373 26.222C19.4919 26.0503 19.6312 25.8659 19.7533 25.6685C19.8475 25.5184 19.9313 25.362 20.0021 25.1989C20.0278 25.1452 20.0512 25.0894 20.0706 25.0339C20.094 24.9803 20.1134 24.9244 20.1306 24.869C20.1499 24.8176 20.1671 24.7639 20.1819 24.7103C20.1968 24.6544 20.2121 24.599 20.2247 24.5431C20.227 24.5368 20.2293 24.53 20.2311 24.5237C20.2441 24.4678 20.2545 24.4124 20.2653 24.3565C20.2761 24.2988 20.2869 24.2407 20.2955 24.183C20.2955 24.1807 20.2955 24.1807 20.2955 24.1789C20.3041 24.1253 20.3104 24.0717 20.3149 24.0158C20.328 23.8891 20.3343 23.7629 20.3343 23.634C20.3343 22.9093 20.1346 22.2292 19.7853 21.6505C19.706 21.5153 19.6181 21.3868 19.5216 21.2647C19.4081 21.1186 19.2859 20.9816 19.153 20.855C18.8226 20.5354 18.4368 20.2736 18.01 20.0892C17.8256 20.0077 17.6327 19.9414 17.4353 19.8918C17.4331 19.8918 17.429 19.8896 17.4268 19.8896L17.3583 19.8661L16.3591 19.5232V19.5209L13.745 18.6222C13.7364 18.6199 13.7256 18.6199 13.7193 18.6181L13.5561 18.5582C13.0306 18.3522 12.5952 17.9664 12.323 17.4752L11.3689 15.0409L10.275 12.2528L10.065 11.7147L10.0113 11.6052C9.9514 11.4592 9.91895 11.3005 9.91895 11.1356C9.91895 11.0927 9.91895 11.0499 9.92345 11.0112C9.98565 10.3977 10.5067 9.9173 11.1372 9.9173C11.3044 9.9173 11.4653 9.95155 11.6113 10.0137L16.4826 12.5116L17.4435 13.0028C17.9518 13.3052 18.4255 13.6613 18.8587 14.0624C20.4285 15.5038 21.4579 17.5238 21.6125 19.7823C21.6255 19.9815 21.6341 20.1807 21.6341 20.3822V20.3822Z" fill="url(#paint0_linear)" />
    <path d="M20.3318 23.6336C20.3318 23.8824 20.3084 24.1226 20.2651 24.3565C20.252 24.4187 20.2394 24.4809 20.2245 24.5431C20.1966 24.6544 20.1668 24.7617 20.1303 24.869C20.111 24.9249 20.0916 24.9803 20.0704 25.0339C20.0488 25.0898 20.0253 25.1434 20.0019 25.1989C19.9311 25.362 19.8473 25.5184 19.7531 25.6685C19.631 25.8659 19.4912 26.0503 19.3371 26.222C18.6272 27.0071 16.2164 28.407 15.3281 28.9758L13.3558 30.181C11.9108 31.0716 10.5443 31.7016 8.82216 31.7445C8.74058 31.7467 8.66126 31.749 8.58194 31.749C8.47061 31.749 8.36109 31.7467 8.25157 31.7427C5.33506 31.6313 2.79129 30.0656 1.3247 27.7517C0.653599 26.6943 0.209655 25.4806 0.0595703 24.1767C0.374613 25.9588 1.92774 27.31 3.79996 27.31C4.45619 27.31 5.07185 27.145 5.60999 26.853C5.61405 26.8507 5.61856 26.8485 5.62306 26.8467L5.81596 26.7308L6.60109 26.2675L7.6003 25.6757V25.6478L7.7292 25.5707L16.6703 20.2736L17.3585 19.8661L17.427 19.8896C17.4293 19.8896 17.4333 19.8918 17.4356 19.8918C17.633 19.941 17.8259 20.0077 18.0102 20.0892C18.437 20.2736 18.8228 20.5354 19.1532 20.855C19.2862 20.9816 19.4083 21.1187 19.5219 21.2647C19.6183 21.3868 19.7062 21.5157 19.7855 21.6505C20.1321 22.2287 20.3318 22.9089 20.3318 23.6336V23.6336Z" fill="url(#paint1_linear)" />
    <path d="M7.60293 5.95561L7.59977 25.6748L6.60056 26.267L5.81499 26.7299L5.62163 26.8471C5.61848 26.8471 5.61262 26.8503 5.60992 26.853C5.07087 27.1432 4.45521 27.3104 3.79854 27.3104C1.92586 27.3104 0.375437 25.9592 0.0585915 24.1771C0.0437183 24.0951 0.0324507 24.0099 0.0234366 23.9279C0.0117183 23.7724 0.00315493 23.6201 0 23.4646V1.27189C0 0.571493 0.568789 0 1.27189 0C1.53555 0 1.78163 0.0820282 1.984 0.216789L5.87313 2.75786C5.89386 2.77544 5.91684 2.79031 5.94073 2.80473C6.94625 3.4907 7.60293 4.64541 7.60293 5.95561V5.95561Z" fill="url(#paint2_linear)" />
    <path opacity="0.15" d="M20.3318 23.6336C20.3318 23.8824 20.3084 24.1226 20.2651 24.3565C20.252 24.4187 20.2394 24.4809 20.2245 24.5431C20.1966 24.6544 20.1668 24.7617 20.1303 24.869C20.111 24.9249 20.0916 24.9803 20.0704 25.0339C20.0488 25.0898 20.0253 25.1434 20.0019 25.1989C19.9311 25.362 19.8473 25.5184 19.7531 25.6685C19.631 25.8659 19.4917 26.0503 19.3371 26.222C18.6272 27.0071 16.2164 28.407 15.3281 28.9758L13.3558 30.181C11.9108 31.0716 10.5443 31.7016 8.82216 31.7445C8.74058 31.7467 8.66126 31.749 8.58194 31.749C8.47061 31.749 8.36109 31.7467 8.25157 31.7427C5.33506 31.6313 2.79129 30.0656 1.3247 27.7517C0.653599 26.6943 0.209655 25.4806 0.0595703 24.1767C0.374613 25.9588 1.92774 27.31 3.79996 27.31C4.45619 27.31 5.07185 27.145 5.60999 26.853C5.61405 26.8507 5.61856 26.8485 5.62306 26.8467L5.81596 26.7308L6.60109 26.2675L7.6003 25.6757V25.6478L7.7292 25.5707L16.6703 20.2736L17.3585 19.8661L17.427 19.8896C17.4293 19.8896 17.4333 19.8918 17.4356 19.8918C17.633 19.941 17.8259 20.0077 18.0102 20.0892C18.437 20.2736 18.8228 20.5354 19.1532 20.855C19.2862 20.9816 19.4083 21.1187 19.5219 21.2647C19.6183 21.3868 19.7062 21.5157 19.7855 21.6505C20.1321 22.2287 20.3318 22.9089 20.3318 23.6336V23.6336Z" fill="url(#paint3_linear)" />
    <path opacity="0.1" d="M7.60293 5.95561L7.59977 25.6748L6.60056 26.267L5.81499 26.7299L5.62163 26.8471C5.61848 26.8471 5.61262 26.8503 5.60992 26.853C5.07087 27.1432 4.45521 27.3104 3.79854 27.3104C1.92586 27.3104 0.375437 25.9592 0.0585915 24.1771C0.0437183 24.0951 0.0324507 24.0099 0.0234366 23.9279C0.0117183 23.7724 0.00315493 23.6201 0 23.4646V1.27189C0 0.571493 0.568789 0 1.27189 0C1.53555 0 1.78163 0.0820282 1.984 0.216789L5.87313 2.75786C5.89386 2.77544 5.91684 2.79031 5.94073 2.80473C6.94625 3.4907 7.60293 4.64541 7.60293 5.95561V5.95561Z" fill="url(#paint4_linear)" />
</g>
<defs>
    <linearGradient id="paint0_linear" x1="8.22272" y1="13.7422" x2="22.1525" y2="21.7846" gradientUnits="userSpaceOnUse">
        <stop stop-color="#37BDFF" />
        <stop offset="0.1832" stop-color="#33BFFD" />
        <stop offset="0.3576" stop-color="#28C5F5" />
        <stop offset="0.528" stop-color="#15D0E9" />
        <stop offset="0.5468" stop-color="#12D1E7" />
        <stop offset="0.5903" stop-color="#1CD2E5" />
        <stop offset="0.7679" stop-color="#42D8DC" />
        <stop offset="0.9107" stop-color="#59DBD6" />
        <stop offset="1" stop-color="#62DCD4" />
    </linearGradient>
    <linearGradient id="paint1_linear" x1="0.0586689" y1="25.8072" x2="20.3317" y2="25.8072" gradientUnits="userSpaceOnUse">
        <stop stop-color="#39D2FF" />
        <stop offset="0.1501" stop-color="#38CEFE" />
        <stop offset="0.2931" stop-color="#35C3FA" />
        <stop offset="0.4327" stop-color="#2FB0F3" />
        <stop offset="0.5468" stop-color="#299AEB" />
        <stop offset="0.5827" stop-color="#2692EC" />
        <stop offset="0.7635" stop-color="#1A6CF1" />
        <stop offset="0.909" stop-color="#1355F4" />
        <stop offset="1" stop-color="#104CF5" />
    </linearGradient>
    <linearGradient id="paint2_linear" x1="3.80142" y1="27.5892" x2="3.80142" y2="0.480946" gradientUnits="userSpaceOnUse">
        <stop stop-color="#1B48EF" />
        <stop offset="0.1221" stop-color="#1C51F0" />
        <stop offset="0.3212" stop-color="#1E69F5" />
        <stop offset="0.5676" stop-color="#2190FB" />
        <stop offset="1" stop-color="#26B8F4" />
    </linearGradient>
    <linearGradient id="paint3_linear" x1="4.08828" y1="30.8105" x2="16.5991" y2="18.2997" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="0.3726" stop-color="#FDFDFD" />
        <stop offset="0.5069" stop-color="#F6F6F6" />
        <stop offset="0.6026" stop-color="#EBEBEB" />
        <stop offset="0.68" stop-color="#DADADA" />
        <stop offset="0.7463" stop-color="#C4C4C4" />
        <stop offset="0.805" stop-color="#A8A8A8" />
        <stop offset="0.8581" stop-color="#888888" />
        <stop offset="0.9069" stop-color="#626262" />
        <stop offset="0.9523" stop-color="#373737" />
        <stop offset="0.9926" stop-color="#090909" />
        <stop offset="1" />
    </linearGradient>
    <linearGradient id="paint4_linear" x1="3.80142" y1="0" x2="3.80142" y2="27.3102" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="0.3726" stop-color="#FDFDFD" />
        <stop offset="0.5069" stop-color="#F6F6F6" />
        <stop offset="0.6026" stop-color="#EBEBEB" />
        <stop offset="0.68" stop-color="#DADADA" />
        <stop offset="0.7463" stop-color="#C4C4C4" />
        <stop offset="0.805" stop-color="#A8A8A8" />
        <stop offset="0.8581" stop-color="#888888" />
        <stop offset="0.9069" stop-color="#626262" />
        <stop offset="0.9523" stop-color="#373737" />
        <stop offset="0.9926" stop-color="#090909" />
        <stop offset="1" />
    </linearGradient>
    <clipPath id="clip0">
        <rect width="21.6338" height="32" fill="white" />
    </clipPath>
</defs>
</svg>
`,ae=ie.d`
    <svg 
        width="14"
        height="20"
        viewBox="0 0 20 20"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        class="searchSvg ${e=>e.config.showBoldSvgAndColor?"voiceSearchSvgColor":""}"
    >
        <path d="M16.4001 11.7C15.9001 11.5 15.4001 11.7 15.2001 12.1C14.9001 12.5 14.6001 12.9 14.3001 13.2C13.8001 13.7 13.1001 14.2 12.4001 14.5C11.6001 14.8 10.8001 15 10.0001 15C9.20009 15 8.40008 14.8 7.70009 14.5C7.00009 14.2 6.30009 13.8 5.80009 13.2C5.50009 12.9 5.20009 12.5 4.90009 12.1C4.60009 11.7 4.10009 11.5 3.70009 11.7C3.10009 11.9 2.90009 12.6 3.20009 13.1C3.50009 13.7 3.90009 14.2 4.40009 14.6C5.10009 15.3 6.00009 15.9 6.90009 16.3C7.60009 16.6 8.30009 16.8 9.00009 16.9V19C9.00009 19.6 9.40009 20 10.0001 20C10.6001 20 11.0001 19.6 11.0001 19V16.9C11.7001 16.8 12.5001 16.6 13.1001 16.3C14.1001 15.9 14.9001 15.3 15.6001 14.6C16.1001 14.1 16.5001 13.6 16.8001 13.1C17.2001 12.6 16.9001 11.9 16.4001 11.7ZM10.0001 13C12.2001 13 14.0001 11.2 14.0001 9V4C14.0001 1.8 12.2001 0 10.0001 0C7.80009 0 6.00009 1.8 6.00009 4V9C6.00009 11.2 7.80009 13 10.0001 13ZM8.00009 4C8.00009 2.9 8.90009 2 10.0001 2C11.1001 2 12.0001 2.9 12.0001 4V9C12.0001 10.1 11.1001 11 10.0001 11C8.90009 11 8.00009 10.1 8.00009 9V4Z" />
    </svg>
`,ce=ie.d`
    <svg 
        width="14"
        height="20"
        viewBox="0 0 14 20"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        class="searchSvg"
    >
        <path d="M7 15.0001C6.47917 15.0001 5.99414 14.9024 5.54492 14.7071C5.0957 14.5118 4.69857 14.2449 4.35351 13.9063C4.00846 13.5678 3.73828 13.1706 3.54297 12.7149C3.34765 12.2592 3.25 11.7709 3.25 11.2501V3.75006C3.25 3.23574 3.34765 2.75071 3.54297 2.29498C3.73828 1.83925 4.00521 1.44212 4.34375 1.10358C4.68229 0.765035 5.07943 0.494853 5.53515 0.29303C5.99088 0.0912069 6.47917 -0.00644938 7 6.10352e-05C7.51432 6.10352e-05 7.99935 0.0977173 8.45508 0.29303C8.91081 0.488342 9.30794 0.755269 9.64648 1.09381C9.98502 1.43235 10.2552 1.83274 10.457 2.29498C10.6589 2.75722 10.7565 3.24225 10.75 3.75006V11.2501C10.75 11.7709 10.6523 12.2559 10.457 12.7051C10.2617 13.1544 9.99479 13.5515 9.65625 13.8965C9.31771 14.2416 8.91732 14.5118 8.45508 14.7071C7.99284 14.9024 7.50781 15.0001 7 15.0001ZM4.5 3.75006V11.2501C4.5 11.5951 4.5651 11.9174 4.69531 12.2169C4.82552 12.5163 5.00456 12.7833 5.23242 13.0176C5.46029 13.252 5.72396 13.4311 6.02344 13.5547C6.32292 13.6784 6.64844 13.7436 7 13.7501C7.34505 13.7501 7.66732 13.685 7.9668 13.5547C8.26627 13.4245 8.5332 13.2455 8.76758 13.0176C9.00195 12.7898 9.18099 12.5261 9.30469 12.2266C9.42838 11.9271 9.49349 11.6016 9.5 11.2501V3.75006C9.5 3.40501 9.43489 3.08274 9.30469 2.78326C9.17448 2.48378 8.99544 2.21686 8.76758 1.98248C8.53971 1.74811 8.27604 1.56907 7.97656 1.44537C7.67708 1.32168 7.35156 1.25657 7 1.25006C6.65495 1.25006 6.33268 1.31517 6.0332 1.44537C5.73372 1.57558 5.4668 1.75462 5.23242 1.98248C4.99805 2.21035 4.81901 2.47402 4.69531 2.7735C4.57161 3.07298 4.50651 3.3985 4.5 3.75006ZM12.625 10.0001C12.7682 10.0001 12.8789 10.0261 12.957 10.0782C13.0352 10.1303 13.097 10.2019 13.1426 10.293C13.1881 10.3842 13.2174 10.4818 13.2305 10.586C13.2435 10.6902 13.25 10.8008 13.25 10.918V11.2501C13.25 12.0508 13.1068 12.8093 12.8203 13.5255C12.5339 14.2416 12.14 14.8796 11.6387 15.4395C11.1374 15.9994 10.5417 16.4584 9.85156 16.8165C9.16146 17.1745 8.41927 17.3926 7.625 17.4708V18.7501H10.125C10.2943 18.7501 10.4408 18.8119 10.5645 18.9356C10.6881 19.0593 10.75 19.2058 10.75 19.3751C10.75 19.5443 10.6881 19.6908 10.5645 19.8145C10.4408 19.9382 10.2943 20.0001 10.125 20.0001H3.875C3.70573 20.0001 3.55924 19.9382 3.43555 19.8145C3.31185 19.6908 3.25 19.5443 3.25 19.3751C3.25 19.2058 3.31185 19.0593 3.43555 18.9356C3.55924 18.8119 3.70573 18.7501 3.875 18.7501H6.375V17.4708C5.57422 17.3926 4.83203 17.1745 4.14844 16.8165C3.46484 16.4584 2.87239 16.0027 2.37109 15.4493C1.86979 14.8959 1.47265 14.2579 1.17969 13.5352C0.886717 12.8126 0.743488 12.0508 0.749999 11.2501V10.6251C0.749999 10.4558 0.811848 10.3093 0.935546 10.1856C1.05924 10.0619 1.20573 10.0001 1.375 10.0001C1.51172 10.0001 1.62239 10.0261 1.70703 10.0782C1.79167 10.1303 1.85351 10.1954 1.89258 10.2735C1.93164 10.3516 1.96094 10.446 1.98047 10.5567C2 10.6674 2.00651 10.7715 2 10.8692V11.0645C2 11.1231 1.99674 11.185 1.99023 11.2501C1.99023 11.9402 2.12044 12.588 2.38086 13.1934C2.64127 13.7989 2.99935 14.3295 3.45508 14.7852C3.91081 15.2409 4.4414 15.599 5.04687 15.8594C5.65234 16.1199 6.30338 16.2533 7 16.2598C7.6901 16.2598 8.33789 16.1296 8.94336 15.8692C9.54883 15.6088 10.0794 15.2507 10.5352 14.795C10.9909 14.3393 11.349 13.8087 11.6094 13.2032C11.8698 12.5977 12.0033 11.9467 12.0098 11.2501V10.9376C12.0098 10.8334 12.0065 10.7292 12 10.6251C12 10.4558 12.0618 10.3093 12.1855 10.1856C12.3092 10.0619 12.4557 10.0001 12.625 10.0001Z"/>
    </svg>
`,de=ie.d`
    <svg 
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 18 18"
        fill="none"
        class="searchSvg ${e=>e.config.showBoldSvgAndColor?"imageSearchBoldSvgColor":"imageSearchBoldSvg"}"
    >
        <g clip-path="url(#clip0)">
            <path d="M9.00005 11.7C10.4912 11.7 11.7 10.4912 11.7 9.00005C11.7 7.50888 10.4912 6.30005 9.00005 6.30005C7.50888 6.30005 6.30005 7.50888 6.30005 9.00005C6.30005 10.4912 7.50888 11.7 9.00005 11.7Z" />
            <path d="M4.94995 6.07495C5.57127 6.07495 6.07495 5.57127 6.07495 4.94995C6.07495 4.32863 5.57127 3.82495 4.94995 3.82495C4.32863 3.82495 3.82495 4.32863 3.82495 4.94995C3.82495 5.57127 4.32863 6.07495 4.94995 6.07495Z" />
            <path d="M0.899902 6.52502V4.27502C0.899902 2.41112 2.411 0.900024 4.2749 0.900024H6.5249M6.5249 17.1H4.2749C2.411 17.1 0.899902 15.5889 0.899902 13.725V11.475M17.0999 11.475V13.725C17.0999 15.5889 15.5888 17.1 13.7249 17.1H11.4749M11.4749 0.900024H13.7249C15.5888 0.900024 17.0999 2.41112 17.0999 4.27502V6.52502" stroke-width="2" stroke-linecap="round"/>
        </g>
        <defs>
            <clipPath id="clip0">
                <rect width="18" height="18" fill="none"/>
            </clipPath>
        </defs>
    </svg>
`,le=ie.d`
    <svg 
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 2048 2048"
        class="searchSvg imageSearchNormalSvg"
        fill="none"
    >
        <path d="M512 576q0-29 17-46t47-18q29 0 46 17t18 47q0 29-17 46t-47 18q-29 0-46-17t-18-47zm512 192q53 0 99 20t82 55 55 81 20 100q0 53-20 99t-55 82-81 55-100 20q-53 0-99-20t-82-55-55-81-20-100q0-53 20-99t55-82 81-55 100-20zm-768 64H128V576q0-91 36-172t97-143 142-97 173-36h256v128H576q-67 0-125 25t-102 68-68 101-25 126v256zm576 960v128H576q-91 0-172-36t-143-97-97-142-36-173v-256h128v256q0 67 25 125t68 102 101 68 126 25h256zm960-576h128v256q0 91-36 172t-97 143-142 97-173 36h-256v-128h256q67 0 125-25t102-68 68-101 25-126v-256zM1472 128q91 0 172 36t143 97 97 142 36 173v256h-128V576q0-67-25-125t-68-102-101-68-126-25h-256V128h256z" />
    </svg>
`,ue=ie.d`
    <svg 
        slot="end"
        width="20"
        height="20"
        viewBox="0 0 20 20"
        xmlns="http://www.w3.org/2000/svg"
        class="magGlassBoldSvg  ${e=>e.config.showBoldSvgAndColor?"magGlassBoldSvgColor":""} ${e=>e.isOnImage?"":"noImg"}"
    >
        <path d="M7 0C3.13471 0 -3.8147e-06 3.13472 -3.8147e-06 7C-3.8147e-06 10.8653 3.13471 14 7 14C8.57207 14 10.0233 13.4815 11.1919 12.6061L18.2929 19.7071C18.6834 20.0976 19.3166 20.0976 19.7071 19.7071C20.0976 19.3166 20.0976 18.6834 19.7071 18.2929L12.6061 11.1919C13.4815 10.0233 14 8.57207 14 7C14 3.13472 10.8653 0 7 0ZM6.99999 2.00001C9.76071 2.00001 12 4.23929 12 7.00001C12 9.76072 9.76071 12 6.99999 12C4.23928 12 1.99999 9.76072 1.99999 7.00001C1.99999 4.23929 4.23928 2.00001 6.99999 2.00001Z"/>
    </svg>
`,ge=ie.d`
    <svg
        slot="end"
        width="20"
        height="20"
        viewBox="3 3 14 14"
        xmlns="http://www.w3.org/2000/svg"
        class="blueMagGlassSvgForDardMode"
    >
        <path d="M8.5 3a5.5 5.5 0 014.23 9.02l4.12 4.13a.5.5 0 01-.63.76l-.07-.06-4.13-4.12A5.5 5.5 0 118.5 3zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"/>
    </svg>
`,pe=ie.d`
<input name=${e=>e.name} type="hidden" value=${e=>e.value} />
`,he=ie.d`
<input name="pc" type="hidden" value=${e=>e.pcCode} />
`,fe=ie.d`
<div class="fakeCursor" />
`,me=ie.d`
<button
    slot="search-options"
    class="voiceSearchButton"
    style="padding: ${e=>e.isOnImage?"0":"0 18px"}"
    id="voice_srch_go"
    data-targetid="VoiceSearchButton"
    title=${e=>e.strings.voiceButtonTitle}
    aria-label=${e=>e.strings.voiceButtonTitle}
    type="button"
    data-t=${e=>e.voiceSearchButtonTelemetryTag}
    data-customhandled="true"
    @click=${(e,t)=>e.onVoiceSearchClick(t.event)}>
    ${e=>e.config.showBoldSvg?ae:ce}
</button>
`,ve=ie.d`
<button
    slot="search-options"
    class="imageSearchButton"
    style="margin: ${e=>e.isOnImage?"0 5px 0 20px":"0 18px 0 0"}"
    id="image_srch_go"
    data-targetid="ImageSearchButton"
    title=${e=>e.strings.imageButtonTitle}
    aria-label=${e=>e.strings.imageButtonTitle}
    type="button"
    data-t=${e=>e.imageSearchButtonTelemetryTag}
    data-customhandled="true"
    @click=${(e,t)=>e.onImageSearchClick(t.event)}>
    ${e=>e.config.showBoldSvg?de:le}
</button>
`,be=ie.d`
    <voice-search-wc
        config-instance-src=${e=>(0,oe.g)(e.config.childExperienceReferencesWC.VoiceSearchWC)}
        instance-id=${e=>e.config.childExperienceReferencesWC.VoiceSearchWC.instanceId}
        :voiceSearchCancelCallback=${e=>e.voiceSearchCancelCallback}
        :voiceSearchSubmitCallback=${e=>e.voiceSearchSubmitCallback}
        :openDialog=${e=>e.openVoiceSearchDialog}
        :parentTelemetry=${e=>e.telemetryObject}>
    </voice-search-wc>
`,ye=ie.d`
    <image-search-wc
        config-instance-src=${e=>(0,oe.g)(e.config.childExperienceReferencesWC.VoiceSearchWC)}
        instance-id=${e=>e.config.childExperienceReferencesWC.ImageSearchWC.instanceId}
        :imageSearchCancelCallback=${e=>e.imageSearchCancelCallback}
        :openDialog=${e=>e.openImageSearchDialog}
        :parentTelemetry=${e=>e.telemetryObject}>
    </image-search-wc>
`,Ce=ie.d`
<form
    id="srchfrm"
    role="search"
    action=${e=>e.config.actionUrl}
    target="_self"
    method="get"
    data-t=${e=>e.formTelemetryTag}
    data-customhandled="true"
    class=${e=>`form ${e.searchVisible?"":"searchHidden"} ${ke(e)} ${e.config.pillShapedSearchBox||e.isProjectEqual?"pillShaped":""}`}>
    <msft-search-box
        autocomplete="off"
        id="q"
        ?isonimage=${e=>e.isOnImage}
        class="${e=>Se(e)} ${e=>we(e)} ${e=>Te(e)} ${e=>e.config.enableOneColumn?"oneColumn":""}"
        name="q"
        maxlength="250"
        placeholder=${e=>e.placeholderText}
        title=${e=>e.strings.inputTitle}
        button-label=${e=>e.strings.buttonText}
        data-customhandled="true"
        @keypress=${(e,t)=>e.onKeyPress(t.event)}
        @submit=${e=>e.onSubmit()}>
        ${(0,ne.g)((e=>e.isOnImage&&"sb-dark-t1"===Se(e)&&matchMedia("(prefers-color-scheme: dark)").matches),ge)}
        ${(0,ne.g)((e=>e.config.showBoldSvg),ue)}
        ${(0,ne.g)((e=>!e.isDefaultSearchBing&&!e.enableFocusRedirect&&e.isOnImage),se)}
        ${(0,ne.g)((e=>e.config.showVoiceSearchButton&&e.isDefaultSearchBing),me)}
        ${(0,ne.g)((e=>e.isDefaultSearchBing&&e.config.showImageSearchButton),ve)}
    </msft-search-box>
    ${(0,ne.g)((e=>e.config.showVoiceSearchButton&&e.isDefaultSearchBing),be)}
    ${(0,ne.g)((e=>e.config.showImageSearchButton&&e.isDefaultSearchBing),ye)}
    ${(0,ne.g)((e=>e.fakeFocused),fe)}
    ${(0,re.rx)((e=>e.formParameters),pe)}
    ${(0,ne.g)((e=>e.pcCode),he)}
</form>
`,Se=e=>{switch(e.config.searchBoxDarkModeTreatment){case"WhiteSearch":return"sb-dark-t1";case"DarkerShade":return"sb-dark-t2";case"LessTransparentGhostText":return"sb-dark-t3";default:return""}},we=e=>{if(e.isSignInButtonVisible)return"formWidthSignInButton";switch(e.config.searchBoxWidthDelta){case 4:return"formWidth4px";case 8:return"formWidth8px";case 20:return"formWidth20px";case-4:return"formWidth4pxd";case-12:return"formWidth12pxd";default:return""}},Te=e=>{if(!e.config.enablePlaceholderFadeIn)return"";if(!e.shouldPlaceholderFadeIn)return"placeholderHidden";switch(e.config.placeholderFadeInDuration){case 1:return"placeholderFadedIn1s";case 2:return"placeholderFadedIn2s";case 3:return"placeholderFadedIn3s";case 4:return"placeholderFadedIn4s";default:return""}},ke=e=>!e.isDefaultSearchBing&&e.isOnImage?"inputWidth1":1==e.isDefaultSearchBing&&1==e.config.showVoiceSearchButton&&1==e.config.showImageSearchButton?"inputWidth2":1!=e.isDefaultSearchBing||1!=e.config.showVoiceSearchButton&&1!=e.config.showImageSearchButton?"":"inputWidth3";var Oe=i(14989),Ee=i(8994),Ie=i(76298),Ae=i(68421);const Pe=Ie.i`
${(0,Oe.vW)(null,Oe.K$.c1)} {
    msft-search-box.oneColumn::part(root) {
        width: 230px;
    }
    .formWidth4px.oneColumn:part(root) {
        width: 234px;
    }
    .formWidth8px.oneColumn:part(root) {
        width: 238px;
    }
    .formWidth20px.oneColumn:part(root) {
        width: 250px;
    }
    .formWidth4pxd.oneColumn:part(root) {
        width: 226px;
    }
    .formWidth12pxd.oneColumn:part(root) {
        width: 218px;
    }
    .signInButtonWidth.oneColumn::part(root) {
        width: 230px;
    }
}

${(0,Oe.vW)(null,Oe.K$.c2)} {
    msft-search-box::part(root) {
        width: 330px;
    }
    .formWidth4px:part(root) {
        width: 334px;
    }
    .formWidth8px:part(root) {
        width: 338px;
    }
    .formWidth20px:part(root) {
        width: 350px;
    }
    .formWidth4pxd:part(root) {
        width: 326px;
    }
    .formWidth12pxd:part(root) {
        width: 318px;
    }
    .formWidthSignInButton::part(root) {
        width: 330px;
    }
    .inputWidth1 msft-search-box::part(control) {
        width: 91%;
    }
    .inputWidth2 msft-search-box::part(control) {
        width: 80%;
    }
    .inputWidth3 msft-search-box::part(control) {
        width: 85%;
    }
    .sbipane {
        right: 6%;
        left: unset;
    }
}

${(0,Oe.eH)(Oe.K$.c3)} {
    msft-search-box::part(root) {
        width: 458px;
    }
    .formWidth4px::part(root) {
        width: 462px;
    }
    .formWidth8px::part(root) {
        width: 466px;
    }
    .formWidth20px::part(root) {
        width: 478px;
    }
    .formWidth4pxd::part(root) {
        width: 454px;
    }
    .formWidth4pxd::part(root) {
        width: 446px;
    }
    .formWidthSignInButton::part(root) {
        width: 458px;
    }
    .inputWidth1 msft-search-box::part(control) {
        width: 93%;
    }
    .inputWidth2 msft-search-box::part(control) {
        width: 83%;
    }
    .inputWidth3 msft-search-box::part(control) {
        width: 88%;
    }
    .sbipane {
        right: 5%;
        left: unset;
    }
}

${(0,Oe.vW)(Oe.K$.c4,null)}  {
    msft-search-box::part(root) {
        width: 690px;
    }
    .formWidth4px::part(root) {
        width: 694px;
    }
    .formWidth8px::part(root) {
        width: 698px;
    }
    .formWidth20px::part(root) {
        width: 710px;
    }
    .formWidth4pxd::part(root) {
        width: 686px;
    }
    .formWidth4pxd::part(root) {
        width: 678px;
    }
    .formWidthSignInButton::part(root) {
        width: 690px;
    }
    .inputWidth1 msft-search-box::part(control) {
        width: 96%;
    }
    .inputWidth2 msft-search-box::part(control) {
        width: 88%;
    }
    .inputWidth3 msft-search-box::part(control) {
        width: 93%;
    }
    .sbipane {
        right: 3.5%;
        left: unset;
    }
}

msft-search-box {
    height: 100%;
}

.form {
    position: relative;
    height: 46px;
}

#sw_as {
    top: -6px;
}

#sw_as > .sa_as {
    border: none;
    border-radius: 0 0 4px 4px;
    border-top: solid 1px #e5e5e5;
    box-shadow: 0px 5px 7px rgb(0 0 0 / 9%), 0px 3px 3.5px rgb(0 0 0 / 3%), 0px 1px 1.5px rgb(0 0 0 / 9%);
}

.bingLogo {
    margin: 12px 0;
    height: 20px;
    width: 14px;
}

.voiceSearchButton {
    background: transparent;
    border: none;
    cursor: pointer;
    height: 44px;
    margin-inline-start: 6px;
    padding: 0;
    z-index: 2;
}

.searchSvg {
    height: 20px;
    width: 20px;
    padding-top: 4px;
}

.voiceSearchButton svg {
    fill: ${Ee.goi};
}

.voiceSearchButton svg.voiceSearchSvgColor {
    fill: #00809D;
}

.searchHidden {
    visibility: hidden;
}

@keyframes blink {
    0% { opacity: 1; }
    61.55% { opacity: 0; }
}

.fakeCursor {
    background: ${Ee.CHi};
    position: absolute;
    width: 1px;
    top: 14px;
    bottom: 14px;
    margin: 0 12px;
    animation: blink 1.3s step-end infinite;
}

.blueMagGlassSvgForDardMode {
    fill: ${Ee.goi};
}

.magGlassBoldSvg {
    fill: ${Ee.goi};
}

.magGlassBoldSvgColor {
    fill: #00809D;
}

.magGlassBoldSvgWithColor {
    fill: #00809D;
}

.imageSearchNormalSvg {
    fill: ${Ee.goi};
}

#srchfrm svg.noImg {
    fill: white;
}

.imageSearchBoldSvg {
    stroke: ${Ee.goi};
}

.imageSearchBoldSvg path:nth-child(2) {
    fill: ${Ee.goi};
    stroke: transparent;
}

.imageSearchBoldSvg path:first-child {
    fill: ${Ee.goi};
    stroke: transparent;
}

.imageSearchBoldSvgColor {
    stroke: #00809D;
}

.imageSearchBoldSvgColor path:nth-child(2) {
    fill: #00809D;
    stroke: transparent;
}

.imageSearchBoldSvgColor path:first-child {
    fill: #00809D;
    stroke: transparent;
}

.imageSearchButton {
    background: transparent;
    border: none;
    cursor: pointer;
    height: 44px;
    width: 20px;
    margin-inline-start: 6px;
    padding: 0;
    z-index: 2;
}

.sbipane {
    top: 60px;
}

msft-search-box::part(control) {
    font-family: inherit;
    font-size: 16px;
}

msft-search-box.placeholderHidden::part(control)::placeholder{
    opacity: 0;
}

msft-search-box.placeholderFadedIn1s::part(control)::placeholder{
    opacity: 1;
    transition: opacity 1s linear;
    -webkit-transition: opacity 1s linear;
}

msft-search-box.placeholderFadedIn2s::part(control)::placeholder{
    opacity: 1;
    transition: opacity 2s linear;
    -webkit-transition: opacity 2s linear;
}

msft-search-box.placeholderFadedIn3s::part(control)::placeholder{
    opacity: 1;
    transition: opacity 3s linear;
    -webkit-transition: opacity 3s linear;
}

msft-search-box.placeholderFadedIn4s::part(control)::placeholder{
    opacity: 1;
    transition: opacity 4s linear;
    -webkit-transition: opacity 4s linear;
}

form.pillShaped msft-search-box {
    border-radius: 22px;
    transition: none;
}

form.droplistshow.as msft-search-box {
    border-radius: 22px 22px 0 0;
}

form.droplistshow.nwas msft-search-box {
    border-radius: 22px;
}

form.droplisthide msft-search-box {
    border-radius: 22px;
}

form.pillShaped #sw_as > .sa_as {
    border-radius: 0 0 22px 22px
}

form.pillShaped #sw_as #sa_ul:not(:empty) {
    border-bottom-left-radius: 22px;
    border-bottom-right-radius: 22px;
    padding: 0 6px 6px;
}

form.pillShaped #sw_as .sa_drw li:last-of-type {
    border-bottom-left-radius: 22px;
    border-bottom-right-radius: 22px;
}

form.pillShaped msft-search-box::part(control) {
    padding-left: 16px;
}
`.withBehaviors((0,Ae.Uu)(Ie.i`
                msft-search-box.sb-dark-t1 {
                    background: #FFFFFF;
                }

                msft-search-box.sb-dark-t2 {
                    background: #333333;
                }

                msft-search-box.sb-dark-t3::part(control)::placeholder{
                    color: #FFFFFF;
                    opacity: 0.7;
                }

                .voiceSearchButton svg {
                    fill: ${Ee.CHi};
                }

                msft-search-box.sb-dark-t1 .voiceSearchButton svg {
                    fill: ${Ee.goi};
                }

                msft-search-box.sb-dark-t1::part(control) {
                    color: #262626;
                }

                .voiceSearchButton svg.voiceSearchSvgColor {
                    fill: ${Ee.CHi};
                }

                .imageSearchNormalSvg {
                    fill: ${Ee.CHi};
                }

                .imageSearchBoldSvg {
                    stroke: ${Ee.CHi};
                }

                .imageSearchBoldSvg path:nth-child(2) {
                    fill: ${Ee.CHi};
                    stroke: transparent;
                }

                .imageSearchBoldSvg path:first-child {
                    fill: ${Ee.CHi};
                    stroke: transparent;
                }

                .imageSearchBoldSvgColor {
                    stroke: ${Ee.CHi};
                }
                
                .imageSearchBoldSvgColor path:nth-child(2) {
                    fill: ${Ee.CHi};
                    stroke: transparent;
                }
                
                .imageSearchBoldSvgColor path:first-child {
                    fill: ${Ee.CHi};
                    stroke: transparent;
                }

                .magGlassBoldSvg {
                    fill: ${Ee.CHi};
                }

                .magGlassBoldSvgColor {
                    fill: ${Ee.CHi};
                }
            `)),xe={experienceConfigSchema:u};r.K.getOrCreate().withShadowRootMode("open").withElementDisambiguation((()=>r.h.ignoreDuplicate)).withPrefix("msft").register((0,n.D3)())},47612:function(e,t,i){"use strict";i.r(t),i.d(t,{GroupPolicySettings:function(){return k},TileSource:function(){return O},ToolingInfo:function(){return ui},TopSitesClassNameConstants:function(){return Q},TopSitesEdgeNextWC:function(){return ti},TopSitesEdgeNextWCStyles:function(){return li},TopSitesEdgeNextWCTemplate:function(){return Pt},TopSitesElementConstants:function(){return Z},addDialogHeight:function(){return E},addDialogWithSubSectionHeight:function(){return I},collapsibleButtonWidth:function(){return A},contextMenuWidth:function(){return P},defaultMaxTileForFirstRow:function(){return D},defaultMaxTileForSixteenTopSites:function(){return M},defaultMaxTileForTwentyTopSites:function(){return L},defaultMaxTiles:function(){return x},defaultTopSiteIcon:function(){return F},dialogWidth:function(){return R},editDialogHeight:function(){return N},notificationToastDefaultDisplayMs:function(){return j},pinToastDefaultDisplayMs:function(){return B},pinToastTemplate:function(){return It},tileDialogMargin:function(){return $},topSiteAddDialogTemplate:function(){return kt},topSiteEditDialogTemplate:function(){return Ot},topSiteTileHeight:function(){return H},topSiteTileWidth:function(){return U},topSitesBindingSource:function(){return At},topSitesCollapsedStorageKey:function(){return W},topSitesDragDropStorageKey:function(){return z},topSitesDragDropUnpinStorageKey:function(){return V},topSitesUndoToastMessageMargin:function(){return G},topSitesUnpinnedStorageKey:function(){return _},undoToastTemplate:function(){return Et},validQueryParameterPrefix:function(){return q}});var n=i(41751),r=i(5724),o=i(38345),s=i(64690),a=i(84289),c=i(84925),d=i(12517),l=i(83227);const u=(0,s.e)(l.x.topSitesEdgeNextWC,"Schema definition for the Top Sites EdgeNext experience",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,a.JJ)("collapsibleControlIsDefaultCollapsed","Flag to represent if the collapsible control is collapsed by default.")),(0,a.JJ)("collapseForDefaultInformational",'Flag to indicate whether "collapse control is collapsed by default" is applied (informational mode).')),(0,a.JJ)("readTopSitesCollapseStateFromBrowserSettings","Flag to indicate to read topsites collapse state from browser settings.")),(0,a.JJ)("enableAffiliateLinks","Flag to enable affiliate links.")),(0,a.JJ)("enableBackPlateForPlaceholder","Indiates whether enable a back plate decoration for top-site-placeholder.")),(0,a.JJ)("enableRecommendedSites","Indicates whether recommended tiles feature is enabled or not.")),(0,a.G)("maxTiles","Maximum Number of Tiles")),(0,a.JJ)("showCollapsibleControl","Flag to represent when the collapsible control is shown.")),(0,a.iF)("overrideFaviconConfig","override Favicon Config","The list of icon need to be override",Object.assign({},(0,a.NU)("The Icon override List","Suggested topSite Override Icon",Object.assign(Object.assign({},(0,c.sz)("faviconUrl"," the name of the Icon url To override")),(0,a.iF)("identifierHosts","identifier Hosts","identifier Hosts list",Object.assign({},(0,c.NG)("identifierHosts","The host name.")))))))),(0,a.iF)("curatedSites","Curated topSite list","The list of curated topSites",Object.assign({},(0,a.NU)("curatedSites","curated Site list properties",Object.assign(Object.assign(Object.assign(Object.assign({},(0,c.sz)("domain"," name of the domain for top site")),(0,c.sz)("faviconUrl"," url which contain the icon image for top site")),(0,c.sz)("title","Name of the top site")),(0,c.sz)("url","URL added on the top site")))))),(0,d.u)({addDialogHeadingText:"This text is displayed above the input box that allows a user to input a site to add to their top sites",addText:"The text for the button that allows a user to input a site to add to their top sites",ariaLabel_addTile:"The aria text for the button that allows a user to add a site to their top sites",ariaLabel_addNameInput:"Add a website dialog – Name input box",ariaLabel_addUrlInput:"The aria text for the URL input in the add a new top site dialog",ariaLabel_editNameInput:"Edit website dialog – Name input box",cancelText:"Default button text for the cancel button on the confirmation dialog",closeButtonText:"Default button text for the close button on the confirmation dialog",contextMenuLabel:"The aria text for the context menu on a top site tile",nameLabelText:'The text for "Name" heading text used in the Top Sites Dialog',quickLinksCollapseAriaLabelText:"The aria text collapsed quick links button",quickLinksExpandAriaLabelText:"The aria text for expanded quick links button",quickLinksLabelText:"The text for quick link collapsible button",saveText:'The text for "Save" heading used in the top site dialog primary button',removeLabelText:'The text for "Remove" heading used in the Top Site Context Menu Item',renameLabelText:'ReThe text for "Rename" heading used in the Top Site Context Menu Itemname',renameDialogHeadingText:"The text for rename heading used in the Top Sites Edit Dialog",urlLabelText:"Heading text used in the Top Sites Dialog to describe the purpose of the input text",undoLabelText:'The text for "Undo" heading used in the Top Site Undo Toast Message ',undoRemovedFormat:'The text format for "removed" message used in the Top Site Undo Toast Message removed',pinToTaskBar:"This is the text for pin to taskbar",pinToTaskBarConfirmationMessage:"Toast message to show topsite pinning on task bar is completed"})),(0,a.JJ)("enableOneColumn","Enable one column")),(0,a.JJ)("enablePinningTopSite","Enable Pinning topsite")),(0,a.JJ)("pillShapeTopSites","Flag to indicate pill shape top sites")),(0,a.JJ)("clarityEnabled","Flag to indicate Clarity WC lib is enabled and top site needs to be masked")),(0,a.JJ)("draggable","Make the top sites card draggable")),(0,a.JJ)("enableWpoRecommendSitesConfigMerge","Enable merge WPO recommend sites config together")),(0,a.JJ)("enableAllPin","Enable all top sites to pin")),(0,a.G)("promoteCurated","Promote Curated Sites","Number of Curated Sites to promote promoted.",[0,1,2],0)));var g=i(33940),p=i(65337),h=i(78468),f=i(66213),m=i(75970),v=i(77331),b=i(68364),y=i(26415),C=i(88352);const S=/www\d*\./i,w=/^https?:/i;class T{constructor(e){if(!C.b.isNotNullOrUndefined(e))return;let t;e.trim();try{t=new URL(e)}catch(e){t=void 0}if(!t||!e.toLocaleLowerCase().startsWith(t.origin.toLocaleLowerCase()))try{t=new URL("http://"+e)}catch(e){t=void 0}if(!t||!t.host||!w.test(t.protocol))return;const i=t.hostname.replace(S,"");this.url=t.href.replace(/\/$/,""),this.domain=i,this.domainAndPath=this.domain+t.pathname.replace(/[\s/]+$/g,""),this.domainPathAndQuery=this.domainAndPath+t.search,this.hasQuery=!!t.search}}var k,O;!function(e){e.Enforced="ENFORCED",e.Recommended="RECOMMENDED"}(k||(k={})),function(e){e[e.CuratedTileSource=-5]="CuratedTileSource",e[e.UserAddedTileSource=4]="UserAddedTileSource",e[e.UserAddedTileSourceNewVal=3]="UserAddedTileSourceNewVal",e[e.AlgoGeneratedTileSource=0]="AlgoGeneratedTileSource",e[e.WPOPromotedTileSource=-4]="WPOPromotedTileSource",e[e.PromotedCuratedTileSource=-6]="PromotedCuratedTileSource",e[e.DragDropTileSource=-8]="DragDropTileSource",e[e.DragDropUnpinTileSource=-10]="DragDropUnpinTileSource"}(O||(O={}));const E=282,I=386,A=147,P="130px",x=8,M=16,L=20,D=10,F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrsl7EJADAIBGPIEO4/nVt8SCFkgijhvhCsPNQHNUmjWnM0EBCpdYK7i07cSUTYy+I5ARaz705UuQR34A4ggAACCCCA4LL6qhPGV94JYgswAGXGEhq663zFAAAAAElFTkSuQmCC",R=320,N=176,j=1e4,B=1200,$=8,H=84,U=108,W="tsCollapsed",_="tsUnpinned",z="tsDragDrop",V="tsDragDropUnpin",G=32,q=/^(\/\?|\?|&|)/,Z={topSitesContainerId:"TopSitesContainer",topSitesId:"TopSitesCommon",topSitesClassSelector:"topSitesCommon",topSitesCollapsedControlId:"tscc",topSitesCollapsedControlLabel:"tscl",topSiteActionMenuId:"tsam"},Q={topSitesDarkOnBackgroundImage:"topSitesDarkOnBackgroundImage",topSitesLightOnBackgroundImage:"topSitesLightOnBackgroundImage",topSitesDark:"topSitesDark",topSitesLight:"topSitesLight",tenSites:"ten-sites",eightSites:"eight-sites",sixSites:"six-sites",twoRowSites:"two-row-sites"};var K=i(99508);const J="removedTopSiteUrls";let X,Y,ee,te;function ie(e){if(e){const t=(e&&e.match(/cms\/api\/amp\/image\/([a-z0-9]+)$/i)||{})[1];if(t)return`${h.E.prod}${t}.img`}return F}function ne(e,t){t&&!e[t]&&(e[t]=!0)}te=(0,p.$o)(),ee=te.getObject(J)||{},Y={};var re=i(40537),oe=i(54804),se=i(1334),ae=i(14989),ce=i(18544),de=i(88828),le=i(53076),ue=i(53899),ge=i(11765),pe=i(65135),he=i(38156),fe=i(60483);const me="curated_topsite",ve="user_topsite",be="frequent_topsite",ye="promotedcurated_topsite",Ce="wpopromoted_topsite",Se="tile",we="url",Te="context_menu",ke="topsite_remove_toast",Oe="remove",Ee="undoremove",Ie="close",Ae="cancel",Pe="rename",xe="save",Me="suggestedlink",Le="edit_dialog",De="add_dialog",Fe="topsiteaddtile",Re="topsites_hide",Ne="show",je="collapse",Be="topsite",$e="turnonpreview",He="turnoffpreview",Ue="topsitePinToTaskBar",We="unpin",_e="pin";var ze;!function(e){e.tsn="tsn",e.moreOption="More Options",e.remove="Remove",e.undoRemove="Undo Remove",e.close="Close",e.rename="Rename",e.save="Save",e.cancel="Cancel",e.addSite="Add a site",e.add="Add",e.show="Show",e.collapse="Collapse",e.suggestedLink="Add a suggested link",e.turnOnPreview="Turn On Preview",e.turnOffPreview="Turn Off Preview",e.container="Container",e.unpin="Unpin",e.pin="Pin",e.topsiteTaskbarpin="TopSite Pin to TaskBar"}(ze||(ze={}));const Ve="tsu";var Ge=i(19388),qe=i(34955),Ze=i(7522);function Qe(e,t){var i;const n=[];let r=0,o=0;const s=(0,Ze.Z)(t,"slot"),a=e.length+t.length;for(let t=0;t<a;t++)t===(null===(i=s[o])||void 0===i?void 0:i.slot)?n.push(s[o++]):r<e.length&&n.push(e[r++]);return n}function Ke(e,t){this.timer&&(window.clearTimeout(this.timer),this.timer=null),e&&(this.timer=window.setTimeout((()=>{t()}),e))}function Je(e,t,i,n,r,o){if(e){const{left:s,right:a,bottom:c}=e.getBoundingClientRect(),d=n-a>R,l=r-c-$>i,u=t.getBoundingClientRect(),g=d?s-u.left:a-R-u.left,p=l?$+"px":"auto",h=l?"auto":$+H+"px",f=d?u.right-s-R:u.right-a;return o?`--dialog-left:${g}px;--dialog-top:${p};--dialog-bottom:${h};`:`--dialog-right:${f}px;--dialog-top:${p};--dialog-bottom:${h};`}return o?`--dialog-left:0px; --dialog-top:${$}px;`:`--dialog-right:0px; --dialog-top:${$}px;`}function Xe(e,t,i){const n=function(e,t){const i=e.recommendedSites,n=ee||{},r=t.map((e=>e.url)),o=i.filter((e=>{if(!n[e.url]||r.includes(e.url))return e})),s=o.map((e=>e.url)),a=(t=t.filter((e=>{if(!s.includes(e.url))return e}))).filter((e=>e.tileSource===O.UserAddedTileSource||e.tileSource===O.UserAddedTileSourceNewVal)).length,c=e.maxTiles-a;return o.splice(0,c)}(e,t),r=n.map((e=>e.url));let o;t=t.filter((e=>{if(!r.includes(e.url))return e})),o=0===t.length?1:t[t.length-1].rid+1e3;return function(e,t){const i=e.length+t.length,n=[];let r=0,o=0,s=0;for(let a=0;a<i;a++)o<t.length&&t[o].locationIndex===s?n[s++]=t[o++]:r<e.length?n[s++]=e[r++]:n[s++]=t[o++];return n}(t,n.map((t=>{var n;i.set(o,t);const r=e.enableWpoPromotedTileSource?O.WPOPromotedTileSource:O.CuratedTileSource;return Object.assign(Object.assign({},t),{faviconUrl:ie(t.faviconUrl),tileSource:r,rid:o++,customImagePart:null!==(n=t.customImagePart)&&void 0!==n?n:"image"})})))}function Ye(e,t,i,n,r,o){if(i){if((s=i.url)&&(ee[s]=!0,te.setObject(J,ee)),o&&r(),i.tileSource===O.CuratedTileSource||i.tileSource===O.PromotedCuratedTileSource)return void t();n&&i.rid&&(n.deleteMostVisitedItem(i.rid),qe.H.logEvent(qe.v.NTP_CUSTOMIZE_SHORTCUT_REMOVE))}var s}function et(e,t,i,n,r){if(n===O.CuratedTileSource||n===O.PromotedCuratedTileSource)return(o=r)&&(delete ee[o],te.setObject(J,ee)),void e();var o;if(t&&i){const e=t.getMostVisitedItemData(i),n=e?e.tileSource:null;n===O.UserAddedTileSource||n===O.UserAddedTileSourceNewVal?t.undoCustomLinkAction(i):n===O.AlgoGeneratedTileSource&&t.undoMostVisitedDeletion(i)}}var tt=i(9533),it=i(81555),nt=i(58520),rt=i(26007),ot=i(70430),st=i(44070),at=i(90563),ct=i(63243),dt=i(78464),lt=i(91106),ut=i(94522),gt='<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M8.06.45A1.5 1.5 0 0 0 5.67.8L3.65 4.59l-2.8.94a.5.5 0 0 0-.2.82L2.79 8.5.15 11.15 0 12l.85-.15L3.5 9.21l2.15 2.14a.5.5 0 0 0 .82-.2l.94-2.8 3.78-2.03a1.5 1.5 0 0 0 .35-2.38L8.06.44Z" fill="#212121"/></svg>',pt=i(6726),ht=i(66341),ft=i(60184),mt=i(65302),vt=i(1714),bt=i(72374),yt=i(70188);pt.O,ht.v,ft.MsnActionsMenu,mt.Z,vt.X;const Ct=at.d`
    <span class="badge">${e=>e.badge.children}</span>
`,St=at.d`
    <button
        class="action-button ${e=>e.config.enableBackPlateForPlaceholder?"":"action-button-rmbp"}"
        title="${e=>e.quickLinkButtonAriaLabel}"
        aria-label="${e=>e.quickLinkButtonAriaLabel}"
        aria-expanded="${e=>!e.currentCollapsedState}"
        @click="${(e,t)=>e.changeCollapsedState(t.event)}"
        ${(0,yt.X)((e=>e.quickLinkButtonTelemetryTag))}
        data-customhandled="true"
    >
        <label class="${e=>e.actionButtonLabelClassName}">
            ${e=>e.strings.quickLinksLabelText}
        </label>
        <svg class="${e=>e.actionButtonSvgClassName}" width="32" height="32" viewBox="0 0 32 32" fill="black" xmlns="http://www.w3.org/2000/svg"><g><rect width="32" height="32" rx="16" fill-opacity="0.42"></rect><path fill-opacity="1" d="M16 19.709L10.1465 13.8555L10.8555 13.1465L16 18.291L21.1445 13.1465L21.8535 13.8555L16 19.709Z" fill="white"></path></g></svg>
    </button>
`,wt=at.d`
    <msft-top-site 
        :href=${e=>e.url}
        imagepartname=${e=>e.customImagePart}
        title="${e=>e.title}"
        aria-label="${e=>e.title}"
        class="${(e,t)=>t.parent.config.smallTopSites?"small-top-sites":""} ${(e,t)=>t.parent.config.pillShapeTopSites?"pill-top-site":""} ${(e,t)=>t.parent.config.smallTopSites&&e.enableTwoLineTopSiteTitles?"small-top-sites-two-lines":""}"
        :anchorTelemetryTag="${e=>e.anchorTelemetryTag}"
        passTwoLine="${e=>e.enableTwoLineTopSiteTitles?"1":"0"}"
        @mouseenter=${(e,t)=>e.onMouseEnter&&e.onMouseEnter(t.event)}
        @mouseleave=${(e,t)=>e.onMouseLeave&&e.onMouseLeave(t.event)}
        @focus=${(e,t)=>e.onFocus&&e.onFocus(t.event)}
        @blur=${(e,t)=>e.onBlur&&e.onBlur(t.event)}
        ${(0,yt.X)((e=>e.contentViewTelemetryTag))}
    >
        ${(0,ct.g)(((e,t)=>{var i;return(null===(i=t.parent.config)||void 0===i?void 0:i.enableAllPin)||e.promote}),at.d`
            <div slot="start">
                <fluent-button
                    class="start-button"
                    appearance="stealth"
                    title="${e=>e.pinLabel}"
                    aria-lable="${e=>e.pinLabel}"
                    @click=${(e,t)=>e.pinAction&&e.pinAction(e,t.event)}
                    ${(0,yt.X)((e=>e.pinActionButtonTelemetryTag))}
                >
                    ${(0,ct.g)(((e,t)=>{var i;return!(null===(i=t.parent.config)||void 0===i?void 0:i.enableAllPin)}),at.d`${gt}`)}
                    ${(0,ct.g)(((e,t)=>{var i;return null===(i=t.parent.config)||void 0===i?void 0:i.enableAllPin}),at.d`
                        ${(0,ct.g)((e=>e.tileSource===O.DragDropTileSource),at.d`${gt}`)}
                        ${(0,ct.g)((e=>e.tileSource!==O.DragDropTileSource),at.d`${ut.Z}`)}
                    `)}
                </fluent-button>
            </div>
        `)}
        <div slot="end">
            <fluent-button
                class="end-button" 
                appearance="stealth" 
                title="${e=>e.contextMenuLabel}" 
                aria-label="${e=>e.contextMenuLabel}" 
                @click=${(e,t)=>e.toggleActionMenu&&e.toggleActionMenu(e,t.event)}
                ${(0,yt.X)((e=>e.toggleActionMenuButtonTelemetryTag))}
            >
                ${bt.Z}
            </fluent-button>
        </div>
        <img slot="image" src="${e=>e.faviconUrl}" />
        <div class="${e=>e.enableTwoLineTopSiteTitles?"two-line-top-site-title":"top-site-title"}">
            <a>${e=>e.title}</a>
            ${(0,ct.g)((e=>e.badge),Ct)}
        </div>
    </msft-top-site>
`,Tt=at.d`
    <msft-top-site-placeholder
        class="${(e,t)=>t.parent.config.smallTopSites?"small-top-sites":""} drag-locked"
        addTileSupported=${e=>e.addTileSupported}
        backPlateEnabled=${e=>e.backPlateEnabled}>
        <div slot="icon-action">
            <fluent-button
                class="add-button ${e=>e.backPlateEnabled?"with-back-plate":""}"
                appearance="stealth"
                aria-label="${e=>e.ariaLabel}"
                title="${e=>e.ariaLabel}"
                id="clickAddTileButton"
                @click=${(e,t)=>e.onAddTopSiteClick(t.event)}
                ${(0,yt.X)((e=>e.addTopSiteButtonTelemetryTag))}
            >
                <svg
                    width="12"
                    height="12"
                    viewBox="0 0 12 12"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z"
                    />
                </svg>
            </fluent-button>
        </div>
    </msft-top-site-placeholder>
`,kt=at.d`
    <msn-top-site-dialog id="topSiteAddDialog"
        cancelText="${e=>e.topSiteAddDialog.cancelText}"
        headerTitle="${e=>e.topSiteAddDialog.headerTitle}"
        saveText="${e=>e.topSiteAddDialog.saveText}"
        closeText="${e=>e.topSiteAddDialog.closeText}"
        :nameInputData="${e=>e.topSiteAddDialog.nameInputBox}"
        :urlInputData="${e=>e.topSiteAddDialog.urlInputBox}"
        :newOrUpdatedTopSite="${e=>e.topSiteAddDialog.newOrUpdatedTopSite}"
        :saveButtonTelemetryTag="${e=>e.topSiteAddDialog.saveButtonTelemetryTag}"
        :cancelButtonTelemetryTag="${e=>e.topSiteAddDialog.cancelButtonTelemetryTag}"
        :closeButtonTelemetryTag="${e=>e.topSiteAddDialog.closeButtonTelemetryTag}"
        @cancel="${(e,t)=>e.topSiteAddDialog.onClose(t.event)}"
        @close="${(e,t)=>e.topSiteAddDialog.onClose(t.event)}"
        @save="${(e,t)=>e.topSiteAddDialog.saveHandler(t.event)}"
        style="${e=>e.topSiteAddDialogContainerPosition}"
    >
    ${(0,ct.g)((e=>e.config.suggestedTopSiteList&&e.config.suggestedTopSiteList.length>0),at.d`
        <div slot="subSection">
            <h3 class="suggestion-title">${e=>e.strings.addDialogSubHeading}</h3>
            <div class="suggestion-body">
                ${(0,dt.rx)((e=>e.config.suggestedTopSiteList),at.d`
                <div tabIndex="0" style="margin-inline-end: 12px">
                    <msft-top-site
                        href=${e=>e.url}
                        title="${e=>e.title}"
                        aria-label="${e=>e.title}"
                        @click=${(e,t)=>t.parent.topSiteAddDialog.saveHandler&&t.parent.topSiteAddDialog.saveHandler(t.event,e)}
                        @keydown=${(e,t)=>t.parent.topSiteAddDialog.saveHandler&&t.parent.topSiteAddDialog.saveHandler(t.event,e)}
                        :anchorTelemetryTag="${e=>e.suggestedLinkTelemetryTag}"
                        tabIndex="-1"
                    >
                        <img slot="image" src="${e=>e.faviconUrl}" alt="${e=>e.title}" />
                        ${e=>e.title}
                    </msft-top-site>
                </div>
                `)}
            </div>
        </div>
    `)}
    </msn-top-site-dialog>
`,Ot=at.d`
    <msn-top-site-dialog id="topSiteEditDialog"
        cancelText="${e=>e.topSiteEditDialog.cancelText}"
        headerTitle="${e=>e.topSiteEditDialog.headerTitle}"
        saveText="${e=>e.topSiteEditDialog.saveText}"
        closeText="${e=>e.topSiteEditDialog.closeText}"
        :nameInputData="${e=>e.topSiteEditDialog.nameInputBox}"
        :newOrUpdatedTopSite="${e=>e.topSiteEditDialog.newOrUpdatedTopSite}"
        :saveButtonTelemetryTag="${e=>e.topSiteEditDialog.saveButtonTelemetryTag}"
        :cancelButtonTelemetryTag="${e=>e.topSiteEditDialog.cancelButtonTelemetryTag}"
        :closeButtonTelemetryTag="${e=>e.topSiteEditDialog.closeButtonTelemetryTag}"
        @cancel="${(e,t)=>e.topSiteEditDialog.onClose(t.event)}"
        @close="${(e,t)=>e.topSiteEditDialog.onClose(t.event)}"
        @save="${(e,t)=>e.topSiteEditDialog.saveHandler(t.event)}"
        style="${e=>e.topSiteEditDialogContainerPosition}"
    >
    </msn-top-site-dialog>
`,Et=at.d`
    <msn-toast>
        ${(0,dt.rx)((e=>e.undoToast.removedText),at.d`<span>${e=>e}</span>`)}
        <fluent-button
        ${(0,lt.i)("undoButton")}
            appearance="lightweight"
            slot="actions"
            class="toast-navigation-button"
            title=${e=>e.undoToast.undoButtonLabel}
            @click=${(e,t)=>e.undoToast.undoTopSiteHandler(t.event)}
            ${(0,yt.X)((e=>e.undoToast.undoButtonTelemetryTag))}
            >
            ${e=>e.undoToast.undoButtonLabel}
        </fluent-button>
        <fluent-button
            apperance="stealth"
            slot="close-button"
            class="toast-close-button"
            title=${e=>e.undoToast.closeButtonLabel}
            @click=${(e,t)=>e.undoToast.closeHandler(t.event)}
            ${(0,yt.X)((e=>e.undoToast.closeButtonTelemetryTag))}
        >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/>
            </svg>

        </fluent-button>
    </msn-toast>
`,It=at.d`
    <msn-toast>
        ${(0,dt.rx)((e=>e.pinToast.pinText),at.d`<span>${e=>e}</span>`)}
        <fluent-button
            apperance="stealth"
            slot="close-button"
            class="toast-close-button"
            title=${e=>e.pinToast.closeButtonLabel}
            @click=${(e,t)=>e.pinToast.closeHandler(t.event)}
            ${(0,yt.X)((e=>e.pinToast.closeButtonTelemetryTag))}
        >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/>
            </svg>

        </fluent-button>
    </msn-toast>
`,At=e=>e.topSites,Pt=at.d`
<div>
    <div class="root ${e=>e.extraAddedSitesClassName} ${e=>e.className}"
        id="${Z.topSitesClassSelector}"
        style="${e=>e.informationalCollapsedStyle}"
        ${(0,lt.i)("topSitesRoot")}
    >
        <div class="top-sites ${e=>e.twoRowSitesClassName}" role="status">
            ${(0,ct.g)((e=>e.showCollapsibleControl),St)}
            <div 
                id=${Z.topSitesId}
                class="sites ${e=>e.sitesClassName}"
                ${(0,yt.X)((e=>e.topSiteCommonTelemetryTag))}
                ${(0,lt.i)("topSitesContainer")}
            >
            ${(0,dt.rx)(At,wt)}
            ${(0,dt.rx)((e=>e.topSitesPlaceHolders),Tt)}
            </div>
        </div>
    </div>
    ${(0,ct.g)((e=>e.isAddDialogOpen),kt)}
    ${(0,ct.g)((e=>e.isEditDialogOpen),Ot)}
    ${(0,ct.g)((e=>e.isActionMenuOpen),at.d`
        <msn-actions-menu id="actions-menu"
            :referrerButton=${e=>e.activeContextMenuButtonElement}
            :menuItems=${e=>e.actionsMenuProps.menuItems}
            ${(0,lt.i)("topSiteActionsMenu")}
            @dismiss-menu=${e=>e.isActionMenuOpen=!1}
        >
        </msn-actions-menu>`)}
    <div ${(0,lt.i)("undoToastContainer")} class="toast-root">
        ${(0,ct.g)((e=>e.isUndoToastOpen),Et)}
        ${(0,ct.g)((e=>e.isPinToastOpen&&!e.isUndoToastOpen),It)}
    </div>
</div>
`;class xt{constructor(e,t){this.onTouchStart=()=>{this.sortableService&&this.sortableService.destroy(),this.sortableService=null,document.addEventListener("mousemove",this.onMouseMove)},this.onMouseMove=()=>{this.initializeService(),document.removeEventListener("mousemove",this.onMouseMove)},this.onUnloadPage=()=>{this.clearTopsiteByUnpinnedSites(),this.clearUnpinStorage()},this.component=e,this.container=t.container,this.webStorage=(0,p.$o)(),this.bindEvents()}bindEvents(){window.addEventListener("beforeunload",this.onUnloadPage),document.addEventListener("touchstart",this.onTouchStart),document.addEventListener("mousemove",this.onMouseMove)}unBindEvents(){window.removeEventListener("beforeunload",this.onUnloadPage),document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("mousemove",this.onMouseMove)}getDataFromStorage(e){try{const t=this.webStorage.getItem(e);if(t){return JSON.parse(t)}}catch(e){pe.M.sendAppErrorEvent(Object.assign(Object.assign({},y.C6c.StorageTopSitesError),{message:"Cannot read/write storage for topsite drag drop service",pb:Object.assign(Object.assign({},y.C6c.StorageTopSitesError.pb),{customMessage:`Cannot get drag drop service data, msg: ${e.message||JSON.stringify(e)}`})}))}}saveDataToStorage(e,t){try{this.webStorage.setItem(e,JSON.stringify(t))}catch(e){pe.M.sendAppErrorEvent(Object.assign(Object.assign({},y.C6c.StorageTopSitesError),{message:"Cannot read/write storage for topsite drag drop service",pb:Object.assign(Object.assign({},y.C6c.StorageTopSitesError.pb),{customMessage:`Cannot save data to topsites, msg: ${e.message||JSON.stringify(e)}`})}))}}reorderItems(e,t,i){Array.isArray(e)&&e.splice(t,0,e.splice(i,1)[0])}getTopSites(e,t){let i=e;const{data:n}=this.getDataFromStorage(z)||{};if(!n)return e;const r=n.filter((e=>e.slot<t));return i=[...Qe((0,ot.Z)(e,r,"url"),r)],i=i.filter((e=>e)).slice(0,t),i}removeTopSiteFromStorage(e,t){const i=this.getDataFromStorage(e)||{},n=i.data;n&&(i.data=n.filter((e=>e.rid!==t.rid)),this.saveDataToStorage(e,i))}clearUnpinStorage(){this.saveDataToStorage(V,{})}clearTopsiteByUnpinnedSites(){const e=(this.getDataFromStorage(V)||{}).data;e&&e.forEach((e=>{this.removeTopSite(e)}))}addTopSite(e,t){let i=this.getDataFromStorage(z)||{},n=i.data;if(n||(n=[],i={data:n}),t){n.filter((t=>t.rid!==e.rid&&t.slot>=Math.min(e.fromIndex,e.toIndex)&&t.slot<=Math.max(e.fromIndex,e.toIndex))).forEach((t=>e.fromIndex>e.toIndex?t.slot++:t.slot--))}const r=n.find((t=>t.rid===e.rid));r?Object.assign(r,e):n.push(e),i.data=(0,st.Z)(n,"rid"),this.saveDataToStorage(z,i),this.removeUnpinnedTopSite(e)}removeTopSite(e){this.removeTopSiteFromStorage(z,e)}addUnpinnedTopSite(e){let t=this.getDataFromStorage(V)||{},i=t.data;i||(i=[],t={data:i}),i.push(e),this.saveDataToStorage(V,t)}removeUnpinnedTopSite(e){this.removeTopSiteFromStorage(V,e)}updateTopSites(e){const t=this.getDataFromStorage(z)||{},i=t.data;if(!i)return;const n=i.find((t=>t.rid===e.rid));n&&Object.assign(n,e),this.saveDataToStorage(z,t)}initializeService(){return(0,g.mG)(this,void 0,void 0,(function*(){if(this.sortableService)return;const{Sortable:e}=yield i.e("node_modules_sortablejs_modular_sortable_esm_js").then(i.bind(i,54958));let t;t=this.container instanceof Promise?yield this.container:this.container;const n=new Image;n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",this.sortableService=e.create(t,{animation:150,chosenClass:"drag-chosen",dragClass:"drag-dragged",delay:100,touchStartThreshold:5,delayOnTouchOnly:!0,filter:".drag-locked",setData:e=>{e.setDragImage(n,0,0)},onMove:e=>{if(e.related||e.dragged)return!e.related.classList.contains("drag-locked")&&!e.dragged.classList.contains("drag-locked")&&(e.related.classList.add("drag-chosen__no-hover"),!0)},onEnd:e=>{var i,n;const{oldIndex:r,newIndex:o}=e;null===(i=Array.from(t.children))||void 0===i||i.forEach((e=>{var t;null===(t=e.classList)||void 0===t||t.remove("drag-chosen__no-hover")}));const s=this.component.topSites;if(s&&0!==s.length&&-1!==r&&-1!==o&&r!==o){pe.M.addOrUpdateTmplProperty("tpsdrag","1");if(!this.component.getUserSelectedSetting())return;const t=s[r],i=Object.assign(Object.assign({},t),{slot:o,fromIndex:r,toIndex:o,tileSource:O.DragDropTileSource});this.addTopSite(i,!0);const a=null===(n=this.component.$fastController.subscribers)||void 0===n?void 0:n.topSites;if(a){const t=[...this.component.topSites];this.reorderItems(t,o,r);let i=[];if(a.spillover)i=a.spillover;else{const{sub1:e,sub2:t}=a;i=[e,t].filter((e=>e))}const n=i.filter((e=>e.source===At))[0];if(n){const t=n.sub1.views,i=t[r].firstChild.parentNode;if(o<r)i.insertBefore(t[o].firstChild,e.item.nextSibling),i.insertBefore(t[r].firstChild,e.item),i.insertBefore(t[r].lastChild,e.item.nextSibling);else{const n=t[o+1];n&&i.insertBefore(n.firstChild,e.item.nextSibling),i.insertBefore(t[r].firstChild,e.item),i.insertBefore(t[r].lastChild,e.item.nextSibling)}this.reorderItems(t,o,r),this.component.getOrUpdateTopSites()}}pe.M.sendActionEvent(e.item)}},onChange:e=>{this.component.setActiveTopSiteElement(e.item)}})}))}destroy(){this.sortableService&&this.sortableService.destroy(),this.sortableService=null,this.unBindEvents()}}var Mt=i(19456),Lt=i(53813),Dt=i(58361),Ft=i(18536);const Rt="TopSitesSmartListsState";let Nt=[];function jt(e,t,i){const n=Bt(e);n&&(n.enabled=t,n.isUserSignedIn=i||!1,(0,p.$o)().setObject(Rt,Nt))}function Bt(e){let t;return Nt.forEach((i=>{i.experienceType===e&&(t=i)})),t}function $t(e){const t=Bt(e);return!!t&&t.isUserSignedIn}function Ht(){const e=(0,p.$o)().getObject(Rt);return e?(Nt&&Nt.length||(Nt=e),Nt):null}var Ut,Wt=i(47680);!function(e){e[e.initialize=0]="initialize",e[e.render=1]="render",e[e.unmount=2]="unmount",e[e.updateSingInStatus=3]="updateSingInStatus"}(Ut||(Ut={}));var _t=i(93450),zt=i(85663);var Vt=i(33090),Gt=i(33379),qt=i(38349),Zt=i(65932),Qt=i(82423),Kt=i(58155),Jt=i(11974);function Xt(e){if(!e)return;let t=Yt(e=(0,Jt.Z)(e));return t&&t.href.toLocaleUpperCase().startsWith(e.toLocaleUpperCase())||w.test(e)||(t=Yt("https://"+e)),t&&t.host&&w.test(t.protocol)&&Kt.c.isValidUrl(t.href,!0)?t:void 0}function Yt(e){try{return new URL(e)}catch(e){return}}const ei="removedTopSiteUrls";class ti extends Vt.l{constructor(){super(...arguments),this.className="",this.extraAddedSitesClassName="",this.enableSixteenTopSites=!1,this.enableTwentyTopSites=!1,this.enableTwoLineTopSiteTitles=!1,this.enableOfficeComCurated=!1,this.isActionMenuOpen=!1,this.topSiteMapper=new Map,this.numberPromotedSites=0,this.disablePromoteTopSites=!1,this.tilesxColxRowsMap={[ue.Z3.onerow]:{[ae.K$.c1]:{default:{tile:6,class:Q.sixSites}},[ae.K$.c2]:{default:{tile:10,class:Q.tenSites}},[ae.K$.c3]:{always:{tile:8,class:Q.eightSites},default:{tile:10,class:Q.tenSites}},[ae.K$.c4]:{default:{tile:10,class:Q.tenSites}},[ae.K$.c5]:{default:{tile:10,class:Q.tenSites}},[ae.K$.c6]:{default:{tile:10,class:Q.tenSites}}},[ue.Z3.tworows]:{[ae.K$.c1]:{default:{tile:6,class:Q.sixSites}},[ae.K$.c2]:{default:{tile:10,class:Q.tenSites}},[ae.K$.c3]:{default:{tile:16,class:Q.eightSites}},[ae.K$.c4]:{default:{tile:16,class:Q.eightSites}},[ae.K$.c5]:{default:{tile:16,class:Q.eightSites}},[ae.K$.c6]:{default:{tile:16,class:Q.eightSites}}}},this.showCollapsibleControl=!0,this.outlookTmplFired=!1,this.isDisableDefaultInProgress=!1,this.getUserSelectedSetting=()=>this.userSelectedSetting,this.setActiveTopSiteElement=e=>{this.activeTopSiteElement=e},this.onMostVisitedHandler=()=>{!this.suppressTopSitesStateUpdate&&this.getOrUpdateTopSites()},this.updateSmartListStateHandler=(e,t)=>{t?this.topSitesSmartListManager.enableSmartList(e):this.topSitesSmartListManager.disableSmartList(e),function(e){e?qe.H.logEvent(qe.v.NTP_SMARTLIST_ENABLED):qe.H.logEvent(qe.v.NTP_SMARTLIST_DISABLED)}(t)},this.onBreakpointCallback=e=>{this.columnArrangement=e,this.reRenderTopsite()},this.getCurrentLayoutConfig=()=>{const e=this.chromiumPageSettingState&&"always"===this.chromiumPageSettingState.selectedFeedDisplaySetting?"always":"default",t=this.userSelectedSetting&&this.userSelectedSetting!==ue.Z3.off?this.userSelectedSetting:ue.Z3.onerow,i=this.tilesxColxRowsMap[t][this.columnArrangement];return i[e]?i[e]:i.default},this.onResize=()=>{this.closeFlyouts.bind(this)(),this.setInformationalOnlyStyle.bind(this)()}}experienceConnected(){if(this.config.enableWpoTopSitesConfigOverride){const e=function(e){try{const t=(0,m._)(f.jG.AppType,f.jG.CurrentRequestTargetScope),{treatments:i}=te.getObject(t)||{};if(!i)return null;let n=i.filter((e=>(null==e?void 0:e.type)===v._h.topSites));if(e&&(n=i.filter((e=>(null==e?void 0:e.type)===v._h.topSitesPromotion))),(null==n?void 0:n.length)>0&&n[0].properties)return n[0].properties}catch(e){const t="Error in getting wpo topSites config";(0,b.H)(y.Od5,t,e)}return null}(this.config.enableWpoRecommendSitesConfigMerge);e&&(this.config=Object.assign(Object.assign({},this.config),e))}this.topSitesContainerPromise=new Promise((e=>this.topSitesContainerPromiseResolver=e)),(0,Zt.Uo)(le.z.ChromiumPageSettings,(e=>{this.chromiumPageSettingState=e;const t=e&&e.imageOfTheDayEnabled;e&&e.configData&&e.configData.enabledFeatures&&(this.enableTwentyTopSites=e.configData.enabledFeatures.includes("msMaxQuickLinksAt20"),this.enableOfficeComCurated=e.configData.enabledFeatures.includes("msNtpNoClientCuratedSites"),this.enableTwoLineTopSiteTitles=e.configData.enabledFeatures.includes("msNtpExp6")),this.enableSixteenTopSites=this.chromiumPageSettingState.ntpPrefOptionApiAvailability;const i=e&&e.selectedQuickLinksDisplaySetting;(this.enableSixteenTopSites||this.enableTwentyTopSites)&&this.userSelectedSetting!==i&&(this.userSelectedSetting&&(this.userSelectedSettingCheck=!0,this.userSelectedSetting=i,this.userSelectedSetting===ue.Z3.tworows&&(this.config.maxTiles=M),this.getOrUpdateTopSites()),this.userSelectedSetting=i),this.className=t?(0,ce.Yc)()?Q.topSitesDarkOnBackgroundImage:Q.topSitesLightOnBackgroundImage:(0,ce.Yc)()?Q.topSitesDark:Q.topSitesLight,this.chromiumPageSettingLayoutState&&this.chromiumPageSettingLayoutState!=e&&this.reRenderTopsite(),this.chromiumPageSettingLayoutState=e})),this.columnArrangement=(0,de.Bn)().currentColumnArrangement,this.numberPromotedSites=this.config.promoteCurated;const e=(0,p.$o)().getItem(_),t=Number(null==e?void 0:e);this.disablePromoteTopSites=!isNaN(t)&&0===t,!this.disablePromoteTopSites&&this.numberPromotedSites>t&&(this.numberPromotedSites=t),this.enableTwentyTopSites?(this.config.maxTiles=L,this.extraAddedSitesClassName=Q.tenSites,this.tilesxColxRowsMap[ue.Z3.tworows][ae.K$.c3].default={tile:20,class:Q.tenSites},this.tilesxColxRowsMap[ue.Z3.tworows][ae.K$.c3].always={tile:16,class:Q.eightSites},this.tilesxColxRowsMap[ue.Z3.tworows][ae.K$.c4].default={tile:20,class:Q.tenSites},this.tilesxColxRowsMap[ue.Z3.tworows][ae.K$.c5].default={tile:20,class:Q.tenSites}):this.enableSixteenTopSites?(this.config.maxTiles=M,this.extraAddedSitesClassName=this.userSelectedSetting===ue.Z3.tworows&&this.columnArrangement>="c4"?null:Q.tenSites):(this.config.maxTiles=x,this.extraAddedSitesClassName=Q.eightSites),this.config.enableOneColumn&&this.columnArrangement===ae.K$.c1&&(this.extraAddedSitesClassName=Q.sixSites),this.topSitesLayoutDataConnector=(0,Qt.K0)(le.z.TopSitesLayoutData),this.topSitesLayoutDataConnector&&this.topSitesLayoutDataConnector.updateMaxTiles(this.config.maxTiles),this.pageSettingsConnector=(0,Qt.K0)(le.z.ChromiumPageSettings);const i=window;i.chrome&&i.chrome.embeddedSearch&&(this.ntpApiHandle=i.chrome.embeddedSearch.newTabPage);const n=this.config?this.config.smartListConfig:null;this.topSitesSmartListManager=class{constructor(e,t){this.$updateTopSitesHandler=t,this.$smartListConfig=e,this.validateConfigAndSetEnableState(),this.$enabled&&(this.$smartListStorageState=Ht(),this.$smartListSharedConnector=this.getSmartListSharedConnector(),this.startSmartListObservers())}get shouldRenderSmartList(){return this.$enabled}get smartListBadgePropsMap(){return this.$smartListBadgePropsMap}static getInstance(e,t){return this.$instance||(this.$instance=new this(e,t))}static deInit(){this.$instance=void 0}disableSmartList(e){if(!this.$enabled||!e||!this.$topSiteSmartListMap)return;const t=this.$topSiteSmartListMap.get(e);t&&(t.enabled=!1,jt(t.experienceType,!1),this.$updateTopSitesHandler())}enableSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);t&&!t.enabled&&(t.enabled=!0,jt(t.experienceType,!0),this.tryInitSmartList(t.experienceType),this.$updateTopSitesHandler())}getSmartListSignInStatus(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);return t?t.isUserSignedIn:void 0}hoverTopSite(e,t=!0,i){if(this.$enabled&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.has(e)){const n=this.$topSiteSmartListMap.get(e),r=i.currentTarget;n&&n.enabled&&(t?this.executeSmartListCallback(n.experienceType,Ut.render,r):this.executeSmartListCallback(n.experienceType,Ut.unmount,r))}}mapMostVisitedDataToSmartLists(e){this.$enabled&&(this.$topSiteSmartListMap=new Map,e.forEach((e=>{this.$smartListConfig.smartLists.forEach((t=>{this.getSmartList(t.experienceType)||t.identifierHosts.every((i=>{if(e.url.indexOf(i)>-1){const i=!this.$smartListStorageState||function(e){const t=Bt(e);return!t||t.enabled}(t.experienceType);return this.$topSiteSmartListMap.set(e.rid,{experienceType:t.experienceType,enabled:i,isSignInAvailable:!(0,zt.isNullOrUndefined)(t.isSignInAvailable)&&t.isSignInAvailable,isUserSignedIn:!!this.$smartListStorageState&&$t(t.experienceType)}),this.tryInitSmartList(t.experienceType),!1}return!0}))}))})),this.$smartListStorageState=function(...e){return Nt=[...e]}(...this.$topSiteSmartListMap.values()))}moveFocusToSmartList(e,t){if(this.$enabled&&this.$topSiteSmartListMap){if(this.$topSiteSmartListMap.has(e)){const i=this.$topSiteSmartListMap.get(e);if(i&&i.enabled&&this.$smartListSharedConnector)return this.$smartListSharedConnector.moveFocusToSmartList(i.experienceType,t)}return!1}}signInSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);t&&t.isSignInAvailable&&!$t(t.experienceType)&&(t.isUserSignedIn=!0,jt(t.experienceType,t.enabled,!0),this.executeSmartListCallback(t.experienceType,Ut.updateSingInStatus,!0))}signOutSmartList(e){if(!this.$enabled||!e||!this.$topSiteSmartListMap)return;const t=this.$topSiteSmartListMap.get(e);t&&t.isSignInAvailable&&$t(t.experienceType)&&(t.isUserSignedIn=!1,jt(t.experienceType,t.enabled,!1),this.executeSmartListCallback(t.experienceType,Ut.updateSingInStatus,!1))}getEnabledSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.has(e)))return null;const t=this.$topSiteSmartListMap.get(e);return t.enabled?t:null}hasSignInAvailable(e){return!!(this.$enabled&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)&&this.$topSiteSmartListMap.get(e).isSignInAvailable)}hasSmartList(e){return!!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e))}executeSmartListCallback(e,t,i){if(this.$smartListSharedConnector)switch(t){case Ut.initialize:this.$smartListSharedConnector.initSmartList(e);break;case Ut.render:this.$smartListSharedConnector.renderSmartList(e,i);break;case Ut.unmount:this.$smartListSharedConnector.unmountSmartList(e,i);break;case Ut.updateSingInStatus:this.$smartListSharedConnector.updateSignInStatus(e,i)}}tryInitSmartList(e){if(!this.isSmartListEnabled(e)||!this.$smartListSharedConnector)return;const t=this.$smartListSharedConnector.getCurrentState().smartLists;t&&0!==t.size&&this.executeSmartListCallback(e,Ut.initialize)}getSmartListSharedConnector(){return _t._.getInstance().rootReducer.connector(le.z.SmartListSharedData)}isSmartListEnabled(e){const t=this.getSmartList(e);return!(!t||!t.enabled)}getSmartList(e){for(const[t,i]of this.$topSiteSmartListMap)if(i.experienceType===e)return i;return null}validateConfigAndSetEnableState(){this.$smartListConfig&&this.$smartListConfig.enabled&&this.$smartListConfig.smartLists&&this.$smartListConfig.smartLists.length?this.$enabled=!0:this.$enabled=!1}updateSmartListBadgeProps(e,t){this.$smartListBadgePropsMap||(this.$smartListBadgePropsMap=new Map),this.$smartListBadgePropsMap.set(e,t)}observeSmartListRegistrations(){this.$smartListSharedConnector&&Wt.j.registerSmartList.registerObserver((e=>{if(!e.params&&!e.params[0])return;const t=e.params[0];this.tryInitSmartList(t.experienceType)}))}observeSmartListBadgePropUpdate(){this.$smartListSharedConnector&&Wt.j.updateSmartListBadgeProps.registerObserver((e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=e.params[1];this.getSmartList(t)&&(this.updateSmartListBadgeProps(t,i),this.$updateTopSitesHandler())}))}observeSmartListDisable(){this.$smartListSharedConnector&&Wt.j.disableSmartList.registerObserver((e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.disableSmartList(e)}))}observeSmartListUpdateSignInState(){this.$smartListSharedConnector&&(Wt.j.userSignInSignature.registerObserver((e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.signInSmartList(e)})),Wt.j.userSignOutSignature.registerObserver((e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.signOutSmartList(e)})))}startSmartListObservers(){this.observeSmartListRegistrations(),this.observeSmartListBadgePropUpdate(),this.observeSmartListDisable(),this.observeSmartListUpdateSignInState()}}.getInstance(n,this.getOrUpdateTopSites.bind(this)),this.suppressTopSitesStateUpdate=!1,this.ntpApiHandle&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedHandler),this.config.overrideIconsList&&this.config.overrideIconsList.length>0&&this.config.overrideIconsList.forEach((e=>{e.identifierHosts.every((t=>{this.topSiteMapper.set(t,e.faviconUrl)}))})),this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0&&(this.config.suggestedTopSiteList=((e,t)=>{if(!e)return t;for(const i of t){const t=e.addOrUpdateChild({name:`${Be}_${De}_${Me}`,behavior:he.wu.Save,content:{headline:ze.suggestedLink,type:he.uH.TopSites},overrideDestinationUrl:Ve,type:he.c9.ActionButton});i.suggestedLinkTelemetryTag=t.getMetadataTag()}return t})(this.telemetryObject,this.config.suggestedTopSiteList)),this.currentCollapsedState=!1,this.initializeTopSitesState(),this.minimumTopSites=x-1,this.getOrUpdateTopSites(),this.topSiteAddDialog=this.generateTopSiteAddDialogProps(),this.topSiteEditDialog=this.generateTopSiteEditDialogProps(),this.actionsMenuProps=this.generateActionsMenuProps(),(0,tt.FY)(it._.topSites,this)}disconnectedCallback(){super.disconnectedCallback(),this.dragDropService&&this.dragDropService.destroy()}prerenderRefreshCritical(){return(0,g.mG)(this,void 0,void 0,(function*(){this.initializeTopSitesState()}))}shadowDomPopulated(){addEventListener("scroll",this.closeFlyouts.bind(this)),addEventListener("resize",this.onResize.bind(this)),addEventListener("mouseup",this.handleClick.bind(this),!1),(0,de.Bn)().subscribe(this.onBreakpointCallback),requestAnimationFrame((()=>{setTimeout((()=>{this.markVisuallyReady(),pe.M.observeSingleElement(this.topSitesRoot)}))})),this.columnArrangement=(0,de.Bn)().currentColumnArrangement,this.reRenderTopsite();const e=this.shadowRoot.getElementById("clickAddTileButton");e&&(0,tt.FY)(it._.addTopSiteButton,e);const t=this.shadowRoot.querySelector("msft-top-site");if(t&&(0,tt.FY)(it._.topSitesFirstLink,t),(0,f.Yq)().ClarityEnabled||this.config.clarityEnabled){const e=this.shadowRoot.getElementById(Z.topSitesId);e&&e.setAttribute("data-clarity-mask","true")}this.topSitesContainerPromiseResolver(this.topSitesContainer)}getExperienceType(){return l.x.topSitesEdgeNextWC}get quickLinkButtonAriaLabel(){return this.currentCollapsedState?this.strings.quickLinksExpandAriaLabelText:this.strings.quickLinksCollapseAriaLabelText}get twoRowSitesClassName(){var e;return this.selectedQuickLinksDisplaySetting&&this.selectedQuickLinksDisplaySetting==ue.Z3.tworows?(null===(e=this.topSites)||void 0===e?void 0:e.length)<=this.minimumTopSites?"":Q.twoRowSites:""}changeCollapsedState(e){const t=this.currentCollapsedState?"0":"1";if(e&&pe.M.sendActionEvent(e.target),this.config.readTopSitesCollapseStateFromBrowserSettings){const e=W.toLowerCase(),i={setting:e,source:"ntp",timestamp:(new Date).getTime(),value:parseInt(t)};ge.L.savePreferenceSetting(e,i)}else(0,p.$o)().setItem(W,t);this.topSitesTelemetryContext&&(this.topSitesTelemetryContext.showOrHide=((e,t)=>{const i=`${Re}_${t?Ne:je}`,n=t?he.wu.Show:he.wu.Hide,r=t?ze.show:ze.collapse,o=e.showOrHide;return o.contract.name=i,o.contract.behavior=n,o.contract.content.headline=r,o})(this.topSitesTelemetryContext,!this.currentCollapsedState),this.quickLinkButtonTelemetryTag=this.topSitesTelemetryContext.showOrHide.getMetadataTag()),this.currentCollapsedState=!this.currentCollapsedState,this.setInformationalOnlyStyle(),(0,qt.ih)(l.x.topSitesEdgeNextWC),window.requestAnimationFrame((()=>{this.currentCollapsedState?(setTimeout((()=>{this.actionButtonLabelClassName="collapsed-label"}),300),this.actionButtonSvgClassName="collapsed-svg",this.sitesClassName="collapsed-sites"):(this.actionButtonLabelClassName="expanded-label",this.actionButtonSvgClassName="expanded-svg",setTimeout((()=>{this.sitesClassName="expanded-sites"}),300))})),this.topSitesLayoutDataConnector&&this.topSitesLayoutDataConnector.updateCollapsedStatus(this.currentCollapsedState)}closeFlyouts(){this.isActionMenuOpen&&this.toggleActionMenu(null),this.isAddDialogOpen&&this.toggleAddDialog(),this.isEditDialogOpen&&this.toggleEditDialog()}closeUndoToast(){var e;this.isUndoToastOpen=!1,this.isPinToastOpen=!1,this.isAddDialogOpen&&this.toggleAddDialog(),this.isEditDialogOpen&&this.toggleEditDialog(),null===(e=this.activeContextMenuButtonElement)||void 0===e||e.focus()}generateActionsMenuProps(){return{menuItems:this.getActionMenuItem(),onDismiss:this.toggleActionMenu}}generateTopSiteAddDialogProps(){return{onClose:e=>{this.toggleAddDialog()},saveHandler:(e,t)=>{const i=t||e.detail,n=Xt(i.url),r=t?t.title:i.name,o=function(e,t,i){if(e&&t){const n=e.fixupAndValidateUrl(t.href);if(n)return e.updateCustomLink(-1,n,i||t.hostname),qe.H.logEvent(qe.v.NTP_CUSTOMIZE_SHORTCUT_ADD),!0}return!1}(this.ntpApiHandle,n,r);o&&this.toggleAddDialog()},headerTitle:this.strings.addDialogHeadingText,saveText:this.strings.addText,cancelText:this.strings.cancelText,closeText:this.strings.closeButtonText,dialogAnchor:this.activeTopSiteElement,nameInputBox:{name:this.strings.nameLabelText,value:"",ariaLabel:this.strings.ariaLabel_addNameInput||""},urlInputBox:{name:this.strings.urlLabelText,value:"",ariaLabel:this.strings.ariaLabel_addUrlInput||""},newOrUpdatedTopSite:{name:"",url:""},saveButtonTelemetryTag:this.topSitesTelemetryContext&&this.topSitesTelemetryContext.saveAdd&&this.topSitesTelemetryContext.saveAdd.getMetadataTag(),cancelButtonTelemetryTag:this.topSitesTelemetryContext&&this.topSitesTelemetryContext.cancelAdd&&this.topSitesTelemetryContext.cancelAdd.getMetadataTag(),closeButtonTelemetryTag:this.topSitesTelemetryContext&&this.topSitesTelemetryContext.closeAddDialog&&this.topSitesTelemetryContext.closeAddDialog.getMetadataTag()}}generateTopSiteEditDialogProps(){return{onClose:e=>{this.toggleEditDialog(e)},saveHandler:e=>{const t=e.detail,i=Xt(t.url),n=t.name;if(this.dragDropService&&"slot"in this.activeTopSiteItem)return this.activeTopSiteItem.title=n,this.dragDropService.updateTopSites(this.activeTopSiteItem),this.toggleEditDialog(e),void this.getOrUpdateTopSites();const r=function(e,t,i,n,r,o){if(t&&n){let s=t.fixupAndValidateUrl(n.href);if(s&&r)return t.getMostVisitedItemData(r)?(s=t.getMostVisitedItemData(r).url!==s?s:"",t.updateCustomLink(r,s,o||n.hostname),t.logEvent(qe.v.NTP_CUSTOMIZE_SHORTCUT_UPDATE)):(t.onmostvisitedchange=i,t.updateCustomLink(-1,s,o||n.hostname),e()),!0}return!1}(this.getOrUpdateTopSites.bind(this),this.ntpApiHandle,this.onMostVisitedHandler.bind(this),i,this.activeTopSiteItem.rid,n);r&&this.toggleEditDialog(e)},headerTitle:this.strings.renameDialogHeadingText,saveText:this.strings.saveText,cancelText:this.strings.cancelText,closeText:this.strings.closeButtonText,dialogAnchor:this.activeTopSiteElement,nameInputBox:{name:this.strings.nameLabelText,value:"",ariaLabel:this.strings.ariaLabel_addNameInput||""},saveButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.saveEdit&&this.topSiteActionTelemetryContext.saveEdit.getMetadataTag(),cancelButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.cancelEdit&&this.topSiteActionTelemetryContext.cancelEdit.getMetadataTag(),closeButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.closeEditDialog&&this.topSiteActionTelemetryContext.closeEditDialog.getMetadataTag()}}generateUndoTopSiteHandler(){return this.isDisableDefaultInProgress?(this.disableCurated(),void(this.isDisableDefaultInProgress=!1)):this.dragDropService&&"slot"in this.activeTopSiteItem?(this.dragDropService.addTopSite(this.activeTopSiteItem),this.toggleUndoToast(),void this.getOrUpdateTopSites()):(this.activeTopSiteItem.tileSource==O.PromotedCuratedTileSource&&(this.numberPromotedSites++,(0,p.$o)().setItem(_,this.numberPromotedSites.toString())),et(this.getOrUpdateTopSites.bind(this),this.ntpApiHandle,this.activeTopSiteItem.rid,this.activeTopSiteItem.tileSource,this.activeTopSiteItem.url),void this.toggleUndoToast())}generateUndoToastProps(){const e=this.activeTopSiteItem.title,t=e.length>20?`${e.substring(0,20)}…`:e,i=this.strings.undoRemovedFormat;let n=(0,re.Z)(i,t);return this.isDisableDefaultInProgress&&(n=[this.strings.undoDisableDefault]),{closeButtonLabel:this.strings.closeButtonText,closeButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.closeRemoveToast?this.topSiteActionTelemetryContext.closeRemoveToast.getMetadataTag():null,closeHandler:()=>{this.toggleUndoToast()},notificationDurationMs:this.config.undoToastNotificationDurationMs||j,removedText:n,undoButtonLabel:this.strings.undoLabelText,undoButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.undoRemoveTopSite?this.topSiteActionTelemetryContext.undoRemoveTopSite.getMetadataTag():null,undoTopSiteHandler:()=>{this.generateUndoTopSiteHandler()}}}generatePinToastProps(e){const{toastText:t,toastDisplayMs:i,tileTitle:n=this.activeTopSiteItem.title}=e,r=n.length>20?`${n.substring(0,20)}…`:n,o=(0,re.Z)(t,r);return{closeButtonLabel:this.strings.closeButtonText,closeButtonTelemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.closeRemoveToast?this.topSiteActionTelemetryContext.closeRemoveToast.getMetadataTag():null,closeHandler:()=>{this.isPinToastOpen=!1},notificationDurationMs:i||this.config.undoToastNotificationDurationMs||j,pinText:o}}checkTopsitesTail(e){var t;const i=null===(t=this.topSites)||void 0===t?void 0:t.length;if(i)for(let t=i-1;t>e&&"slot"in this.topSites[t];t--)this.topSites[t].slot--,this.dragDropService.addTopSite(this.topSites[t])}getActionMenuItem(){var e;const t=this.activeTopSiteItem&&(this.activeTopSiteItem.tileSource===O.CuratedTileSource||this.activeTopSiteItem.tileSource===O.PromotedCuratedTileSource),i={id:"Remove",title:this.strings.removeLabelText,glyph:'<svg viewBox="0 0 16 16" width="16" height="16"><path d="M14 3h-1v11.5a1.47 1.47 0 0 1-.44 1.06 1.5 1.5 0 0 1-1.06.44h-8a1.47 1.47 0 0 1-1.06-.44A1.5 1.5 0 0 1 2 14.5V3H1V2h4V1a.97.97 0 0 1 .29-.7A.97.97 0 0 1 6 0h3a.97.97 0 0 1 .7.3.94.94 0 0 1 .3.7v1h4v1ZM6 2h3V1H6v1Zm6 1H3v11.5c0 .14.05.25.15.35.1.1.21.15.35.15h8c.14 0 .25-.05.35-.15.1-.1.15-.21.15-.35V3ZM6 13H5V5h1v8Zm2 0H7V5h1v8Zm2 0H9V5h1v8Z"/></svg>',onClick:e=>{this.checkTopsitesTail(this.findActiveSiteIndex(this.activeTopSiteItem)),"https://www.office.com"==this.activeTopSiteItem.url&&(this.deletedUrlLookup[this.activeTopSiteItem.url]=!0,this.webStorage.setObject(ei,this.deletedUrlLookup)),this.activeTopSiteItem.tileSource==O.PromotedCuratedTileSource&&(this.numberPromotedSites--,(0,p.$o)().setItem(_,this.numberPromotedSites.toString())),this.dragDropService&&"slot"in this.activeTopSiteItem&&this.dragDropService.removeTopSite(this.activeTopSiteItem),Ye(0,this.getOrUpdateTopSites.bind(this),this.activeTopSiteItem,this.ntpApiHandle,this.toggleUndoToast.bind(this),!0)},telemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.removeTopSite?this.topSiteActionTelemetryContext.removeTopSite.getMetadataTag():""},n={id:"Rename",title:this.strings.renameLabelText,glyph:Mt.Z,onClick:e=>{this.toggleEditDialog(e)},telemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.editDialog?this.topSiteActionTelemetryContext.editDialog.getMetadataTag():""},r={id:"Hide",title:this.strings.hideCuratedLabelText,glyph:Lt.Z,onClick:e=>{this.disableCurated()},telemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.removeCurated?this.topSiteActionTelemetryContext.removeCurated.getMetadataTag():""},o={id:"PinToTaskBar",title:this.strings.pinToTaskBar,glyph:Dt.Z,onClick:e=>{this.pinToTaskBar(),this.togglePinToast()},telemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.pinningTopSite?this.topSiteActionTelemetryContext.pinningTopSite.getMetadataTag():""},s={id:"Pin",title:(null===(e=this.activeTopSiteItem)||void 0===e?void 0:e.tileSource)===O.DragDropTileSource?this.strings.unpinSite:this.strings.pinSite,glyph:ut.Z,onClick:e=>{this.pinAction(this.activeTopSiteItem)},telemetryTag:this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.pinningTopSite?this.topSiteActionTelemetryContext.pinningTopSiteInQuickLinks.getMetadataTag():""},a=[n,i];t&&a.push(r),this.config.enablePinningTopSite&&a.push(o),this.config.enableAllPin&&a.push(s);const c=this.getSmartListActionsMenuItem();return c&&a.push(c),a}getSmartListActionsMenuItem(){if(this.activeTopSiteItem&&this.topSitesSmartListManager.shouldRenderSmartList&&this.topSitesSmartListManager.hasSmartList(this.activeTopSiteItem.rid)){let e,t,i;return this.topSitesSmartListManager.getEnabledSmartList(this.activeTopSiteItem.rid)?(e=this.strings.disableSmartListText,i=this.updateSmartListStateHandler.bind(this,this.activeTopSiteItem.rid,!1),t=this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.turnOffPreview?this.topSiteActionTelemetryContext.turnOffPreview.getMetadataTag():""):(e=this.strings.enableSmartListText,i=this.updateSmartListStateHandler.bind(this,this.activeTopSiteItem.rid,!0),t=this.topSiteActionTelemetryContext&&this.topSiteActionTelemetryContext.turnOnPreview?this.topSiteActionTelemetryContext.turnOnPreview.getMetadataTag():""),{id:"SmartList",title:e,glyph:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 6v1h1V6H0Zm0 3v1h1V9H0Zm3 0v1h13V9H3Zm-3 3v1h1v-1H0Zm3 1h13v-1H3v1Zm0-7v1h13V6H3ZM0 3v1h1V3H0Zm3 0v1h13V3H3Z"/></svg>',onClick:e=>{i()},telemetryTag:t}}return null}getOrUpdateTopSites(){this.topSites=this.getTopSites(),this.topSitesPlaceHolders=this.getTopSitesPlaceHolders()}getOrderedTopSites(){var e;let t=function(e){let t=null;if(e){if(!e.mostVisitedAvailable)return null;t=e.mostVisited.map(((t,i)=>{const n=e.getMostVisitedItemData(t.rid);return{rid:t.rid,dataGenerationTime:n.dataGenerationTime,faviconUrl:t.faviconUrl,domain:n.domain,title:n.title,tileSource:n.tileSource,tileTitleSource:n.tileTitleSource,url:n.url,direction:n.direction,enforcement:t.enforcement,customImagePart:t.customImagePart}})),qe.H.logEvent(qe.v.NTP_ALL_TILES_RECEIVED)}return t}(this.ntpApiHandle),i=1;const n=new Map,r=this.numberPromotedSites;let o=r>0&&!this.disablePromoteTopSites;const s=[];t||(t=[]);let a=this.config.maxTiles?this.config.maxTiles-1:x-1;const c=this.getCurrentLayoutConfig();a=c.tile-1;const d=null===(e=this.chromiumPageSettingState)||void 0===e?void 0:e.hideDefaultTopSites;let l=t.length>=a;if(!d&&t&&this.config&&(t.length<a||o)&&this.config.curatedSites){!function(e,t){if(t&&t.forEach((e=>{const t=new T(e.url);Y[t.domain]=!0,ee[e.url]=!0})),X=[],!e.curatedSites)return;const i=e.curatedSites.map((e=>Object.assign(Object.assign({},e),{faviconUrl:ie(e.faviconUrl)}))),n={};(0,K.Z)(Y,((e,t)=>{ne(n,t)})),(0,K.Z)(ee,((e,t)=>{if(!t||n[t])return;const i=new T(t);ne(n,i.domainAndPath),n[t]=!0})),X=new Array,i.forEach((e=>{const t=new T(e.url);n[t.domain]||n[t.domainAndPath]||n[e.url]||X.push(e)}))}(this.config,t),t.length<a&&(o=!1,l=!1);const e=t.length;e>0&&(i=t[e-1].rid+1e3);const c=X;let d=this.config.maxTiles-1-t.length;o&&(d=r);const u=c.slice(0,d).map((e=>(n.set(i,e),{rid:i++,dataGenerationTime:void 0,faviconUrl:e.faviconUrl,domain:void 0,title:e.title,tileSource:o?O.PromotedCuratedTileSource:O.CuratedTileSource,tileTitleSource:void 0,url:e.url,direction:e.direction,enforcement:void 0})));if(this.webStorage=(0,p.$o)(),this.deletedUrlLookup=this.webStorage.getObject(ei)||{},this.enableOfficeComCurated&&!this.deletedUrlLookup["https://www.office.com"]){const e={rid:i++,dataGenerationTime:void 0,faviconUrl:"http://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBMzZlJ.img",domain:void 0,title:"Office",tileSource:O.CuratedTileSource,tileTitleSource:void 0,url:"https://www.office.com",direction:"ltr",enforcement:void 0};u.unshift(e)}o?s.push(...u):t.push(...u)}this.config.enableRecommendedSites&&(t=Xe(this.config,t,n));const u=new Map;if(o&&s.length>0)for(let e=r,t=0;e>0&&t<s.length;e--,t++)u.set(a-e,s[t]);const g=[],h=new Map,f=["ntp.msn.com","ntp.msn.cn"];let m=0;t.forEach(((e,t)=>{if(t<a){if(e.tileSource===O.UserAddedTileSource||e.tileSource===O.UserAddedTileSourceNewVal)m++;else if((e.tileSource==O.AlgoGeneratedTileSource||e.tileSource===O.CuratedTileSource)&&(g.push(t),e.tileSource==O.AlgoGeneratedTileSource)){if(f.includes(e.domain))return;if(this.shouldDropTopSite(e)){const e=this.config.blockedDomainsCF;if(pe.M.addOrUpdateTmplProperty("RemSE",e?"0":"1"),!e)return}}h.set(t,e)}else if((e.tileSource===O.UserAddedTileSource||e.tileSource===O.UserAddedTileSourceNewVal)&&g.length){const i=g.pop();h.has(i)&&(h.delete(i),h.set(t,e),m++)}m>=a&&m<=a+1&&(e.tileSource!==O.UserAddedTileSource&&e.tileSource!==O.UserAddedTileSourceNewVal||(h.set(t,e),m++))})),t=[],h&&h.forEach(((e,i)=>{t.push(e)})),o&&0===m&&u.size>0&&u.forEach(((e,i)=>{t.splice(i,0,e),t.pop()}));const v=oe.Al.CurrentFlightSet;return(v.has("prg-prmt-crtdv2")||v.has("prg-prmt-ctrlv2"))&&l&&0===m&&pe.M.addOrUpdateTmplString("promotedTopSites"),t}getTopSites(){let e=this.getOrderedTopSites();if(this.config.draggable){this.dragDropService||this.initializeDragDropService();const t=this.getCurrentLayoutConfig().tile-1;this.dragDropService&&(e=this.dragDropService.getTopSites(e,t))}if(e&&e.length>0){this.userSelectedSettingCheck||this.topSitesSmartListManager.mapMostVisitedDataToSmartLists(e),this.userSelectedSettingCheck=!1,e=e.map(((e,t)=>{if(this.config.maxTiles-1<t)return;if(this.config.overrideIconsList&&this.config.overrideIconsList.length>0&&this.topSiteMapper.size>0){const t=new URL(e.url);this.topSiteMapper.get(e.url)?e.faviconUrl=this.topSiteMapper.get(e.url):this.topSiteMapper.get(t.hostname)&&(e.faviconUrl=this.topSiteMapper.get(t.hostname))}const i=new T(e.url),{enableAffiliateLinks:n,topSitesAffiliates:r}=this.config;n&&r&&r[i.domainPathAndQuery]&&e.tileSource===O.AlgoGeneratedTileSource&&q.test(r[i.domainPathAndQuery])&&(e.url=e.url.replace(/\/$/,"")+r[i.domainPathAndQuery]);const o=function(e,t){if(t.shouldRenderSmartList){const i=t.getEnabledSmartList(e.rid);if(i&&t.smartListBadgePropsMap&&t.smartListBadgePropsMap.size>0)return t.smartListBadgePropsMap.get(i.experienceType)}return null}(e,this.topSitesSmartListManager);return Object.assign(Object.assign({},e),{badge:o,onMouseEnter:this.handleTopSiteHover(e.rid,!0),onMouseLeave:this.handleTopSiteHover(e.rid,!1),onFocus:this.handleTopSiteHover(e.rid,!0),onBlur:this.handleTopSiteHover(e.rid,!1),onKeyDown:this.handleKeyDownPress(e.rid)})}));const t=e.map((e=>{const t=((e,t)=>{if(!e)return;let i;switch(t.tileSource){case O.UserAddedTileSource:case O.UserAddedTileSourceNewVal:i=ve;break;case O.CuratedTileSource:i=me;break;case O.PromotedCuratedTileSource:i=ye;break;case O.WPOPromotedTileSource:i=Ce;break;default:i=be}const n=he.uH.TopSites;return{topSiteTile:e.addOrUpdateChild({name:`${i}_${Se}`,content:{type:n}}),destination:e.addOrUpdateChild({name:`${i}_${we}`,behavior:he.wu.Navigate,content:{headline:ze.tsn,type:n},overrideDestinationUrl:Ve}),moreOption:e.addOrUpdateChild({name:`${i}_${Te}`,behavior:he.wu.More,content:{headline:ze.moreOption,type:n},overrideDestinationUrl:Ve}),unpin:e.addOrUpdateChild({name:`${i}_${We}`,behavior:he.wu.Unpin,content:{headline:ze.unpin,type:n},overrideDestinationUrl:Ve}),pin:e.addOrUpdateChild({name:`${i}_${_e}`,behavior:he.wu.Pin,content:{headline:ze.pin,type:n},overrideDestinationUrl:Ve})}})(this.telemetryObject,e);let i=e.tileSource===O.PromotedCuratedTileSource&&t&&t.unpin&&t.unpin.getMetadataTag();return this.config.enableAllPin&&e.tileSource===O.DragDropTileSource&&(i=t&&t.pin&&t.pin.getMetadataTag()),Object.assign(Object.assign({},e),{contextMenuLabel:this.strings.contextMenuLabel,toggleActionMenu:this.toggleActionMenu.bind(this),contentViewTelemetryTag:t&&t.topSiteTile&&t.topSiteTile.getMetadataTag(),anchorTelemetryTag:t&&t.destination&&t.destination.getMetadataTag(),toggleActionMenuButtonTelemetryTag:t&&t.moreOption&&t.moreOption.getMetadataTag(),enableTwoLineTopSiteTitles:this.enableTwoLineTopSiteTitles,promote:e.tileSource===O.DragDropTileSource,pinLabel:e.tileSource===O.DragDropTileSource?this.strings.unpinSite:this.strings.pinSite,pinAction:this.pinAction.bind(this),pinActionButtonTelemetryTag:i})}));return this.currentTilesNumber=e.length,t}return this.userSelectedSetting&&this.userSelectedSetting==ue.Z3.off||this.zeroTopSitesErrorHandler(),[]}getTopSitesPlaceHolders(){const e=[];return this.currentTilesNumber<this.config.maxTiles&&(e.push({addTileSupported:!0,backPlateEnabled:this.config.enableBackPlateForPlaceholder||!1,onAddTopSiteClick:this.toggleAddDialog.bind(this),ariaLabel:this.strings.ariaLabel_addTile,addTopSiteButtonTelemetryTag:this.topSitesTelemetryContext&&this.topSitesTelemetryContext.topSitePlaceHolderAddSite&&this.topSitesTelemetryContext.topSitePlaceHolderAddSite.getMetadataTag()}),this.currentTilesNumber++),e}handleClick(e){this.isActionMenuOpen&&(!this.topSiteActionsMenu||this.topSiteActionsMenu.contains(e.target)||this.activeContextMenuButtonElement.contains(e.target)||this.activeContextMenuButtonElement.contains(e.path[0])||this.toggleActionMenu(this.activeTopSiteItem,e)),this.topSites&&this.topSites.length>0&&this.ShowPinningWizardCampaign()}handleTopSiteHover(e,t=!0){return i=>{if(this.topSitesSmartListManager.shouldRenderSmartList&&(this.topSitesSmartListManager.hoverTopSite(e,t,i),this.topSitesSmartListManager.hasSmartList(e)&&i.target&&"mouseleave"!==i.type)){const t=Ft.u.get(i.target);if(t&&t.contract){const n=t.contract;n.overrideDestinationUrl=Ve,n.content&&(n.content.headline=e.toString()),Ft.u.setAttribute(i.target,n),pe.M.sendActionEvent(i.target,he.Aw.Hover,he.wu.Show)}}}}handleKeyDownPress(e){return t=>{"ArrowUp"===t.key?this.topSitesSmartListManager.moveFocusToSmartList(e,!1)&&t.preventDefault():"ArrowDown"===t.key&&this.topSitesSmartListManager.moveFocusToSmartList(e,!0)&&t.preventDefault()}}findActiveSiteIndex(e){var t;if(!e||!(null===(t=this.topSites)||void 0===t?void 0:t.length))return-1;let i=-1;for(let t=0;t<this.topSites.length;t++)if(e.rid===this.topSites[t].rid){i=t;break}return i}pinAction(e,t){var i,n;if(e.tileSource===O.DragDropTileSource&&((null===(i=this.config)||void 0===i?void 0:i.enableAllPin)||this.dragDropService&&"slot"in e))return e.tileSource=O.DragDropUnpinTileSource,this.togglePinToast({toastText:this.strings.unpinConfirmationMessage,toastDisplayMs:B,tileTitle:e.title}),this.dragDropService.updateTopSites(e),this.getOrUpdateTopSites(),void this.dragDropService.addUnpinnedTopSite(e);if(this.activeTopSiteItem=e,null===(n=this.config)||void 0===n?void 0:n.enableAllPin){e.tileSource=O.DragDropTileSource;let t=Object.assign({},e);e.tileSource!==O.DragDropUnpinTileSource&&(t=Object.assign(Object.assign({},e),{slot:this.findActiveSiteIndex(e)})),this.dragDropService.addTopSite(t),this.togglePinToast({toastText:this.strings.pinConfirmationMessage,toastDisplayMs:B,tileTitle:e.title}),this.getOrUpdateTopSites()}}disableCurated(){this.isDisableDefaultInProgress=!0;const e=this.chromiumPageSettingState,t={hideDefaultTopSites:!e.hideDefaultTopSites,currentBackgroundImageType:e.currentBackgroundImageType,currentLayout:ue.nP.custom,greetingEnabled:e.greetingEnabled,imageOfTheDayEnabled:e.imageOfTheDayEnabled,quickLinksEnabled:e.quickLinksEnabled,selectedQuickLinksDisplaySetting:e.selectedQuickLinksDisplaySetting,selectedFeedDisplaySetting:e.selectedFeedDisplaySetting};this.pageSettingsConnector&&(this.pageSettingsConnector.updateLayout(t),this.getOrUpdateTopSites(),this.toggleUndoToast(),(0,qt.ih)(l.x.topSitesEdgeNextWC))}toggleActionMenu(e,t){this.activeTopSiteElement=!this.isActionMenuOpen&&t?t.currentTarget.parentElement.parentElement:this.activeTopSiteElement,this.activeTopSiteItem=e,this.isActionMenuOpen||(t&&t.currentTarget&&Ft.u.addElement(t.currentTarget),this.topSiteActionTelemetryContext&&this.activeTopSiteItem&&(this.topSiteActionTelemetryContext=((e,t)=>{let i;switch(t.tileSource){case O.UserAddedTileSource:case O.UserAddedTileSourceNewVal:i=ve;break;case O.CuratedTileSource:i=me;break;case O.PromotedCuratedTileSource:i=ye;break;case O.WPOPromotedTileSource:i=Ce;break;default:i=be}const{removeTopSite:n,editDialog:r,closeEditDialog:o,saveEdit:s,cancelEdit:a,turnOffPreview:c,turnOnPreview:d}=e;return n.contract.name=`${i}_${Oe}`,r.contract.name=`${i}_${Pe}`,o.contract.name=`${i}_${Le}_${Ie}`,s.contract.name=`${i}_${Le}_${xe}`,a.contract.name=`${i}_${Le}_${Ae}`,c.contract.name=`${i}_${He}`,d.contract.name=`${i}_${$e}`,e})(this.topSiteActionTelemetryContext,this.activeTopSiteItem)),this.actionsMenuProps=this.generateActionsMenuProps(),this.activeContextMenuButtonElement=t.currentTarget),this.isActionMenuOpen=!this.isActionMenuOpen,(0,se.Gg)(se.tk.actionMenuOpen,this.isActionMenuOpen)}toggleAddDialog(e){if(this.activeTopSitePlaceholderElement=!this.isAddDialogOpen&&e?e.currentTarget.parentElement.parentElement:null,!this.isAddDialogOpen){e&&e.currentTarget&&Ft.u.addElement(e.currentTarget);const t=document.dir===rt.N.ltr,i=this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0?I:E,n=Je(this.activeTopSitePlaceholderElement,this.topSitesRoot,i,document.documentElement.clientWidth,document.documentElement.clientHeight,t);this.topSiteAddDialogContainerPosition=n}this.isAddDialogOpen=!this.isAddDialogOpen,this.isAddDialogOpen||(this.isEditDialogOpen&&this.toggleEditDialog(),this.isUndoToastOpen&&this.toggleUndoToast()),(0,se.Gg)(se.tk.addTopSite,this.isAddDialogOpen),this.topSiteAddDialog.newOrUpdatedTopSite={name:"",url:""}}pinToTaskBar(e){window&&window.chrome&&window.chrome.appPinningPrivate&&window.chrome.appPinningPrivate.pinPage("This attests that the user has agreed to pin this website",this.activeTopSiteItem.url,this.activeTopSiteItem.title,(e=>console.log(e)))}toggleEditDialog(e){if(!this.isEditDialogOpen){e&&e.currentTarget&&Ft.u.addElement(e.currentTarget),this.topSiteEditDialog.newOrUpdatedTopSite={name:this.activeTopSiteItem.title,url:this.activeTopSiteItem.url},this.topSiteEditDialog.nameInputBox.value=this.activeTopSiteItem.title;const t=document.dir===rt.N.ltr,i=Je(this.activeTopSiteElement,this.topSitesRoot,N,document.documentElement.clientWidth,document.documentElement.clientHeight,t);this.topSiteEditDialogContainerPosition=i}this.isEditDialogOpen=!this.isEditDialogOpen,this.isEditDialogOpen||(this.isAddDialogOpen&&this.toggleAddDialog(),this.isUndoToastOpen&&this.toggleUndoToast()),(0,se.Gg)(se.tk.editTopSite,this.isEditDialogOpen)}toggleUndoToast(){if(!this.isUndoToastOpen&&this.topSitesRoot&&this.undoToastContainer){this.isActionMenuOpen=!1;const e=this.topSitesRoot.getBoundingClientRect(),t=`top:${Math.ceil(e.bottom)+window.scrollY+G}px`;this.undoToastContainer.setAttribute("style",t),this.undoToast=this.generateUndoToastProps(),Ft.u.addElement(this.undoToastContainer),this.isPinToastOpen=!1,this.isUndoToastOpen=!0,Ke.bind(this)(this.undoToast.notificationDurationMs,this.closeUndoToast.bind(this)),setTimeout((()=>{this.undoButton.focus()}),100)}else this.closeUndoToast();(0,se.Gg)(se.tk.toast,this.isUndoToastOpen)}togglePinToast(e={toastText:this.strings.pinToTaskBarConfirmationMessage}){if(!this.isPinToastOpen&&this.topSitesRoot&&this.undoToastContainer){this.isActionMenuOpen=!1;const t=this.topSitesRoot.getBoundingClientRect(),i=`top:${Math.ceil(t.bottom)+window.scrollY+G}px`;this.undoToastContainer.setAttribute("style",i),this.pinToast=this.generatePinToastProps(e),Ft.u.addElement(this.undoToastContainer),this.isUndoToastOpen=!1,this.isPinToastOpen=!0,Ke.bind(this)(this.pinToast.notificationDurationMs,this.closeUndoToast.bind(this))}else this.isPinToastOpen=!1;(0,se.Gg)(se.tk.toast,this.isPinToastOpen)}initializeTopSitesState(){this.currentCollapsedState=this.defaultCollapsedState,this.currentCollapsedState?((0,Ge.o_)(l.x.topSitesEdgeNextWC,!0),this.actionButtonLabelClassName="collapsed-label",this.actionButtonSvgClassName="collapsed-svg",this.sitesClassName="collapsed-sites"):(this.actionButtonLabelClassName="expanded-label",this.actionButtonSvgClassName="expanded-svg",this.sitesClassName="expanded-sites"),this.setInformationalOnlyStyle(),this.topSitesTelemetryContext=((e,t)=>{if(!e)return;const i=he.uH.TopSites,n=e.addOrUpdateChild({name:`${Re}_${t?Ne:je}`,behavior:t?he.wu.Show:he.wu.Hide,content:{headline:t?ze.show:ze.collapse,type:he.uH.TopSites},overrideDestinationUrl:Ve}),r=e.addOrUpdateChild({name:Fe,behavior:he.wu.Add,content:{headline:ze.addSite,type:i},overrideDestinationUrl:Ve}),o={name:Be,type:he.wu.View,content:{headline:ze.container,type:he.uH.TopSites},action:he.Aw.View,overrideDestinationUrl:Ve};return{showOrHide:n,topSitePlaceHolderAddSite:r,topSiteCommon:new fe.D(o),saveAdd:e.addOrUpdateChild({name:`${Be}_${De}_${xe}`,behavior:he.wu.Save,content:{headline:ze.add,type:i},overrideDestinationUrl:Ve}),cancelAdd:e.addOrUpdateChild({name:`${Be}_${De}_${Ae}`,behavior:he.wu.Cancel,content:{headline:ze.cancel,type:i},overrideDestinationUrl:Ve}),closeAddDialog:e.addOrUpdateChild({name:`${Be}_${De}_${Ie}`,behavior:he.wu.Close,content:{headline:ze.close,type:i},overrideDestinationUrl:Ve})}})(this.telemetryObject,this.currentCollapsedState),this.topSiteActionTelemetryContext=(e=>{if(!e)return;const t=he.uH.TopSites;return{removeTopSite:e.addOrUpdateChild({name:`${Oe}`,behavior:he.wu.Remove,content:{headline:`${ze.remove} ${ze.tsn}`,type:t},overrideDestinationUrl:Ve}),undoRemoveTopSite:e.addOrUpdateChild({name:`${ke}_${Ee}`,behavior:he.wu.UndoRemove,content:{headline:`${ze.undoRemove} ${ze.tsn}`,type:t},overrideDestinationUrl:Ve}),closeRemoveToast:e.addOrUpdateChild({name:`${ke}_${Ie}`,behavior:he.wu.Close,content:{headline:ze.close,type:t},overrideDestinationUrl:Ve}),editDialog:e.addOrUpdateChild({name:`${Be}_${Pe}`,behavior:he.wu.Rename,content:{headline:`${ze.rename} ${ze.tsn}`,type:t},overrideDestinationUrl:Ve}),closeEditDialog:e.addOrUpdateChild({name:`${Be}_${Le}_${Ie}`,behavior:he.wu.Close,content:{headline:ze.close,type:t},overrideDestinationUrl:Ve}),saveEdit:e.addOrUpdateChild({name:`${Be}_${Le}_${xe}`,behavior:he.wu.Save,content:{headline:ze.save,type:t},overrideDestinationUrl:Ve}),cancelEdit:e.addOrUpdateChild({name:`${Be}_${Le}_${Ae}`,behavior:he.wu.Cancel,content:{headline:ze.cancel,type:t},overrideDestinationUrl:Ve}),turnOnPreview:e.addOrUpdateChild({name:`${Be}_${$e}`,behavior:he.wu.TurnOn,content:{headline:ze.turnOnPreview,type:t},overrideDestinationUrl:Ve}),turnOffPreview:e.addOrUpdateChild({name:`${Be}_${He}`,behavior:he.wu.TurnOff,content:{headline:ze.turnOffPreview,type:t},overrideDestinationUrl:Ve}),pinningTopSite:e.addOrUpdateChild({name:`${Be}_${Ue}`,behavior:he.wu.Pin,content:{headline:ze.topsiteTaskbarpin,type:t},overrideDestinationUrl:Ve}),pinningTopSiteInQuickLinks:e.addOrUpdateChild({name:`${Be}_${_e}`,behavior:he.wu.Pin,content:{headline:ze.pin,type:t},overrideDestinationUrl:Ve})}})(this.telemetryObject),this.quickLinkButtonTelemetryTag=this.topSitesTelemetryContext&&this.topSitesTelemetryContext.showOrHide&&this.topSitesTelemetryContext.showOrHide.getMetadataTag(),this.topSiteCommonTelemetryTag=this.topSitesTelemetryContext&&this.topSitesTelemetryContext.topSiteCommon&&this.topSitesTelemetryContext.topSiteCommon.getMetadataTag()}calculateTopSitesHolderWidth(){let e;return e=10==this.config.maxTiles?this.columnArrangement>=ae.K$.c3?10:5:this.columnArrangement>=ae.K$.c3?8:4,e*U}calculateCollapsibleButtonMarginString(){const e=this.calculateTopSitesHolderWidth(),t=Math.min(200,90+A-Math.round((document.documentElement.clientWidth-e)/2));return`${t<0?0:t}px`}setInformationalOnlyStyle(){this.chromiumPageSettingState&&"always"===this.chromiumPageSettingState.selectedFeedDisplaySetting&&this.currentCollapsedState?(this.collapsibleButtonMargin=this.calculateCollapsibleButtonMarginString(),this.informationalCollapsedStyle=`--quicklink-end-margin: ${this.collapsibleButtonMargin}; transform: ${this.config.enableQuickLinksPaddingReducedInform?"translateY(12px)":"translateY(30px)"};`):this.informationalCollapsedStyle=""}ShowPinningWizardCampaign(){new Promise(((e,t)=>{(0,Gt.N)()&&window&&window.chrome&&window.chrome.edgeNurturingPrivate&&"function"==typeof window.chrome.edgeNurturingPrivate.NotifyTriggerEvent&&window.chrome.edgeNurturingPrivate.NotifyTriggerEvent(window.chrome.edgeNurturingPrivate.NurturingTriggerEvents.NTP_TOP_SITES_CLICK,(t=>{e(t)}))})).then((e=>{e&&!e.success&&(0,b.H)(y.Qc1,"TopSitesEdgeNextWC: "+e.Message)})).catch((e=>{(0,b.OO)(e,y.Qc1,"TopSitesEdgeNextWC: Failed to call window.chrome.edgeNurturingPrivate.NotifyTriggerEvent chromium API")}))}reRenderTopsite(){const e=this.getCurrentLayoutConfig();this.config.maxTiles=e.tile,this.extraAddedSitesClassName=e.class,this.renderTopsite()}checkToRerenderTwentyTopsites(){if(this.extraAddedSitesClassName=Q.tenSites,this.config.maxTiles!=L)return this.config.maxTiles=L,!0}checkToRerenderSixteenTopsites(){if(this.extraAddedSitesClassName=this.userSelectedSetting===ue.Z3.tworows&&this.columnArrangement>="c3"?null:Q.tenSites,this.config.maxTiles!=M)return this.config.maxTiles=M,!0}checkToRerenderTenTopsites(){if(this.extraAddedSitesClassName=this.userSelectedSetting===ue.Z3.tworows&&this.columnArrangement>="c4"?null:Q.tenSites,this.config.maxTiles!=D)return this.config.maxTiles=D,!0}checkToRerenderEightTopsites(){if(this.extraAddedSitesClassName=Q.eightSites,this.config.maxTiles!=x)return this.config.maxTiles=x,!0}renderTopsite(){window.requestAnimationFrame((()=>{setTimeout((()=>{this.getOrUpdateTopSites()}),0)}))}zeroTopSitesErrorHandler(){pe.M.sendAppErrorEvent(Object.assign(Object.assign({},y.C6c.ZeroTopSitesError),{message:"Zero top sites returned"}))}initializeDragDropService(){this.dragDropService=new xt(this,{container:this.topSitesContainerPromise}),this.dragDropService.initializeService()}shouldDropTopSite(e){const t=this.config.blockedDomains||this.config.blockedDomainsCF;if(t){const i=0==e.url.indexOf("http://")?e.url.replace("http://","https://"):e.url;for(let e=0;e<t.length;e++){const n=t[e];if(i.startsWith(n.url)&&(!n.exclusions||!n.exclusions.find((e=>i.includes(e)))))return!0}}return!1}}(0,g.gn)([nt.LO],ti.prototype,"actionButtonLabelClassName",void 0),(0,g.gn)([nt.LO],ti.prototype,"actionButtonSvgClassName",void 0),(0,g.gn)([nt.LO],ti.prototype,"actionsMenuProps",void 0),(0,g.gn)([nt.LO],ti.prototype,"activeTopSiteItem",void 0),(0,g.gn)([nt.LO],ti.prototype,"activeTopSiteElement",void 0),(0,g.gn)([nt.LO],ti.prototype,"activeTopSitePlaceholderElement",void 0),(0,g.gn)([nt.LO],ti.prototype,"activeContextMenuButtonElement",void 0),(0,g.gn)([nt.LO],ti.prototype,"className",void 0),(0,g.gn)([nt.LO],ti.prototype,"extraAddedSitesClassName",void 0),(0,g.gn)([nt.LO],ti.prototype,"collapsibleButtonMargin",void 0),(0,g.gn)([nt.LO],ti.prototype,"currentCollapsedState",void 0),(0,g.gn)([nt.LO],ti.prototype,"currentTilesNumber",void 0),(0,g.gn)([nt.LO],ti.prototype,"isAddDialogOpen",void 0),(0,g.gn)([nt.LO],ti.prototype,"isActionMenuOpen",void 0),(0,g.gn)([nt.LO],ti.prototype,"isEditDialogOpen",void 0),(0,g.gn)([nt.LO],ti.prototype,"isUndoToastOpen",void 0),(0,g.gn)([nt.LO],ti.prototype,"isPinToastOpen",void 0),(0,g.gn)([nt.LO],ti.prototype,"isLtr",void 0),(0,g.gn)([nt.LO],ti.prototype,"informationalCollapsedStyle",void 0),(0,g.gn)([nt.LO],ti.prototype,"ntpApiHandle",void 0),(0,g.gn)([nt.LO],ti.prototype,"quickLinkButtonTelemetryTag",void 0),(0,g.gn)([nt.LO],ti.prototype,"sitesClassName",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSiteAddDialog",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSiteEditDialog",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSiteMapper",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSites",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSitesPlaceHolders",void 0),(0,g.gn)([nt.LO],ti.prototype,"undoToast",void 0),(0,g.gn)([nt.LO],ti.prototype,"pinToast",void 0),(0,g.gn)([nt.LO],ti.prototype,"selectedQuickLinksDisplaySetting",void 0),(0,g.gn)([nt.lk],ti.prototype,"quickLinkButtonAriaLabel",null),(0,g.gn)([nt.LO],ti.prototype,"showCollapsibleControl",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSiteAddDialogContainerPosition",void 0),(0,g.gn)([nt.LO],ti.prototype,"topSiteEditDialogContainerPosition",void 0);var ii=i(97164),ni=i(52708),ri=i(8994),oi=i(70783),si=i(76298),ai=i(67845);const ci=si.i`
    .action-button {
        left: auto;
        right: 0;
    }
`,di=si.i`
    .action-button {
        left: 0;
        right: auto;
    }
`,li=si.i`
    :host {
        width: 100%;
        --menu-max-width: 160px;
        --menu-min-width: 160px;
        --top-site-dialog-z-index: 900;
    }

    .root {
        display: flex;
        background-color: transparent;
        flex-direction: row;
        justify-content: center;
        position: relative;
        transition: transform .3s ease-out;
        z-index: 301;
        --top-site-margin: 4px;
        --outline-width: 2;
    }

    .collapsed-sites {
        opacity: 0;
        visibility: hidden;
        height: 0;
    }

    .collapsed-svg {
        transform: rotate(0deg);
    }

    .collapsed-label {
        opacity: 1;
        visibility: inherit;
    }

    .expanded-sites {
        opacity: 1;
        visibility: inherit;
    }

    .expanded-svg {
        transform: rotate(-180deg);
    }

    .expanded-label {
        opacity: 0;
        visibility: hidden;
    }

    .action-button {
        background: none;
        cursor: pointer;
        display: block;
        height: 36px;
        position: absolute;
        padding: 0;
        top: -44px;
        visibility: inherit;
        font-family: inherit;
        line-height: 1;
        box-sizing: border-box;
        max-width: 374px;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        text-decoration: none;
        white-space: nowrap;
        font-size: ${ri.cSu};
        border: 2px solid transparent;
        border-radius: 2px;
        min-width: 32px;
        margin-inline-end: var(--quicklink-end-margin, auto);
    }

    .action-button label {
        background: none;
        border: none;
        display: inline;
        height: auto;
        pointer-events: none;
        position: relative;
        text-decoration: none;
        top: -10px;
        transition: opacity .3s ease-out;
        visibility: inherit;
        margin-inline-start: 16px;
        margin-inline-end: 16px;
        padding: 0;
        font-size: 14px;
        line-height: 20px;
        color: var(--top-site-color, ${ri.CHi});
    }

    .action-button label.expanded-label {
        display: none;
    }

    .action-button svg {
        height: 32px;
        width: 32px;
        fill: ${ri.jql};
    }

    .action-button-rmbp svg {
        fill: none;
    }

    .action-button path {
        fill: var(--top-site-color, ${ri.CHi});
    }

    .action-button:focus {
        outline: none;
    }

    .action-button:${ai.b} {
        border: calc(var(--outline-width) * 1px) solid ${ri.F7z};
    }

    .action-button svg:focus {
        border: none;
        fill: ${ri.sG3};
        outline: none;
    }

    .action-button svg:hover {
        fill: ${ri.QpD}
    }

    .add-button {
        width: 100%;
        height: 100%;
    }

    .add-dialog-show {
        display: block;
    }

    .add-dialog-hide {
        display: none;
    }

    .sites {
        display: grid;
        grid-template-columns: repeat(var(--top-sites-grid-template-column, 8), auto);
        transition: opacity 0.3s ease-out;
        row-gap: 8px;
        overflow: hidden;
    }

    .sites .start-button,
    .sites .end-button {
        width: 24px;
        height: 24px;
        min-width: 24px;
        display: flex;
        justify-content: center;
    }

    .sites .start-button:hover,
    .sites .end-button:hover {
        background: var(--top-site-action-icon-hover, ${ri.QpD});
    }

    .sites .option-icon {
        width: 14px;
        height: 14px;
    }

    .sites path {
        fill: var(--top-site-color, ${ri.CHi});
    }

    @media screen and (-ms-high-contrast: active) {
        .sites path {
            fill: currentColor;
        }
    }

    .sites fluent-button {
        background: transparent;
    }

    .suggestion-title {
        font-weight: 600;
        font-size: ${ri.cSu};
        line-height: 20px;
    }

    .suggestion-body {
        margin-top: 16px;
        display: flex;
    }

    .suggestion-body msft-top-site {
        transition: all 0.2s ease-in-out;
        border-radius: 4px;
        background: ${ri.s55};
        box-shadow: 0px 1.6px 3.6px rgb(0 0 0 / 13%), 0px 0px 2.9px rgb(0 0 0 / 11%);
    }

    .suggestion-body msft-top-site:hover {
        box-shadow: 0px 3.2px 7.2px rgb(0 0 0 / 13%), 0px 0px 3.8px rgb(0 0 0 / 11%);
    }

    .toast-root {
        position: absolute;
        left: 50%;
        transform: translate(-50%, 0);
        width: fit-content;
        max-width: 95%;
        z-index: 700;
        --fill-color: ${(()=>{const e=(0,ii.$B)((()=>ce.m0))(ni.ZP);return(0,ce.Yc)()?ce.P5:e})()};
        --neutral-foreground-rest: ${(()=>{const e=(0,ii.$B)((()=>ce.m0))(ni.ZP);return(0,ce.Yc)()?e:ce.P5})()};
        --accent-foreground-rest: ${(0,ce.Yc)()?"#006CBE":"#63ADE5"};
        --toast-message-max-width: 287px;
    }
    
    msn-toast::part(toast-root){
        color: ${ri.CHi};
        background: ${ri.IfY};
    }

    .toast-close-button {
        background: transparent;
    }
    
    .toast-navigation-button {
        margin-inline-start: 4px;
        background: transparent;
        color: ${ri.goi};
    }

    .top-sites {
        position: relative;
    }

    .topSitesLightOnBackgroundImage {
        --top-site-fill-hover: rgba(229, 229, 229, 0.3);
        --top-site-color: #FFFFFF;
        --top-site-action-icon-hover: rgba(234, 234, 234, 0.42);
        --top-site-placeholder-backplate-fill: rgba(229, 229, 229, 0.7);
    }

    .topSitesDarkOnBackgroundImage {
        --top-site-fill-hover: rgba(66, 66, 66, 0.4);
        --top-site-color: #FFFFFF;
        --top-site-action-icon-hover: rgba(36, 36, 36, 0.42);
    }

    .topSitesDark {
        --top-site-fill-hover: rgba(0, 0, 0, 0.3);
        --top-site-color: #FFFFFF;
        --top-site-placeholder-backplate-fill: transparent;
    }

    .topSitesLight {
        --top-site-fill-hover: rgba(229, 229, 229, 0.3);
        --top-site-color: rgba(0, 0, 0, 0.83);
        --top-site-placeholder-backplate-fill: transparent;
    }

    .with-back-plate path {
        fill: ${ri.CHi};
    }

    msft-top-site.drag-chosen {
        background: var(--top-site-fill-hover, var(--neutral-fill-hover));
    }

    msft-top-site.drag-chosen__no-hover {
        background: transparent !important;
    }

    msft-top-site.drag-dragged {
        background: transparent;
    }

    msft-top-site.small-top-sites {
        height: 80px;
        width: 104px;
    }

    msft-top-site.small-top-sites-two-lines {
        height: 95px;
        width: 104px;
    }

    msft-top-site::part(image) {
        background: ${ri.s55};
        border-radius: 4px;
    }

    msft-top-site::part(imageMSB) {
        background: #0078D4;
        border-radius: 4px;
    }

    msft-top-site.pill-top-site::part(image) {
        border-radius: 12px;
    }

    msft-top-site.pill-top-site::part(imageMSB) {
        border-radius: 12px;
    }

    msft-top-site.pill-top-site fluent-button {
        border-radius: 4px;
    }

    msft-top-site.pill-top-site {
        border-radius: 6px;
    }

    msft-top-site fluent-button::part(control) {
        padding: 0;
        margin: 0;
    }

    msft-top-site .top-site-title {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    msft-top-site .two-line-top-site-title {
        display: -webkit-box;
        justify-content: center;
        align-items: center;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        overflow-wrap: break-word;
    }

    msft-top-site .top-site-title a {
        overflow: hidden;
        text-overflow: ellipsis;
    }

    msft-top-site .two-line-top-site-title a {
        overflow: hidden;
        text-overflow: ellipsis;
    }

    msft-top-site .badge {
        padding: 1px 5px;
        border-radius: 12px;
        flex: none;
        min-width: 16px;
        background-color: #EDEDED;
        color: #0078D4;
        margin: 0 0 0 4px;
        font-size: 10px;
        line-height: 13px;
        height: 16px;
        font-weight: 400;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        box-sizing: border-box;
        max-width: 215px;
        transition: all 0.2s ease-in-out;
    } 

    msft-top-site-placeholder {
        height: 88px;
    }

    msft-top-site-placeholder.small-top-sites {
        height: 84px;
    }

    @media (max-width: 1097px) {
        :host {
            --top-sites-grid-template-column: 4;
        }

        .ten-sites {
            --top-sites-grid-template-column: 5;
        }

        .eight-sites {
            --top-sites-grid-template-column: 8;
        }

        .six-sites {
            --top-sites-grid-template-column: 3;
        }
    }

    @media (min-width: 1098px) {
        :host {
            --top-sites-grid-template-column: 8;
        }

        .ten-sites {
            --top-sites-grid-template-column: 10;
        }

        .expanded-sites {
            min-height: 90px;
        }
    }
`.withBehaviors(new oi.O(ci,di)),ui={experienceConfigSchema:u};(0,n.z)().withShadowRootMode("closed").withElementDisambiguation((()=>o.h.ignoreDuplicate)).register((0,r.hb)())},68723:function(e,t,i){"use strict";i.d(t,{Ai:function(){return a},F8:function(){return c},GL:function(){return s},mC:function(){return o},pX:function(){return r}});var n=i(53578);const r={clientId:n.I4,scopeOrResource:"https://enterprisenews.microsoft.com",friendlyName:n.Ak},o="https://ent-api.msn.com/news/companies/current/settings",s="Peregrine",a="AdminPortalSettings",c="AdminPortalUserLayoutCache"},87:function(e,t,i){"use strict";var n;i.d(t,{y:function(){return n}}),function(e){e.Success="authCacheSuccess",e.CacheMissing="authCacheMissing",e.CacheExpired="authCacheExpired",e.OtherCacheError="authCacheError"}(n||(n={}))},49982:function(e,t,i){"use strict";i.d(t,{y:function(){return o}});var n=i(33940),r=i(87);class o{constructor(){this.AuthDataMap={}}getAuthDataFromCache(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.id))return{status:r.y.OtherCacheError,error:{message:"inMemoryAuthCacheStrategy Resource Id is missing"}};const t=Math.round(performance.now()),i=this.AuthDataMap[e.id],n=Math.round(performance.now());return i?this.isJwtTokenExpired(i.authToken)?{status:r.y.CacheExpired,performance:{startTime:t,endTime:n}}:Object.assign(Object.assign({},this.AuthDataMap[e.id]),{status:r.y.Success,performance:{startTime:t,endTime:n}}):{status:r.y.CacheMissing,performance:{startTime:t,endTime:n}}}))}setAuthDataToCache(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.id))return{status:r.y.OtherCacheError,error:{message:"setAuthDataToCache Resource Id is missing"}};const{authToken:i}=t,n=Math.round(performance.now());this.AuthDataMap[e.id]={authToken:i};const o=Math.round(performance.now());return{status:r.y.Success,performance:{startTime:n,endTime:o}}}))}removeAuthDataFromCache(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.id))return{status:r.y.OtherCacheError,error:{message:"removeAuthDataFromCache Resource Id is missing"}};const t=Math.round(performance.now());delete this.AuthDataMap[e.id];const i=Math.round(performance.now());return{status:r.y.Success,performance:{startTime:t,endTime:i}}}))}isJwtTokenExpired(e){if(!e)return;let t;try{t=JSON.parse(atob(e.split(".")[1]))}catch(e){return}return(null==t?void 0:t.exp)?1e3*t.exp<Date.now():void 0}}},9332:function(e,t,i){"use strict";i.d(t,{o:function(){return o}});var n=i(33940),r=i(87);class o{getAuthDataFromCache(){return(0,n.mG)(this,void 0,void 0,(function*(){return{status:r.y.CacheMissing}}))}setAuthDataToCache(){return(0,n.mG)(this,void 0,void 0,(function*(){return{status:r.y.Success}}))}removeAuthDataFromCache(){return(0,n.mG)(this,void 0,void 0,(function*(){return{status:r.y.Success}}))}}},29803:function(e,t,i){"use strict";var n;i.d(t,{I:function(){return n}}),function(e){e.Success="authFetchSuccess",e.InteractionRequired="userInteractionRequired",e.MaySucceedOnRetry="fetchRetryableError",e.OtherError="authFetchError"}(n||(n={}))},83490:function(e,t,i){"use strict";i.d(t,{w:function(){return o}});var n=i(33940),r=i(29803);const o=(e,t=3,i=1e3)=>(t<0&&(t=0),{fetchAuthData:(o,a)=>(0,n.mG)(void 0,void 0,void 0,(function*(){let n={status:r.I.OtherError};a&&(t=0);for(let c=0;c<t+1&&(n=yield e.fetchAuthData(o,a),(null==n?void 0:n.status)===r.I.MaySucceedOnRetry);c++)yield s(i);return n}))}),s=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){return new Promise((function(t){setTimeout(t,e)}))}))},25777:function(e,t,i){"use strict";i.d(t,{a:function(){return a}});var n,r=i(33940),o=i(29803),s=i(59294);!function(e){e[e.kNoError=0]="kNoError",e[e.kTokenFetchUserInteractionRequired=13]="kTokenFetchUserInteractionRequired",e[e.kTokenFetchProviderError=15]="kTokenFetchProviderError",e[e.kInteractionRequired=24]="kInteractionRequired",e[e.kUnsupportedSovereignty=60]="kUnsupportedSovereignty",e[e.kSovereigntyDetectionFailed=61]="kSovereigntyDetectionFailed"}(n||(n={}));class a{constructor(e){if(this.authCallerValidator=e,!e)throw new Error("Auth Caller Validator is not provided in EdgeChromiumFetchStrategy")}fetchAuthData(e,t=!1){return(0,r.mG)(this,void 0,void 0,(function*(){const i=yield this.authCallerValidator.validateAuthCaller(),{account:a,client:c}=i,d=(0,r._T)(i,["account","client"]);if(!a||!c)return d;if(!(null==e?void 0:e.id))return{status:o.I.OtherError,error:{message:"Resource Id not provided."}};const l=t?window.chrome.authPrivate.acquireAccessTokenWithUserInteraction:window.chrome.authPrivate.acquireAccessTokenSilently,u=new s.o,g={account_id:a.account_id,account_type:a.account_type,client_id:c.id,scope_or_resource:e.id},p=Math.round(performance.now());let h=-1;l(g,(e=>{u.set(e),h=Math.round(performance.now())}));const f=yield u.getResultAsync(),{access_token:m,is_success:v,error_info:b,is_token_valid:y}=f||{};if(v&&y)return{authToken:m,status:o.I.Success,callerId:d.callerId,performance:{startTime:p,endTime:h}};let C=o.I.OtherError,S=(null==b?void 0:b.error_string)||"Unknown Error";return v&&!y?(C=o.I.MaySucceedOnRetry,S="Invalid Auth Token returned"):(null==b?void 0:b.secondary_error)===n.kTokenFetchUserInteractionRequired||(null==b?void 0:b.secondary_error)===n.kInteractionRequired?(C=o.I.InteractionRequired,S="User interaction Required"):this.isRetryableError(b)&&(C=o.I.MaySucceedOnRetry,S="Retryable fetch error"),{error:{message:S,internalError:b},callerId:d.callerId,status:C,performance:{startTime:p,endTime:h}}}))}isRetryableError(e){if(!(null==e?void 0:e.platform_error_code))return!1;const t=(e.platform_error_code>>>0).toString(16).toUpperCase();return void 0!==["CAA3","CAA7","CAA8","CAAD"].find((e=>t.startsWith(e)))||!!["CAA20005","CAA20008","CAA10001"].includes(t)}}},75270:function(e,t,i){"use strict";i.d(t,{BV:function(){return c},U:function(){return s},qu:function(){return d}});var n=i(33940),r=i(87),o=i(29803);class s{constructor(e,t,i=(()=>{})){if(this.authDataFetchStrategy=e,this.authDataCacheStrategy=t,this.logAuthEvent=i,!e)throw new Error("Fetch Strategy is not provided in ModularAuthManager");if(!t)throw new Error("Cache Strategy is not provided in ModularAuthManager")}getAuthData(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=yield this.authDataCacheStrategy.getAuthDataFromCache(e);return this.logAuthEvent(i,e,t),(null==i?void 0:i.status)===r.y.Success?i:this.establishSignedInState(e,t)}))}establishSignedInState(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=yield this.authDataFetchStrategy.fetchAuthData(e,t);return this.logAuthEvent(i,e,t),(null==i?void 0:i.status)!==o.I.Success||this.authDataCacheStrategy.setAuthDataToCache(e,i).then((i=>{this.logAuthEvent(i,e,t)})),i}))}}let a={getAuthData:()=>(0,n.mG)(void 0,void 0,void 0,(function*(){return{status:o.I.OtherError,error:{message:"Auth manager is not initialized"}}})),establishSignedInState:()=>(0,n.mG)(void 0,void 0,void 0,(function*(){return{status:o.I.OtherError,error:{message:"Auth manager is not initialized"}}}))};function c(e){a=e}function d(){return a}},67267:function(e,t,i){"use strict";i.d(t,{W:function(){return a}});var n=i(33940),r=i(66213),o=i(38601),s=i(33799);class a{constructor(e){if(this.authCallerGetter=e,!e)throw new Error("Auth Caller Getter is not provided in AadEdgeChromiumAuthCallerValidator")}validateAuthCaller(){return(0,n.mG)(this,void 0,void 0,(function*(){const{authCallerGetter:e}=this,{account:t,client:i}=(yield e())||{};return t?t.account_type===s.Qm.UNSUPPORTED_SOVEREIGNTY?{status:o._.UnsupportedSovereignty,callerId:t.tenant_id,error:{message:"Edge unsupported sovereignty"}}:t.account_type!==s.Qm.AAD?{status:o._.OtherValidationError,callerId:t.tenant_id,error:{message:"Not valid AAD account."}}:(null==i?void 0:i.id)?(0,r.Yq)().IsChinaCompliance?{status:o._.CnDomain,callerId:t.tenant_id,error:{message:"CN domain unsupported"}}:{status:o._.Success,client:i,account:t,callerId:t.tenant_id}:{status:o._.OtherValidationError,callerId:t.tenant_id,error:{message:"Client Id not provided."}}:{status:o._.AccountInfoUnavailable,error:{message:"Account info not available"}}}))}}},38601:function(e,t,i){"use strict";var n;i.d(t,{_:function(){return n}}),function(e){e.Success="validationSuccess",e.AccountInfoUnavailable="accountInfoUnavailable",e.UnsupportedSovereignty="unsupportedSovereignty",e.CnDomain="cnDomainUnsupported",e.OtherValidationError="otherValidationError"}(n||(n={}))},21952:function(e,t,i){"use strict";i.d(t,{oc:function(){return c}});var n=i(26415),r=i(22704),o=i(65135),s=i(38601),a=i(29803);const c=(e,t,i)=>{((e,t,i)=>{var r;if(!e||!o.M)return;let c,d,l=!1;switch(e.status){case a.I.Success:d="Access token fetch was successful",c=n.BBg,l=!0;break;case a.I.InteractionRequired:case s._.CnDomain:case s._.UnsupportedSovereignty:case s._.AccountInfoUnavailable:c=n.N1G;break;case s._.OtherValidationError:case a.I.OtherError:c=n.etM;break;default:return}const u=Object.assign(Object.assign({},e.error),{authPrivateApi:i?"acquireAccessTokenWithUserInteraction":"acquireAccessTokenSilently",resource:null==t?void 0:t.friendlyName}),g={id:e.callerId||"",status:l,name:(null==t?void 0:t.friendlyName)||"",info:Object.assign(Object.assign({},c),{message:d||(null===(r=e.error)||void 0===r?void 0:r.message),pb:Object.assign(Object.assign({},c.pb),{customMessage:JSON.stringify(u)})})};o.M.sendAuthEvent(g)})(e,t,i),((e,t,i)=>{var r;if(!e||!o.M)return;let c;switch(e.status){case a.I.InteractionRequired:case s._.AccountInfoUnavailable:c=n.N1G;break;case s._.OtherValidationError:case a.I.OtherError:c=n.etM;break;default:return}const d=Object.assign(Object.assign({},e.error),{authPrivateApi:i?"acquireAccessTokenWithUserInteraction":"acquireAccessTokenSilently",resource:null==t?void 0:t.friendlyName});o.M.sendAppErrorEvent(Object.assign(Object.assign({},c),{message:null===(r=e.error)||void 0===r?void 0:r.message,pb:Object.assign(Object.assign({},c.pb),{customMessage:JSON.stringify(d)})}))})(e,t,i),(e=>{var t,i;if(!e)return;const n=`Auth.AcquireAccessToken.${e.callerId}`,o=`${n}.Start`,s=`${n}.End`,{startTime:a,endTime:c}=e.performance||{},d=(0,r.Ou)();d&&(d[o]=(null===(t=e.performance)||void 0===t?void 0:t.startTime)||-1,d[s]=(null===(i=e.performance)||void 0===i?void 0:i.endTime)||-1,d[n]=c&&a?c-a:-1)})(e)}},99347:function(e,t,i){"use strict";i.d(t,{$q:function(){return d},GL:function(){return l},I0:function(){return r},VT:function(){return s},Vu:function(){return o},Yc:function(){return c},m2:function(){return a},nW:function(){return n}});const n="at",r="at-bing",o="lt",s="sign-in-active",a="initial-page-nav",c="sign-in-pending",d="sign-in-refreshed-page",l="Peregrine"},42821:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(76323),r=i(21050);const o=(0,n.p)((()=>(0,r.oA)("auth","auth")))},98533:function(e,t,i){"use strict";i.d(t,{Gy:function(){return E},aH:function(){return C},cu:function(){return b},ks:function(){return y}});var n=i(33940),r=i(83097),o=i(12108),s=i(26415),a=i(2040),c=i(46336),d=i(66213),l=i(93853),u=i(65337),g=i(99347),p=i(9344),h=i(65135),f=i(77162),m=i(87538);function v(){T(),k()}function b(e=null){const t=decodeURIComponent((0,p.ej)(r.IR.AppAnonCookieExists)),i=(0,p.ej)(a.nM),{child:n}=t&&(0,c.dW)(t)||{};if(t&&(1===n||i)){const t=d.jG.CurrentRequestTargetScope;t&&t.audienceMode!==o.F.Kids&&(e&&e(),(0,m.Z)())}}function y(e,t=null,i=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const n=(0,p.ej)(a.m$);if(i){if(n)return S(),void(yield A(t,!1,!0));(0,p.ej)(g.Vu)?yield A(t,!0,!1):yield A(t,!1,!1)}else if(e){if((0,p.sq)(g.nW,e,1,"msn.com","/",!0),!n)return void(yield A(t,!0,!1));v()}else{if(S(),n)return void(yield A(t,!1,!0));v()}}))}function C(){if(l.y7.getItem(g.Yc))return T(),void O();I()?x(g.$q):O(),x(g.Yc)}function S(){(0,p.sq)(g.nW,"",-1,"msn.com","/",!0),(0,p.sq)(g.Vu,"",-1,"msn.com","/",!0),(0,u.$o)().removeItem(g.I0)}function w(e){l.y7.removeItem(e)}function T(){w(g.VT)}function k(){w(g.Yc)}function O(){w(g.$q)}function E(){const e=parseInt(l.y7.getItem(g.m2));return w(g.m2),Number.isInteger(e)?e:0}function I(){return!!l.y7.getItem(g.VT)}function A(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){if(t!==i&&(yield(0,f.FI)()),I())return h.M.sendAppErrorEvent(Object.assign(Object.assign({},s.MCu.AuthRefreshBlockedError),{message:`Auth refresh blocked. TokenExists: ${t}, CookieExists: ${i}.`})),void v();l.y7.supported?(k(),P(),function(){const e=Date.now()-Math.round(window.performance.now());x(g.m2,e.toString())}(),h.M.sendAppErrorEvent(s.XD),h.M.sendAppErrorEvent(Object.assign(Object.assign({},s.MCu.EstablishSignedInState),{message:`Sign In Refresh Required. TokenExists: ${t}, CookieExists: ${i}.`})),e&&e(),(0,m.Z)()):v()}))}function P(){x(g.VT)}function x(e,t="1"){l.y7.setItem(e,t)}},51671:function(e,t,i){"use strict";i.d(t,{KW:function(){return p},XJ:function(){return f},hC:function(){return h},rr:function(){return m}});var n=i(33940),r=i(53076),o=i(33799),s=i(54804),a=i(90846),c=i(93450),d=i(42821);let l,u;function g(){u=new Promise((e=>{l=e}))}function p(){l()}function h(){const e=(0,s.nP)().UserIsSignedIn;if(null!=e)return e;const t=c._.getInstance().rootReducer.connector(r.z.SharedState);return(t?t.getCurrentState().signedIn:o.Hy.NotSignedIn)===o.Hy.SignedIn}function f(){return v("getUserSignInState",(0,a.t0)())}function m(){return v("waitForSignInState",!0)}function v(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i=(0,s.nP)().UserIsSignedIn;if(null!=i)return i?o.Hy.SignedIn:o.Hy.NotSignedIn;const n=(0,d.Z)(),a=n&&n.startMeasure(e).endMeasure;t&&(yield u);const l=c._.getInstance().rootReducer.connector(r.z.SharedState),g=l?l.getCurrentState().signedIn:o.Hy.NotSignedIn;return a&&a(),g}))}g()},10495:function(e,t,i){"use strict";i.d(t,{Jz:function(){return M},OE:function(){return x},vr:function(){return P}});var n=i(33940),r=i(33799),o=i(83097),s=i(53076),a=i(33954),c=i(19388),d=i(26415),l=i(68364),u=i(52144),g=i(9344),p=i(41710),h=i(53430),f=i(90846),m=i(66213),v=i(52794),b=i(79095),y=i(72344),C=i(93450),S=i(59294),w=i(51671),T=i(65135),k=i(3072),O=i(99347),E=i(9791),I=i(42821);const A=(0,E.Z)((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=(0,I.Z)(),t=e&&e.startMeasure("initiateSSOCore").endMeasure,i=(0,f.G5)(),n=i?"MSAL":"RPS";a.k.log(`dual-auth: initiateSSOCore: Starting ${n} auth flow`);const o=i?yield(0,v.pd)():yield function(){if(u.A.get(u.U.CookieConsentStatus)!==y._.NotRequired)return Promise.resolve(null);const e=function(){const e=m.jG.CurrentMarket;let t=window.location.hostname;const i=window.location.origin;(t.toLowerCase().includes("localhost")||t.toLowerCase().includes("windows.msn.com")||t.toLowerCase().includes("ntp.msn.com"))&&(t="www.msn.com");const n=m.jG.UseOneServiceAnonAuthEndpoints?encodeURIComponent(`https://api.msn.com/auth/cookie/silentpassport?apikey=${m.jG.OneServiceApiKey}&ocid=${O.GL}&pwo=${encodeURIComponent(i)}&secure=true`):encodeURIComponent(`https://${t}/${e}/homepage/secure/silentpassport?secure=true`),r=m.jG.UseOneServiceAnonAuthEndpoints?"MBI_SSL":"lbi";return`https://login.live.com/login.srf?wa=wsignin1.0&checkda=1&wp=${r}&mkt=${e}&wreply=${n}`}(),t=window.document.createElement("IFRAME");let i,n;t.id="sso_frame",t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.display="none",t.src=e,window.document.body.appendChild(t);const o=new S.o,s=e=>{const l=e.data;a.k.log("dual-auth: Received ssoData from RPS auth flow: "+JSON.stringify(l,null,4)),l&&l.ssoStatus&&(l.accountType=r.Qm.MSA,n.call(window,i,s),window.document.body.removeChild(t),(0,f.jC)()&&Promise.all([(0,c.b1)(),(0,c.e3)()]).then((()=>{const e=l.ssoStatus==h.y&&l.memberName||void 0;(0,b.GQ)(e).then((t=>{e&&!t&&T.M.sendAppErrorEvent(Object.assign(Object.assign({},d.MCu.MsalSSOSilentRpsToMsal),{message:"ssoSilent failed when transitioning from RPS to MSAL auth flow"}))}))})),o.set(l))};window.addEventListener?(i="message",window.addEventListener(i,s,!1),n=window.removeEventListener):(i="onmessage",window.attachEvent(i,s),n=window.detachEvent);return o.getResultAsync()}(),s=(0,v.T3)(o)?"Success":"Fail";return(0,k.O)("initiateSSO",`initiateSSOCore: ${s} - SSO data from the ${n} auth flow`),t&&t(`${n}-${s}`),o}))));function P(e=x){return(0,n.mG)(this,void 0,void 0,(function*(){const t=yield A();if(e){const i=M(t);e(i)}return t}))}function x(e){const t=C._.getInstance().rootReducer.connector(s.z.SharedState);if(t){t.getCurrentState().signedIn!==e?p.s.signedInStatus.getActionSender(t).send(e):p.s.signedInStatusConfirmed.getActionSender(t).send(),(0,w.KW)(),function(e){if((0,f.P8)())return;const t=o.IR.AnonCookieExists,i=(0,g.ej)(t);e!==r.Hy.SignedIn||i?e===r.Hy.NotSignedIn&&i&&(0,l.H)(d.MCu.SignInStatusCookieMismatch,`Non signed in user still has ${t} cookie`):(0,l.H)(d.MCu.SignInStatusCookieMismatch,`Signed in user missing ${t} cookie`)}(e)}}function M(e){return(0,v.T3)(e)?r.Hy.SignedIn:r.Hy.NotSignedIn}},53430:function(e,t,i){"use strict";i.d(t,{y:function(){return n}});const n="sso_completed"},77162:function(e,t,i){"use strict";i.d(t,{B0:function(){return k},B9:function(){return O},FA:function(){return S},FI:function(){return w}});var n=i(33940),r=i(33799),o=i(53076),s=i(41710),a=i(66213),c=i(23401),d=i(94788),l=i(90846),u=i(54804),g=i(2040),p=i(51671),h=i(79095),f=i(93450),m=i(65135),v=i(99347),b=i(9344),y=i(13578),C=i(42821);function S(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){if(a.jG.CurrentMarket===c.I.ZHCN&&a.jG.HostPage.hostName.includes(".msn.cn"))return;const n=(0,C.Z)(),r=n&&n.startMeasure("updateAuthState").endMeasure;try{if(!i&&d.yb)if((0,l.G5)())yield(0,h.GQ)(),yield T(t,!1);else{const e=yield(0,d.ot)({id:"appanoncookie"}),i=e&&e.payload&&e.payload.appAnonCookieExists;yield T(t,i)}else yield w(),yield T(t)}catch(t){yield T(),e(t)}r&&r()}))}function w(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if((0,l.G5)())yield(0,h.GQ)();else if(a.jG.UseOneServiceAuthEndpoints){const i=new URL("https://api.msn.com/auth/cookie/appanon"),n={credentials:"include"};e?n.headers=e:i.searchParams.set("scn","app_anon"),i.searchParams.set("apikey",a.jG.OneServiceApiKey),i.searchParams.set("ocid",t||v.GL),yield fetch(i.href,n)}else{const e=(0,a.Yq)().HostPage,t=e&&e.hostName,i="int1.msn.com"===t||"int.msn.com"===t?t:"www.msn.com",n=(0,u.nP)().Locale;yield fetch(`https://${i}/spartan/${n}/getappanoncookie`,{credentials:"include"})}}))}function T(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){let i=!1;const n=(0,C.Z)(),a=n&&n.startMeasure("handleSignInStateUpdateAsync").endMeasure;if((0,l.G5)()){const{accessToken:e,idToken:t}=((0,l.hk)()?yield(0,h.IY)():(0,l.aS)())||{},n=(0,l.me)(e,t);(0,y.Z)(n)||(i=!0,(0,d.mS)({id:"AuthHeaders",type:"command",payload:n}))}else i=null!=(0,b.ej)(g.m$);const c=i?r.Hy.SignedIn:r.Hy.NotSignedIn;!1===t&&c===r.Hy.SignedIn&&((0,d.mS)({id:"updatemyfeed"}),(0,d.mS)({id:"updatepdp"}),(0,d.mS)({id:"UpdateMyBriefing"}));const u=f._.getInstance().rootReducer.connector(o.z.SharedState);u.getCurrentState().signedIn!==c&&s.s.signedInStatus.getActionSender(u).send(c),(0,p.KW)(),void 0!==e&&e!==c&&m.M.addOrUpdateTmplProperty("signInUpdate","1"),a&&a()}))}function k(){return(0,l.G5)()?(0,h.xQ)()===r.Qm.MSA:(0,p.hC)()}function O(){return(0,l.G5)()&&(0,p.hC)()&&(0,h.xQ)()===r.Qm.AAD}},62264:function(e,t,i){"use strict";i.d(t,{B:function(){return h}});var n=i(33940),r=i(7009),o=i(99347),s=i(65337),a=i(54804),c=i(9344),d=i(98533),l=i(26415),u=i(65135),g=i(33379);const p="f3222e55-ab35-49de-81f3-88a3be08cf77";function h(e,t,i=!1,h=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const h=window.chrome,m=h&&h.authPrivate,v=e&&e.accountType===r.l7.MSA;if(!m||!v)return yield(0,d.ks)(null,null,i),void(0,s.$o)().removeItem(o.I0);(0,g.N)()&&a.Al.IsPrerender&&"visible"!==document.visibilityState||(0,d.aH)();const b={account_id:e.accountId,account_type:e.accountType,client_id:t||p,scope_or_resource:"service::www.msn.com::mbi_ssl"},y=yield f(b);if(y&&!y.is_success&&y.error_info&&0==y.error_info.primary_error&&0==y.error_info.platform_error_code&&""!=y.error_string&&!(null===(S=null===a.Al||void 0===a.Al?void 0:a.Al.CurrentFlightSet)||void 0===S?void 0:S.has("prg-ntptoklt-rev"))&&(0,c.ej)(o.Vu))return C=y.error_string,void u.M.sendAppErrorEvent(Object.assign(Object.assign({},l.MCu.EdgeChromiumTokenAccessFailureLtCookieUsed),{message:"Access token fetch failed. Used LT cookie",pb:Object.assign(Object.assign({},l.MCu.EdgeChromiumTokenAccessFailureLtCookieUsed.pb),{errorMessage:C,isPrerender:a.Al.IsPrerender})}));var C,S;yield function(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){yield(0,d.ks)(e&&e.is_success&&e.is_token_valid&&e.access_token,null,t)}))}(y,i);const w={account_id:e.accountId,account_type:e.accountType,client_id:t||p,scope_or_resource:"service::bing.com::MBI_SSL"},T=yield f(w);var k;(k=T)&&k.is_success&&k.is_token_valid&&k.access_token&&((0,s.$o)().setItem(o.I0,k.access_token),(0,c.sq)(o.I0,"",-1,"msn.com","/",!0))}))}function f(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=yield function(e){return new Promise((t=>{window.chrome.authPrivate.acquireAccessTokenSilently(e,(e=>{t(e)}))}))}(e);var i;return t&&t.is_success||(i=t)&&i.is_success||u.M.sendAppErrorEvent(Object.assign(Object.assign({},l.MCu.EdgeChromiumTokenAccessFailure),{message:"Failed to acquire MSA access token.",pb:Object.assign(Object.assign({},l.MCu.EdgeChromiumTokenAccessFailure.pb),{customMessage:i&&i.error_info})})),t}))}},70368:function(e,t,i){"use strict";i.d(t,{Df:function(){return f},LT:function(){return h},RH:function(){return p},lx:function(){return g},nq:function(){return u},sA:function(){return m},vp:function(){return v}});var n=i(33940),r=i(90846),o=i(66213),s=i(33799),a=i(76668),c=i(62281),d=i(79814),l=i(9344);function u(e){const t=encodeURIComponent(JSON.stringify(e||{}));(0,l.sq)(r.sM,t,r.ac,o.jG.HostPage.topDomain,"/",!1,a.f.Strict),r.mb.cache.clear(),r.x6.cache.clear()}function g(e){if(e)return function(e){return e&&"9188040d-6c67-4c5b-b112-36a304b66dad"===e.tenantId}(e)?s.Qm.MSA:s.Qm.AAD}function p(e){return(0,n.mG)(this,void 0,void 0,(function*(){let t;if(e){t=(yield h()).find((t=>t.username===e))}else{const e=m();if(e){t=(yield h()).find((t=>f(t)===e))}}return t}))}function h(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield(0,c.Yu)();return yield e.handleRedirectPromise(),e.getAllAccounts()}))}function f(e){return e&&e.idTokenClaims&&e.idTokenClaims[d.an]}function m(){const e=(0,r.x6)();return e&&e.login_hint}function v(e,t=1e3){let i=0;for(let t=0,n=e&&e.length;t<n;t++){i=(i<<5)-i+e.charCodeAt(t),i&=i}return i<0&&(i+=2147483647),i%t}},3072:function(e,t,i){"use strict";i.d(t,{O:function(){return b},x:function(){return y}});var n=i(33940),r=i(79814),o=i(65337),s=i(46336),a=i(54804),c=i(90846),d=i(2040),l=i(16854),u=i(70368),g=i(9344),p=i(62281),h=i(51671),f=i(33954);let m;const v=(0,o.$o)();function b(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i={time:(new Date).toISOString(),action:e,result:t,state:yield S()};f.k.log(`dual-auth: authRecord entry - ${e}: ${t}`),function(e){if(!e)return void f.k.logError("dual-auth: authRecord is null or undefined");m||(m=C());m.push(e);const t=m.slice(-r.tk);v.setItem(r.tU,JSON.stringify(t))}(i)}))}function y(){return function(){if(m)return m;return m=C(),m}().slice(-r.tk)}function C(){if(!v.supported)return void f.k.log("dual-auth: Local storage access is not supported");const e=v.getItem(r.tU);return(0,s.dW)(e)||[]}function S(){var e;return(0,n.mG)(this,void 0,void 0,(function*(){const t=a.Al.ClientSettings,i=(0,p.dn)(),n=i&&(0,u.lx)(yield(0,u.RH)())||(null===(e=(0,c.x6)())||void 0===e?void 0:e.account_type)||void 0;return{isSignedIn:(0,h.hC)(),accountType:n,currentAccount:(0,g.ej)(c.sM),signedInAccounts:i?yield w():void 0,storage:{aace:(0,g.ej)(d.m$),ace:(0,g.ej)(d.Li),child:(0,g.ej)(d.nM),loginFlowMarker:(0,l.YU)(),logoutFlowMarker:(0,l.SY)()},appType:t&&t.apptype,pageType:t&&t.pagetype}}))}function w(){return(0,n.mG)(this,void 0,void 0,(function*(){if(!(yield(0,p.Yu)()))return[-1];return(yield(0,u.LT)()).map((e=>(0,u.vp)(e.username)))}))}},79814:function(e,t,i){"use strict";i.d(t,{BS:function(){return c},Ic:function(){return r},QL:function(){return o},an:function(){return n},kQ:function(){return d},tU:function(){return s},tk:function(){return a},w6:function(){return l}});const n="login_hint",r=300,o=3600,s="authRecordTrail",a=10,c="InteractionRequiredAuthError",d="BrowserAuthError",l="no_tokens_found";var u;!function(e){e.tryAcquire1STokenLite="tryAcquire1STokenLite",e.acquireTokenSilent="acquireTokenSilent",e.interactiveLogin="interactiveLogin",e.initiateSSO="initiateSSO",e.loginRedirect="redirectHandler",e.loginPopup="loginPopup",e.logout="logout",e.ssoSilent="ssoSilent"}(u||(u={}))},62281:function(e,t,i){"use strict";i.d(t,{Bj:function(){return k},Yu:function(){return O},dn:function(){return C},qW:function(){return T}});var n=i(33940),r=i(33954),o=i(19388),s=i(26415),a=i(49972),c=i(79814),d=i(66213),l=i(90846),u=i(12884),g=i(33379),p=i(65135),h=i(9791),f=i(87711),m=i(42821);const v="https://assets.msn.com/staticsb/statics/latest/auth/msal-browser-2.18.0.min.js";let b,y;function C(){return y}function S(e){return`https://${(0,u.Td)().match(/\.msn\.(com|cn)$/i)?(0,u.zw)():"www.msn.com"}/staticsb/statics${b?"":"/latest"}/auth/auth-redirect${e?"-blank":""}.html`}function w(){return b=!!(0,u.Td)().match(/localhost.msn\.(com|cn)$/i),{auth:{clientId:"d7b530a4-7680-4c23-a8bf-c52c121d2e87",authority:`https://${d.jG.IsChinaCompliance?"login.partner.microsoftonline.cn":"login.microsoftonline.com"}/common`,redirectUri:S(),navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,i)=>{if(!i)switch(e){case"Error":return void r.k.logError("dual-auth: "+t.toString());case"Info":case"Verbose":case"Warning":return void r.k.log("dual-auth: "+t.toString())}}},tokenRenewalOffsetSeconds:c.Ic}}}function T(e=!1){return{scopes:[],loginHint:"",redirectUri:S(e)}}function k(e){return{scopes:e,forceRefresh:!1,redirectUri:S(!0)}}const O=(0,h.Z)((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield function(){return(0,n.mG)(this,void 0,void 0,(function*(){return new Promise((e=>(0,n.mG)(this,void 0,void 0,(function*(){if(!(0,g.N)())return void e();(0,l.lT)()&&(yield Promise.race([(0,o.b1)(),(0,f.Kb)(5e3)]));const t=(0,m.Z)(),i=t&&t.startMeasure("loadMsalScript").endMeasure,n=()=>{i&&i(),e()},r=(0,u.b0)(v);r.onload=n,r.onerror=e=>{p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.MCu.MsalFailedToLoadScript),{message:"Error in loading MSAL script",pb:Object.assign(Object.assign({},s.MCu.MsalFailedToLoadScript.pb),{customMessage:(0,a.n)(e)})})),n()},document.head.appendChild(r)}))))}))}();const e=window.msal;return y=!!e,e&&e.PublicClientApplication?new e.PublicClientApplication(w()):null}))))},79095:function(e,t,i){"use strict";i.d(t,{GQ:function(){return P},IY:function(){return F},vW:function(){return M},xQ:function(){return N}});var n=i(33940),r=i(21050),o=i(33954),s=i(26415),a=i(49972),c=i(79814),d=i(59294),l=i(87711),u=i(3072),g=i(76323),p=i(49926),h=i(16854),f=i(90846),m=i(56786),v=i(70368),b=i(62281),y=i(33799),C=i(65135),S=i(33379),w=i(9791),T=i(42821);const k=(0,g.p)((()=>(0,v.vp)((0,p.AE)("MUID"),100)<2));let O=!1;const E={acquireTokenStatus:"NotAttempted",accessTokenResult1S:null,currentAccountInfo:null};let I=new d.o;const A=(0,g.p)((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=yield(0,b.Yu)(),t=yield(0,r.fW)((()=>e.handleRedirectPromise()),"handleRedirect",(0,T.Z)());if(t)return o.k.log("dual-auth: Signing in through interactive login loginResponse: "+JSON.stringify(t,null,4)),M(t).finally((()=>{(0,h.dy)()})),(0,u.O)("interactiveLogin","Success"),t;(0,h.dy)()}))));function P(e){return(0,n.mG)(this,void 0,void 0,(function*(){O=!0;const t=yield A();if(t)return t;let i;if(i=e?(0,v.Df)(yield(0,v.RH)(e))||e:(0,v.sA)(),i||!(0,f.mb)())return x(i);M(null,!0)}))}const x=(0,w.Z)((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){let t;e||o.k.log("dual-auth: login_hint is not available. ssoSilent may not work!");const i=yield(0,b.Yu)(),n=(0,T.Z)(),r=n&&n.startMeasure("ssoSilentCore").endMeasure,d=Object.assign(Object.assign({},(0,b.qW)(!0)),{loginHint:e});try{t=yield j((()=>i.ssoSilent(d)),"ssoSilent",6e3,s.MCu.MsalSSOSilentException)}catch(e){o.k.log(`dual-auth: ssoSilent failed! : ${e}`),(0,u.O)("ssoSilent",(0,a.n)(e));const t=(0,f.x6)();if(e.name===c.BS&&t)return void L(null,!0);(t||(0,f.iG)())&&e.name!==c.BS&&e.name!==c.kQ&&R(s.MCu.MsalSSOSilentException,"Error in ssoSilent call",e)}finally{o.k.log(`dual-auth: getAllAccounts AFTER ${t?"SUCCESSFUL":"UNSUCCESSFUL"} ssoSilent: ${JSON.stringify((0,v.LT)(),null,4)}`),t&&(o.k.log(`dual-auth: loginResponse AFTER SUCCESSFUL ssoSilent: ${JSON.stringify(t,null,4)}`),(0,u.O)("ssoSilent","Success. User: "+(0,v.vp)(t.account.username))),M(t).finally((()=>{(0,h.bf)()})),r&&r((t?t.fromCache&&"cache":"error")||void 0)}return t}))));function M(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=L(e,t);yield D(i)}))}function L(e,t=!1){let i;if(e){E.currentAccountInfo=i=e.account;const t=(0,v.Df)(i),n=(0,v.lx)(i);(0,v.nq)({login_hint:t,account_type:n})}else t&&((0,v.nq)(),(0,m.tx)(null),(0,h.bf)());return i}function D(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){let i=E.accessTokenResult1S;const r=new Date(i&&i.extExpiresOn),d=r&&r.getTime()&&r>new Date;if(i&&"Success"===E.acquireTokenStatus&&d)return void o.k.log(`dual-auth: tryAcquire1STokenSilently: token is still valid - expiry: ${new Date(i&&i.extExpiresOn)}`);const l=(0,v.lx)(e)===y.Qm.AAD?["https://enterprisenews.microsoft.com/User.Read"]:["https://oneservice.microsoft.com/OneService.Read"];try{i=yield function(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(!t)return void o.k.log("dual-auth: tryAcquireTokenSilently received empty account -- API calls may not be authenticated!");const i=yield(0,b.Yu)(),n=Object.assign(Object.assign({},(0,b.Bj)(e)),{account:t});let r;const c=(0,T.Z)(),d=c&&c.startMeasure("tryAcquireTokenSilently").endMeasure;try{r=yield j((()=>i.acquireTokenSilent(n)),"acquireTokenSilent",2e3,s.MCu.MsalAcquireTokenSilentException)}catch(e){throw o.k.log(`dual-auth: acquireTokenSilent failed! : ${e}`),(0,u.O)("acquireTokenSilent",(0,a.n)(e)),R(s.MCu.MsalAcquireTokenSilentException,"acquireTokenSilent call failed",e),r=null,e}finally{d&&d((r?r.fromCache&&"cache":"error")||void 0),r&&(0,u.O)("acquireTokenSilent","Success"),o.k.log(`dual-auth: acquireTokenSilent for scopes: ${e} was ${r?"SUCCESSFUL":"UNSUCCESSFUL"} accessTokenResult: ${JSON.stringify(r,null,4)}`)}return r}))}(l,e),i&&(E.acquireTokenStatus="Success",E.accessTokenResult1S=i,(0,m.tx)(i))}catch(e){if(i=E.accessTokenResult1S=null,e.name===c.BS&&e.errorCode===c.w6&&t)return void(E.acquireTokenStatus="FailTrySSO");E.acquireTokenStatus="Fail"}I.set(i);const g=function(e){if(!e)return null;const t=e&&e.extExpiresOn,i=t&&new Date(t),n=i&&i.getTime(),r=(new Date).getTime();let o;const s=6e4,a=1e3*(c.QL-c.Ic),d=1e3*c.Ic;n&&n>r?(o=n-r,o<=d&&(o=0)):o=a;return o+s}(i);g&&setTimeout((()=>D(e)),g)}))}function F(){return(0,n.mG)(this,void 0,void 0,(function*(){return E.accessTokenResult1S?E.accessTokenResult1S:O?yield(0,r.fW)((()=>I.getResultAsync()),"waitFor1SToken",(0,T.Z)()):void o.k.logError("dual-auth: Attempted to wait for 1S headers, however the auth flow for the page was not started -- so returning early without the 1S access token")}))}function R(e,t,i=null){C.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:`${t}. Token status: ${(0,m.wX)()}`,pb:Object.assign(Object.assign({},e.pb),{customMessage:(0,a.n)(i),authRecordTrail:k&&(0,u.x)()||void 0})}))}function N(){const{currentAccountInfo:e}=E;if(e)return(0,v.lx)(e);const t=(0,f.x6)();return t?t.account_type:void 0}function j(e,t,i,r){return(0,n.mG)(this,void 0,void 0,(function*(){let n=i;(0,S.N)()&&(location.href.includes(`${t}ForceDelay`)&&(e=()=>(0,l.Kb)(1e4).then(e),n+=2e4),location.href.includes(`${t}ForceTimeout`)&&(n=0));let o=!1;const s=yield Promise.race([e(),(0,l.Kb)(n).then((()=>(o=!0,Promise.resolve(null))))]);if(s)return s;o&&r&&R(r,`Operation ${t} timed out after ${n}ms`)}))}},52794:function(e,t,i){"use strict";i.d(t,{T3:function(){return h},pd:function(){return g},zj:function(){return p}});var n=i(33940),r=i(53430),o=i(17318),s=i(33954),a=i(9791);const c=(0,a.Z)(((e,t)=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(!e||!t||""===t.trim())return;const i={method:"GET",headers:d(e),mode:"cors",credentials:"omit"},n=`https://graph.microsoft.com/v1.0/users/${t}/photos/96x96/$value`;try{const e=yield(0,o.Sm)(decodeURIComponent(n),1e4,i);return e&&e.ok?URL.createObjectURL(yield e.blob()):(s.k.log(`dual-auth: ProfilePictureFetch: Fetch returned error.  Status: ${e.status} - ${e.statusText}`),null)}catch(e){return s.k.logError(`dual-auth: ProfilePictureFetch exception: ${e}`),null}}))),((e,t)=>t));function d(e){const t={};return e&&(t.Authorization=`Bearer ${e}`),t}var l=i(70368),u=i(79095);function g(){return(0,n.mG)(this,void 0,void 0,(function*(){return(0,u.GQ)().then(p)}))}function p(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=e&&e.account;if(!function(e){const t=e&&e.account;return!!(t&&t.username&&t.idTokenClaims&&e.accessToken)}(e))return void s.k.log("dual-auth: Auth Response doesn't have all the required fields. authResponse: , "+JSON.stringify(e));const{username:i,homeAccountId:n,idTokenClaims:o}=t,a=n&&n.split("."),d=a&&a.length>0&&a[0].replace("-","").replace("0000000000000000",""),u=yield c(e.accessToken,i),g=o.given_name,p=o.family_name;return{ssoStatus:r.y,memberName:i,firstName:g,lastName:p,cid:d,accountType:(0,l.lx)(t),profilePictureUrl:u}}))}function h(e){return e&&e.ssoStatus===r.y}},74942:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var n=i(55067);class r{}r.updateEnabledState=new n.C("UpdateEnabled"),r.updateHeaderExpandedState=new n.C("UpdateHeaderExpanded"),r.updateStickyState=new n.C("UpdateSticky"),r.updateLayoutStatus=new n.C("UpdateLayoutStatus")},81171:function(e,t,i){"use strict";i.d(t,{i:function(){return o}});var n=i(63439),r=i(74942);class o extends n.e{updateEnabledStatus(e){r.A.updateEnabledState.getActionSender(this).send(e)}updateHeaderExpandedStatus(e){r.A.updateHeaderExpandedState.getActionSender(this).send(e)}updateLayoutStatus(e){r.A.updateLayoutStatus.getActionSender(this).send(e)}updateStickyStatus(e){r.A.updateStickyState.getActionSender(this).send(e)}}},69152:function(e,t,i){"use strict";i.d(t,{w:function(){return o}});var n=i(30856),r=i(74942);class o{reduce(e,t){if(!e)return{isEnabled:!1,isExpanded:!1,isHeaderSticky:!1};if(!t)return e;let i;return n.G.handleAction(t,r.A.updateHeaderExpandedState,(t=>{i=Object.assign(Object.assign({},e),{isExpanded:t})})),n.G.handleAction(t,r.A.updateStickyState,(t=>{i=Object.assign(Object.assign({},e),{isHeaderSticky:t})})),n.G.handleAction(t,r.A.updateEnabledState,(t=>{i=Object.assign(Object.assign({},e),{isEnabled:t})})),n.G.handleAction(t,r.A.updateLayoutStatus,(t=>{i=Object.assign(Object.assign({},e),{feedDisplaySetting:t})})),i||e}}},41691:function(e,t,i){"use strict";i.d(t,{V:function(){return r}});var n=i(55067);class r{}r.loadLocalStorage=new n.C("loadLocalStorage"),r.marketUpdated=new n.C("marketUpdated"),r.pageLayoutStateLoaded=new n.C("PageLayoutStateLoaded"),r.readyToShowRecommendedLayoutAppliedCoachmark=new n.C("RecommendedLayoutApplied"),r.updateConfigData=new n.C("updateConfigData"),r.updateConfigDataChanged=new n.C("updateConfigDataChanged"),r.updateLocalStorage=new n.C("updateLocalStorage"),r.updateNtpTheme=new n.C("updateNtpTheme"),r.updatePrimaryAccountInfo=new n.C("updatePrimaryAccountInfo")},17587:function(e,t,i){"use strict";var n;i.d(t,{Z:function(){return n}}),function(e){e.WinHPCustomBackButtonBehavior="msEnableWinHPNewTabBackButtonFocusAndClose"}(n||(n={}))},7009:function(e,t,i){"use strict";var n,r,o;i.d(t,{AL:function(){return a},Aq:function(){return g},HT:function(){return r},WT:function(){return o},dK:function(){return c},h0:function(){return n},l7:function(){return u},lA:function(){return s},r2:function(){return l},vs:function(){return d}}),function(e){e[e.BOOLEAN_AND_STRING_ENUM=0]="BOOLEAN_AND_STRING_ENUM",e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING_ENUM=2]="STRING_ENUM"}(n||(n={})),function(e){e.redirect="redirect",e.bing="bing"}(r||(r={})),function(e){e[e.user=0]="user",e[e.wpoPrerenderTab=1]="wpoPrerenderTab",e[e.wpoVisibleTab=2]="wpoVisibleTab",e[e.adminPortalVisibleTab=3]="adminPortalVisibleTab"}(o||(o={}));const s={enabledFeatures:"enabledFeatures",IsDefaultSearchProviderLocked:"isInLockdownMode",isEducationEnvironment:"isEducationEnvironment",isInYandexRegions:"isInYandexRegions",isNewTabGreetingEnabled:"isNewTabGreetingEnabled",inPageSearchBoxType:"inPageSearchBoxType",profileCreationTime:"profileCreationTime",showFeedSwitcher:"showFeedSwitcher",isChromePrimaryBrowserAtFre:"isChromePrimaryBrowserAtFre",isEnrolledInProjectEqual:"isEnrolledInProjectEqual",irisAttributes:"irisAttributes",isEdgeSignInAllowed:"isEdgeSignInAllowed"},a={hasImage:"has_image",resourceUrl:"resource_url",timestamp:"last_modified_time"},c="msQuickLinksDefaultOneRow",d="msQuickLinksDefaultTwoRow",l={accountType:"account_type",accountId:"account_id",email:"email",firstName:"first_name",lastName:"last_name"};var u,g;!function(e){e.NO_ACCOUNT="NO_ACCOUNT",e.MSA="MSA",e.AAD="AAD"}(u||(u={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CHROME=1]="CHROME",e[e.FIREFOX=2]="FIREFOX",e[e.IEXPLORER=4]="IEXPLORER",e[e.SAFARI=11]="SAFARI",e[e.EDGE=12]="EDGE",e[e.MSEDGE=13]="MSEDGE"}(g||(g={}))},4814:function(e,t,i){"use strict";i.d(t,{$W:function(){return f},I_:function(){return g},_g:function(){return p},_u:function(){return l},eD:function(){return u},k4:function(){return h}});var n=i(33940),r=i(33379),o=i(7009),s=i(53899),a=i(33954),c=i(65135),d=i(26415);function l(){return new Promise((e=>{const t=(0,r.N)()&&window.chrome&&window.chrome.ntpSettingsPrivate;t&&t.getConfigData?t.getConfigData((t=>{if(void 0!==t){const i={enabledFeatures:t[o.lA.enabledFeatures],IsDefaultSearchProviderLocked:t[o.lA.IsDefaultSearchProviderLocked],isEducationEnvironment:t[o.lA.isEducationEnvironment],isInYandexRegions:t[o.lA.isInYandexRegions],isNewTabGreetingEnabled:t[o.lA.isNewTabGreetingEnabled],inPageSearchBoxType:t[o.lA.inPageSearchBoxType],profileCreationTime:t[o.lA.profileCreationTime],showFeedSwitcher:t[o.lA.showFeedSwitcher],isChromePrimaryBrowserAtFre:t[o.lA.isChromePrimaryBrowserAtFre],isEnrolledInProjectEqual:t[o.lA.isEnrolledInProjectEqual],irisAttributes:new URLSearchParams(t[o.lA.irisAttributes]),isEdgeSignInAllowed:t[o.lA.isEdgeSignInAllowed]};e(i)}else a.k.logError("Failed to get config data from Chromium API."),e({})})):e({})}))}function u(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield(t=s._9.layout,new Promise((e=>{const i=window.chrome;if(i){const n=i.ntpSettingsPrivate;if(n&&"function"==typeof n.getPref)return void n.getPref(t,(i=>{e(i&&i.key===t?i.value:null)}))}e(null)})));var t;return null===e||isNaN(e)?null:s.F5[e]}))}function g(e,t,i){return{layoutPromotion:{renderSingleColumn:e,tmpl:t,control:i}}}function p(e,t,i){return{layoutPromotion:{recommendedLayoutOverride:{currentLayout:e},tmpl:t,control:i}}}function h(e,t){const i={message:e,type:"information",pb:Object.assign(Object.assign({},(0,d.mnt)()),{customMessage:t})};c.M.sendClientLogEvent(i)}function f(e,t,i){c.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:i})}))}},41982:function(e,t,i){"use strict";i.r(t),i.d(t,{BrowserType:function(){return n.Aq},ChromiumPageSettingsActions:function(){return r.V},ChromiumPageSettingsConnector:function(){return B},ChromiumPageSettingsReducer:function(){return H},EdgeFeatureFlag:function(){return o.Z},InPageSearchBoxType:function(){return n.HT},LayoutChangeInitiator:function(){return n.WT},PrimaryAccountType:function(){return n.l7},ToolingInfo:function(){return W},edgeNextLayoutOptimizer:function(){return I.d},primaryAccountInfoStringMap:function(){return n.r2},wpoLayoutManager:function(){return U.d}});var n=i(7009),r=i(41691),o=i(17587),s=i(33940);const a={StructuredDataCardsUserPreference:{id:"scp",maxRawLength:250,useCookie:!0,jsonEncoded:!0},CoachmarkUserPreference:{id:"cmp",maxRawLength:1,useCookie:!1,jsonEncoded:!1},LayoutOptimization:{id:"wpolo",maxRawLength:250,useCookie:!1,jsonEncoded:!0}};var c,d;!function(e){e.DefaultShowContent="DefaultShowContent",e.DisplayedCoachMarkWizards="DisplayedCoachMarkWizards",e.DynamicFeedFilters="DynamicFeedFilters",e.FreDialogExistingUser="FreDialogExistingUser",e.HasMsa="HasMsa",e.MarketSelection="MarketSelection",e.OutlookOptIn="OutlookOptIn",e.ProActiveCanvasFRE="ProActiveCanvasFRE",e.StructuredDataCardsUserPreference="StructuredDataCardsUserPreference",e.TopicSelection="TopicSelection",e.Layout="Layout",e.DhpHideNewsFeed="DhpHideNewsFeed",e.HideBingImage="HideBingImage"}(c||(c={})),function(e){e.DefaultShowContent="dsc",e.CoachMarkWizard="cmwr",e.DynamicFeedFilters="dff",e.MarketReset="mktreset",e.HasMsa="msa",e.MarketSelection="ntps",e.OutlookOptIn="olopt",e.ProActiveCanvasFRE="spnewpcfre",e.StructuredDataCardsUserPreference="scp",e.TopicSelection="epnff",e.DhpHideNewsFeed="iedo",e.HideBingImage="bingimage"}(d||(d={}));var l=i(65337);class u{constructor(e=(0,l.$o)()){this.webStorage=e,this.loadSettingsFromStorage=()=>{},this.storage={}}fetchProperty(e){const t=a[e];return t&&this.storage[t.id]}clear(){Object.keys(a).forEach((e=>{const t=a[e];this.webStorage.removeItem(t.id),delete this.storage[t.id]}))}deleteProperty(e){const t=a[e];t&&(this.webStorage.removeItem(t.id),delete this.storage[t.id])}saveProperty(e,t){const i=a[e];if(i){const e=i.jsonEncoded,n=i.maxRawLength,r=typeof t,o=JSON.stringify(t),s=o.length;if(e?"object"===r&&s<=n:("string"===r||"number"===r)&&s<=n+2){const n=e?o:t;return this.webStorage.setItem(i.id,n),!0}}return!1}loadSynchronizedSettingsFromStorage(){Object.keys(a).forEach((e=>{const t=a[e].id,i=this.webStorage.getItem(t);i&&(this.storage[t]=JSON.parse(i))}))}}var g=i(38349),p=i(76868),h=i(63439),f=i(35385),m=i(53899),v=i(16614),b=i(68364),y=i(26415),C=i(33954),S=i(87538),w=i(51953),T=i(9344),k=i(66213),O=i(54804),E=i(2040),I=i(24606),A=i(33379),P=i(12884),x=i(4734),M=i(59706),L=i(98864),D=i(11765),F=i(4814),R=i(65135),N=i(37271);const j=e=>{window.chrome.runtime.lastError};class B extends h.e{constructor(e,t,i,o,s,a,d){super(e,t,i,o,s,a,d),this.preferenceChangeCallbacks=[],this.marketCookieName="ntps",this.cookieExpireInDays=182,this.didLayoutModeChangeInCurrentTab=!1,this.layoutChangeInitiatorKey="lytupdtinitiator",this.hasAccount=!1,this.getUpdatedPeekHeight=()=>{if(this.config&&this.config.peekHeight){const e=this.getCurrentState(),t=this.getPeekHeight(this.config.peekHeight);if(t!==e.peekHeight){const i=Object.assign(Object.assign({},e),{peekHeight:t});f.J.updateLayout.getActionSender(this).send(i)}}},this.getLayoutStateFromOverrideConfig=(e,t)=>{let i;if(e&&e!==m.nP.custom){const t=m.Wi[e];i={currentBackgroundImageType:t.current_background_image_type,currentLayout:e,greetingEnabled:t.greeting,imageOfTheDayEnabled:t.current_background_image_type!==m.HX.off,quickLinksEnabled:t.quick_links,hideDefaultTopSites:t.hide_promoted_links,selectedFeedDisplaySetting:t.feeds_position,selectedQuickLinksDisplaySetting:t.selectedQuickLinksDisplaySetting}}else i=Object.assign(Object.assign({},t),{currentLayout:m.nP.custom});return i},this.settingsAPI=(0,A.N)()&&window.chrome&&window.chrome.ntpSettingsPrivate,this._authPrivateApi=(0,A.N)()&&window&&window.chrome&&window.chrome.authPrivate,this.ntpApiHandle=(0,A.N)()&&window&&window.chrome&&window.chrome.embeddedSearch&&window.chrome.embeddedSearch.newTabPage,this.chromiumBackgroundPrefType=n.h0.BOOLEAN,this.registerOnConfigDataChangedCallback(),this.registerOnPrefsChangeCallback(),this.edgeChromiumStorageProvider=new u,r.V.updateLocalStorage.registerObserver((e=>{const t=e.params[0];this.edgeChromiumStorageProvider.saveProperty(c.StructuredDataCardsUserPreference,function(e){return{bsk:{v:e.bingShoppingVisible?1:0,p:null},wsk:{v:e.weatherVisible?1:0,p:null},ssk:{v:e.sportsVisible?1:0,p:null},msk:{v:e.moneyVisible?1:0,p:null},hsk:{v:e.horoscopeVisible?1:0,p:null},osk:{v:e.onThisDayVisible?1:0,p:null},esk:{v:e.electionsVisible?1:0,p:null},essk:{v:e.esportsVisible?1:0,p:null},lsk:{v:e.lotteryVisible?1:0,p:null},qsk:{v:e.qnaVisible?1:0,p:null},rsk:{v:e.qnaVisible?1:0,p:null},amsk:{v:e.autosMarketplaceVisible?1:0,p:null},bhsk:{v:e.healthCardVisible?1:0,p:null}}}(t))})),r.V.marketUpdated.registerObserver((e=>{const t=e.params[0];if(t&&""!==t)try{(0,T.sq)(this.marketCookieName,void 0,-1),(0,T.sq)(this.marketCookieName,void 0,-1,void 0,"/edge"),(0,T.sq)(this.marketCookieName,JSON.stringify({m:t}),this.cookieExpireInDays,k.jG.HostPage.topDomain,"/");const e=`/${k.jG.CurrentMarket}/`;if(!location.pathname.startsWith(e))return void(0,S.Z)();const i=new URL(location.href);i.pathname=i.pathname.replace(e,`/${t}/`),(0,S.Z)({newUrl:i.href})}catch(e){(0,b.OO)(e,y.GVt.FailedToChangeTheMarket,"Failed to change the market, cookie doesn't drop from PCS")}})),this.getInitialState().then((e=>{r.V.loadLocalStorage.getActionSender(this).send(e)})),this.getPageLayoutStateAsync().then((e=>{if(this.config&&this.config.promoFormParamList){const t=new URLSearchParams((0,P.zp)()).get("form");if(t){if(this.config.promoFormParamList.includes(t.toUpperCase())&&"always"!==e.selectedFeedDisplaySetting){const t=Object.assign(Object.assign({},e),{currentBackgroundImageType:m.HX.imageAndVideo,currentLayout:m.nP.informational,quickLinksEnabled:!0,hideDefaultTopSites:!1,imageOfTheDayEnabled:!0,selectedFeedDisplaySetting:"always"});this.updateLayout(t),e=Object.assign({},t)}}}this.config&&this.config.peekHeight&&(e.currentLayout===m.nP.inspirational||"peek"===e.selectedFeedDisplaySetting)&&(e=Object.assign(Object.assign({},e),{peekHeight:this.getPeekHeight(this.config.peekHeight)})),I.d.getRecommendedLayout(a,e.currentLayout,e.selectedFeedDisplaySetting).then((t=>{if(t){const{recommendedLayout:i,recommendedFeedDisplaySetting:o,postPromotionCallback:s}=t;if(i){const t=O.Al.IsPrerender?n.WT.wpoPrerenderTab:n.WT.wpoVisibleTab;this.updateLayout(this.getLayoutStateFromOverrideConfig(i,e),t),o&&this.updateFeeds(o),a&&!a.disableCoachmarkOnLayoutOverride&&(0,x.F_)().then((()=>{r.V.readyToShowRecommendedLayoutAppliedCoachmark.getActionSender(this).send(i)})),e=Object.assign(Object.assign({},e),{currentLayout:i,selectedFeedDisplaySetting:o||e.selectedFeedDisplaySetting}),s&&s()}}M.i.stampExistingTmplValueToTelemetry(),L.N.tryLoggingWpoPromotionInfo(),e.isLoadCompleted=!0,r.V.pageLayoutStateLoaded.getActionSender(this).send(e)}))})),this.getPrimaryAccountInfoAsync().then((e=>{r.V.updatePrimaryAccountInfo.getActionSender(this).send(e)})),this.getConfigDataAsync().then((e=>{r.V.updateConfigData.getActionSender(this).send(e)})),this.ntpApiHandle&&(this.ntpApiHandle.onthemechange=()=>{const e=this.ntpApiHandle.ntpTheme;r.V.updateNtpTheme.getActionSender(this).send(e)})}setAccountFlag(e=!1){this.hasAccount=e}checkAuthApiIsAvailable(){return!!(window&&window.chrome&&window.chrome.authPrivate)&&!!window.chrome.authPrivate.startEdgeSignIn}getPrimaryAccountInfoAsync(e=!0){return new Promise((t=>{const i=this.getCurrentState();e&&i.primaryAccountInfo?t(i.primaryAccountInfo):this._authPrivateApi?this._authPrivateApi.getPrimaryAccountInfo((e=>{const i={accountId:e[n.r2.accountId],accountType:e[n.r2.accountType],firstName:e[n.r2.firstName],lastName:e[n.r2.lastName],email:e[n.r2.email]};t(i)})):(C.k.logError("Failed to get auth private api data from Chromium API."),t({}))}))}getConfigDataAsync(){return(0,s.mG)(this,void 0,void 0,(function*(){const e=this.getCurrentState();if(e.configData)return e.configData;return yield(0,F._u)()}))}getPageSettingsStateAsync(){const e=this.getCurrentState(),t=this.config&&this.config.forceDisableContent;return t&&this.setContentDisabled(e),new Promise(((i,n)=>this.settingsAPI?e.isLoadCompleted?(t&&!e&&this.setContentDisabled(e),i(e)):void r.V.pageLayoutStateLoaded.registerObserver((e=>{const r=e&&e.params;if(!r||r.length<1)return n("Load action didn't send any params");const o=r[0];return t&&!o&&this.setContentDisabled(o),o?i(o):n("Chromium Load action params type does not match with expected state type")})):i(e)))}getThemeTextColor(){let e=null;const t=this.getThemeLayoutColor();if(t){const i={r:t[0],g:t[1],b:t[2],a:t[3]};e=w.g.rgbNumberToCssHexColor(w.g.parsedColorToNumber(i))}return e}getThemeLayoutColor(){const e=this.getCurrentState(),t=e.ntpTheme;if(e.currentBackgroundImageType!==m.HX.theme||!t||t.imageUrl||t.usingDefaultTheme||!t.backgroundColorRgba)return null;if(t&&!t.usingDefaultTheme){if(t&&t.isNtpBackgroundDark&&t.textColorRgba&&t.textColorRgba.length>3)return t.textColorRgba;if(t&&!t.isNtpBackgroundDark&&t.textColorLightRgba&&t.textColorLightRgba.length>3)return t.textColorLightRgba}return null}getLayoutStateAsync(){return this.getPageSettingsStateAsync()}addSettingChangeListener(e){this.preferenceChangeCallbacks.push(e)}updateLayout(e,t=n.WT.user,i=!0){if(!this.settingsAPI||this.config&&this.config.forceDisableContent)return;const r=this.getCurrentState();let o=r&&r.selectedQuickLinksDisplaySetting?m.VE.onerow:null;r&&r.configData&&r.configData.enabledFeatures&&(r.configData.enabledFeatures.includes(n.dK)?o=m.VE.onerow:r.configData.enabledFeatures.includes(n.vs)&&(o=m.VE.tworows)),this.didLayoutModeChangeInCurrentTab=!0,(0,l.$o)().setObject(this.layoutChangeInitiatorKey,t),i?this.executeSettingsChange(m._9.layout,m.Uq[e.currentLayout]):this.settingsAPI.setPref(m._9.layout,m.Uq[e.currentLayout],j),o?this.settingsAPI.setPref(m._9.quickLinksDisplaySetting,o,j):this.settingsAPI.setPref(m._9.quickLinks,e.quickLinksEnabled,j),this.settingsAPI.setPref(m._9.hideDefaultTopSites,e.hideDefaultTopSites,j),this.settingsAPI.setPref(m._9.imageOfTheDay,e.imageOfTheDayEnabled,j),this.settingsAPI.setPref(m._9.currentBackgroundImageType,e.imageOfTheDayEnabled?m.HX.imageAndVideo:m.HX.off,j),this.settingsAPI.setPref(m._9.greeting,e.greetingEnabled,j),this.settingsAPI.setPref(m._9.feeds,e.selectedFeedDisplaySetting,j)}updateQuickLinks(e){const t=this.getCurrentState();if(t&&t.selectedQuickLinksDisplaySetting){const t=e?m.VE.onerow:m.VE.off;this.executeSettingsChange(m._9.quickLinksDisplaySetting,t)}else this.executeSettingsChange(m._9.quickLinks,e)}updateQuickLinksDisplayOption(e){const t=this.getCurrentState();t&&t.configData&&t.configData.enabledFeatures&&(t.configData.enabledFeatures.includes(n.dK)||t.configData.enabledFeatures.includes(n.vs))&&this.executeSettingsChange(m._9.quickLinksDisplaySetting,m.VE[e])}updateHideDefaultLinksOption(e){this.executeSettingsChange(m._9.hideDefaultTopSites,e)}updateBackgroundImageType(e){this.executeSettingsChange(m._9.currentBackgroundImageType,e),this.executeSettingsChange(m._9.imageOfTheDay,e!==m.HX.off)}updateGreeting(e){this.executeSettingsChange(m._9.greeting,e)}updateFeeds(e){this.executeSettingsChange(m._9.feeds,e)}updateOfficeLeftRail(e){(0,l.$o)().setItem(E.JJ,e.toString())}officeLeftRailEnabled(){return(0,l.$o)().getObject(E.JJ,!1)}updateSideBar(e){(0,l.$o)().setItem(E.H1,e.toString())}sideBarEnabled(){return(0,l.$o)().getObject(E.H1,!0)}executeSettingsChange(e,t){this.settingsAPI&&this.settingsAPI.setPref(e,t,j)}getInitialState(){return(0,s.mG)(this,void 0,void 0,(function*(){this.edgeChromiumStorageProvider.loadSynchronizedSettingsFromStorage();const e=this.edgeChromiumStorageProvider.fetchProperty(c.StructuredDataCardsUserPreference)||{};if(e){return{weatherVisible:!e.wsk||!!e.wsk.v,sportsVisible:!e.ssk||!!e.ssk.v,moneyVisible:!e.msk||!!e.msk.v,bingShoppingVisible:!e.bsk||!!e.bsk.v,horoscopeVisible:!e.hsk||!!e.hsk.v,onThisDayVisible:!e.osk||!!e.osk.v,electionsVisible:!e.esk||!!e.esk.v,esportsVisible:!e.essk||!!e.essk.v,lotteryVisible:!e.lsk||!!e.lsk.v,qnaVisible:!e.qsk||!!e.qsk.v,recipesVisible:!e.rsk||!!e.rsk.v,autosMarketplaceVisible:!e.amsk||!!e.amsk.v,healthCardVisible:!e.bhsk||!!e.bhsk.v}}return null}))}getPageLayoutStateAsync(){const e=this.getCurrentState();return new Promise((t=>{if(this.ntpApiHandle&&(e.ntpTheme=this.ntpApiHandle.ntpTheme),this.settingsAPI){let i,r=!1;window.chrome.ntpSettingsPrivate.getAllPrefs((o=>{const s=e;if(void 0!==o){i=this.defineChromiumKeys(o),s.currentLayout=m.F5[i[m._9.layout]],s.prefDerivedBrowserFeatures={isCustomBackgroundImageFeatureFlightOn:m._9.customBackgroundImageInfo in i};const a=m._9.currentBackgroundImageType in i,c=m._9.imageOfTheDay in i;if(a&&c){this.chromiumBackgroundPrefType=n.h0.BOOLEAN_AND_STRING_ENUM;const t=i[m._9.imageOfTheDay],o=i[m._9.currentBackgroundImageType];t||o===m.HX.off||o===m.HX.theme?t&&o===m.HX.off?(s.currentBackgroundImageType=m.HX.imageAndVideo,r=!0):i[m._9.currentBackgroundImageType]===m.HX.custom&&i[m._9.customBackgroundImageInfo]&&!i[m._9.customBackgroundImageInfo].has_image||i[m._9.currentBackgroundImageType]===m.HX.theme&&e.ntpTheme&&e.ntpTheme.usingDefaultTheme?s.currentBackgroundImageType=m.HX.imageAndVideo:s.currentBackgroundImageType=i[m._9.currentBackgroundImageType]:(s.currentBackgroundImageType=m.HX.off,r=!0)}else if(c){this.chromiumBackgroundPrefType=n.h0.BOOLEAN;const e=i[m._9.imageOfTheDay];s.currentBackgroundImageType=e?m.HX.imageAndVideo:m.HX.off}else a&&(this.chromiumBackgroundPrefType=n.h0.STRING_ENUM,s.currentBackgroundImageType=i[m._9.currentBackgroundImageType]);if(a&&m._9.customBackgroundImageInfo in i){const e=i[m._9.customBackgroundImageInfo],t={hasImage:e[n.AL.hasImage],resourceUrl:e[n.AL.resourceUrl],timestamp:e[n.AL.timestamp]};s.customBackgroundImageInfo=t}const d=m._U[i[m._9.quickLinksDisplaySetting]];if(s.ntpPrefOptionApiAvailability=!!d,s.currentLayout!==m.nP.custom)s.quickLinksEnabled=d?d!==m.Z3.off:m.Wi[s.currentLayout].quick_links,s.selectedQuickLinksDisplaySetting=d,s.currentBackgroundImageType=m.Wi[s.currentLayout].current_background_image_type,s.selectedFeedDisplaySetting=s.currentLayout===m.nP.inspirational&&this.config&&this.config.enablePeekFeedSetting?"peek":m.Wi[s.currentLayout].feeds_position,s.hideDefaultTopSites=m.Wi[s.currentLayout].hide_promoted_links;else{s.quickLinksEnabled=d?d!==m.Z3.off:i[m._9.quickLinks],s.selectedQuickLinksDisplaySetting=d,s.greetingEnabled=i[m._9.greeting];const e=i[m._9.feeds];s.selectedFeedDisplaySetting="peek"!==e||this.config&&this.config.enablePeekFeedSetting?e:"headingsonly",s.hideDefaultTopSites=i[m._9.hideDefaultTopSites]}let l=!1;const u=this.getGroupPolicy(o,m._9.feeds);if(u.isEnabled&&"ENFORCED"===u.enforcement&&(s.isContentFeedManagedByPolicy=!0,l=!0,s.currentLayout!==m.nP.custom&&(s.selectedFeedDisplaySetting=i[m._9.feeds])),m._9.quickLinksDisplaySetting in i){const e=this.getGroupPolicy(o,m._9.quickLinksDisplaySetting);e.isEnabled&&"ENFORCED"===e.enforcement&&(s.isQuickLinksManagedByPolicy=!0,l=!0,s.currentLayout!==m.nP.custom&&(s.selectedQuickLinksDisplaySetting=d,s.quickLinksEnabled=d!==m.Z3.off))}if(m._9.backgroundImageTypePolicy in i){const e=this.getGroupPolicy(o,m._9.backgroundImageTypePolicy);s.backgroundImageTypePolicy=i[m._9.backgroundImageTypePolicy],"ENFORCED"!=e.enforcement&&(s.backgroundImageTypePolicy=m.gZ.allowAll),s.backgroundImageTypePolicy===m.gZ.disableAll&&s.currentBackgroundImageType!==m.HX.off?(s.currentBackgroundImageType=m.HX.off,r=!0):s.backgroundImageTypePolicy!==m.gZ.disableImageOfTheDay||s.currentBackgroundImageType!==m.HX.imageAndVideo&&s.currentBackgroundImageType!==m.HX.bing?s.backgroundImageTypePolicy===m.gZ.disableCustomImage&&s.currentBackgroundImageType===m.HX.custom&&(s.currentBackgroundImageType=m.HX.imageAndVideo,r=!0):(s.currentBackgroundImageType=m.HX.off,r=!0),l=l||s.backgroundImageTypePolicy!==m.gZ.allowAll}if(l&&s.currentLayout!==m.nP.custom&&(s.currentLayout=m.nP.custom,this.settingsAPI.setPref(m._9.layout,m.Uq.custom,j)),s.imageOfTheDayEnabled=s.currentBackgroundImageType!==m.HX.off,s.currentBackgroundImageType===m.HX.theme&&e.ntpTheme){const t=e.ntpTheme;t.imageUrl||t.backgroundColorRgba||(s.imageOfTheDayEnabled=!1),!t.usingDefaultTheme&&t.isNtpBackgroundDark?s.isNtpThemeBackgroundDark=!0:s.isNtpThemeBackgroundDark=!1}if(r&&(this.settingsAPI.setPref(m._9.imageOfTheDay,s.currentBackgroundImageType!==m.HX.off,j),this.settingsAPI.setPref(m._9.currentBackgroundImageType,s.currentBackgroundImageType,j)),s.contentGroupPolicySettings=this.getGroupPolicy(o,m._9.feedType),s.contentSource=i[m._9.feedType],this.storeFeedPolicy(s.contentSource,s.contentGroupPolicySettings),s.openSettingsDialogFlyout=i[m._9.showSettings],s.market=O.Al.Locale,m._9.verticalTabsCollapsed in i&&(s.verticalTabsCollapsed=i[m._9.verticalTabsCollapsed]),m._9.verticalTabsOpened in i&&(s.verticalTabsOpened=i[m._9.verticalTabsOpened]),m._9.hideDefaultTopSites in i&&(s.hideDefaultTopSites=i[m._9.hideDefaultTopSites]),"onscroll"===s.selectedFeedDisplaySetting&&(s.selectedFeedDisplaySetting="headingsonly",setTimeout((()=>{const e=window.chrome&&window.chrome.ntpSettingsPrivate;e&&e.setPref(m._9.feeds,s.selectedFeedDisplaySetting,(()=>{}))}))),s.isSingleColumn=L.N.getPslFeedLayoutType,this.config&&this.config.layoutPromotion&&this.config.layoutPromotion.enableNewFreCheck&&i[m._9.hasUserSeenNewFre]&&!this.hasAccount){const e=this.config.layoutPromotion;R.M.addOrUpdateTmplProperty("kHasUserSeenNewFre","1"),R.M.sendClientLogEvent({message:"User has seen new fre",type:"information"}),e.freRecommendedLayoutOverride?D.L.getPreferenceSetting("layout_mode").then((i=>{null===i&&(s.currentLayout=e.freRecommendedLayoutOverride.currentLayout,s.selectedFeedDisplaySetting=e.freRecommendedLayoutOverride.selectedFeedDisplaySetting),t(s)})):t(s)}else t(s)}else C.k.logError("Failed to get saved layout preferences."),t(e)}))}else t(e)}))}registerOnConfigDataChangedCallback(){this.settingsAPI&&this.settingsAPI.onConfigDataChanged.addListener((e=>{if(e){const t=e[n.lA.inPageSearchBoxType];t!==n.HT.redirect&&t!==n.HT.bing||r.V.updateConfigDataChanged.getActionSender(this).send(t)}}))}registerOnPrefsChangeCallback(){this.settingsAPI&&this.settingsAPI.onPrefsChanged.addListener((e=>{if(!this.didLayoutModeChangeInCurrentTab){if((0,l.$o)().getObject(this.layoutChangeInitiatorKey)===n.WT.wpoPrerenderTab)return}const t=e[0];this.updateUIForSettingsChange(t.key,t.value,e)}))}updateUIForSettingsChange(e,t,i){return(0,s.mG)(this,void 0,void 0,(function*(){const r=yield this.getPageSettingsStateAsync(),o=Object.assign({},r);if(e===m._9.backgroundImageTypePolicy&&(0,S.Z)(),e===m._9.layout){const e=m.F5[t];if(o.currentLayout=e,t!==m.Uq.custom&&(o.quickLinksEnabled=m.Wi[e].quick_links,o.hideDefaultTopSites=m.Wi[e].hide_promoted_links,o.currentBackgroundImageType=m.Wi[e].current_background_image_type,o.selectedFeedDisplaySetting=e===m.nP.inspirational&&this.config&&this.config.enablePeekFeedSetting?"peek":m.Wi[e].feeds_position,o.selectedQuickLinksDisplaySetting&&(o.selectedQuickLinksDisplaySetting=m.Wi[e].selectedQuickLinksDisplaySetting),o.configData&&o.configData.enabledFeatures&&(o.configData.enabledFeatures.includes(n.dK)?o.selectedQuickLinksDisplaySetting=m.Z3.onerow:o.configData.enabledFeatures.includes(n.vs)&&(o.selectedQuickLinksDisplaySetting=m.Z3.tworows)),o.imageOfTheDayEnabled=o.currentBackgroundImageType!==m.HX.off),"visible"===document.visibilityState&&i)for(const e of this.preferenceChangeCallbacks)e(i,o);O.Al.CurrentFlightSet.has("prg-edgelitefm")&&t===m.Uq.inspirational&&(0,N.p5)()&&(0,g.yV)(p.y.FeedLayoutSwitch)}else if(r.currentLayout===m.nP.custom){switch(e){case m._9.quickLinks:o.quickLinksEnabled=t;break;case m._9.hideDefaultTopSites:o.hideDefaultTopSites=t;break;case m._9.quickLinksDisplaySetting:o.selectedQuickLinksDisplaySetting=m._U[t],o.quickLinksEnabled=m._U[t]!==m.Z3.off;break;case m._9.imageOfTheDay:this.chromiumBackgroundPrefType===n.h0.BOOLEAN&&(o.currentBackgroundImageType=t?m.HX.imageAndVideo:m.HX.off,o.imageOfTheDayEnabled=o.currentBackgroundImageType!==m.HX.off);break;case m._9.currentBackgroundImageType:if(o.currentBackgroundImageType=t,o.imageOfTheDayEnabled=o.currentBackgroundImageType!==m.HX.off,o.isNtpThemeBackgroundDark=void 0,o.currentBackgroundImageType===m.HX.theme&&r.ntpTheme){const e=r.ntpTheme;e.imageUrl||e.backgroundColorRgba||(o.imageOfTheDayEnabled=!1),!e.usingDefaultTheme&&e.isNtpBackgroundDark?o.isNtpThemeBackgroundDark=!0:o.isNtpThemeBackgroundDark=!1}break;case m._9.customBackgroundImageInfo:{const e=t,i={hasImage:e[n.AL.hasImage],resourceUrl:e[n.AL.resourceUrl],timestamp:e[n.AL.timestamp]};o.customBackgroundImageInfo=i;break}case m._9.feeds:o.selectedFeedDisplaySetting=t;break;case m._9.greeting:o.greetingEnabled=t;break;case m._9.feedType:o.contentSource=t;break;case m._9.showSettings:o.openSettingsDialogFlyout=t}if("visible"===document.visibilityState&&i)for(const e of this.preferenceChangeCallbacks)e(i,o)}const s=o.currentLayout===m.nP.inspirational||"peek"===o.selectedFeedDisplaySetting;o.peekHeight=this.config&&this.config.peekHeight&&s?this.getPeekHeight(this.config.peekHeight):void 0,e===m._9.verticalTabsCollapsed&&(o.verticalTabsCollapsed=t),e===m._9.verticalTabsOpened&&(o.verticalTabsOpened=t),e===m._9.userNurturingUpdated&&(o.isSingleColumn=L.N.getPslFeedLayoutType),(0,v.Z)(o,r)||f.J.updateLayout.getActionSender(this).send(o)}))}defineChromiumKeys(e){const t={};let i;for(i of e)t[i.key]=i.value;return t}getGroupPolicy(e,t){const i=e.find((e=>e.key===t)),n={key:i.key,value:i.value,type:i.type};return i&&i.controlledBy&&i.enforcement?(n.isEnabled=!0,n.enforcement=i.enforcement,n.controlledBy=i.controlledBy):n.isEnabled=!1,n}storeFeedPolicy(e,t){const i={contentSource:e,isEnforced:t.isEnabled&&t.enforcement==m.Py.Enforced};(0,l.$o)().supported?(0,l.$o)().setObject(m.RZ,i):i.isEnforced&&C.k.logError("Failed to save enforced admin policy for default feed.")}getPeekHeight(e){let t=0;const i=document&&document.documentElement&&document.documentElement.clientHeight;if(!e||!i)return t;if(i<650)return t;if(i<=700){if((document&&document.documentElement&&document.documentElement.clientWidth)<980)return t}return t=i<=700?e.smallViewport:i>700&&i<=930?e.mediumViewport:e.largeViewport,t<1?i*t:t}getPromoFormParamList(){return this.config&&this.config.promoFormParamList?this.config.promoFormParamList:null}setContentDisabled(e){e.greetingEnabled=!1,e.selectedFeedDisplaySetting="off",e.currentLayout=m.nP.focused,e.imageOfTheDayEnabled=!1,e.currentBackgroundImageType=m.HX.off}}var $=i(30856);class H{reduce(e,t){if(!e)return Object.assign(Object.assign({},m.L_),{contentSource:m.iz.MicrosoftNews,isLoadCompleted:!1,greetingEnabled:!0,openSettingsDialogFlyout:!1,inPageSearchBoxType:null,market:O.Al.Locale});if(!t)return e;let i;return $.G.handleAction(t,r.V.pageLayoutStateLoaded,(t=>{i=Object.assign(Object.assign(Object.assign({},e),t),{isLoadCompleted:!0})})),$.G.handleAction(t,f.J.updateLayout,(t=>{i=Object.assign(Object.assign({},e),t)})),$.G.handleAction(t,r.V.updateLocalStorage,(t=>{i=Object.assign(Object.assign({},e),{sdCardSettings:t})})),$.G.handleAction(t,r.V.loadLocalStorage,(t=>{i=Object.assign(Object.assign({},e),{sdCardSettings:t})})),$.G.handleAction(t,r.V.updatePrimaryAccountInfo,(t=>{i=Object.assign(Object.assign({},e),{primaryAccountInfo:t})})),$.G.handleAction(t,r.V.updateConfigData,(t=>{i=Object.assign(Object.assign({},e),{configData:t})})),$.G.handleAction(t,r.V.updateConfigDataChanged,(t=>{i=Object.assign(Object.assign({},e),{inPageSearchBoxType:t})})),$.G.handleAction(t,r.V.marketUpdated,(t=>{i=Object.assign(Object.assign({},e),{market:t})})),$.G.handleAction(t,r.V.updateNtpTheme,(t=>{i=Object.assign(Object.assign({},e),{ntpTheme:t})})),i||e}}var U=i(92635);const W={experienceConfigSchema:{}}},24606:function(e,t,i){"use strict";i.d(t,{d:function(){return f}});var n=i(33940),r=i(53899),o=i(98864),s=i(75192),a=i(17440),c=i(59706),d=i(11765),l=i(4814),u=i(26415),g=i(65337),p=i(92635);class h{}const f=new class{constructor(){this.recommendation=new h,this.getRecommendedLayout=(e,t,i)=>(0,n.mG)(this,void 0,void 0,(function*(){return new Promise((o=>(0,n.mG)(this,void 0,void 0,(function*(){try{if(this.recommendation.qualifyForPromotion)return this.recommendation.control?o(null):o(this.recommendation.pageSetting);const n=p.d.tryToGetLocalStorageConfig()||e,s=n&&n.layoutPromotion,a=s&&s.recommendedLayoutOverride;if(!a)return(0,l.k4)("There is no config to promote."),o(null);if(!(yield this.canBePromoted(n,t,i)))return o(null);return(s&&s.enterpriseContentOffPromotion||a.selectedFeedDisplaySetting&&a.currentLayout===r.nP.custom)&&(this.recommendation.pageSetting.recommendedFeedDisplaySetting=a.selectedFeedDisplaySetting),o(this.recommendation.pageSetting)}catch(e){return(0,l.$W)(u.nab,"Applying recommended layout failed",`Error:${e}`),o(null)}}))))})),this.recommendation.qualifyForPromotion=!1}checkForSingleColumnPromotion(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=p.d.findSingleColumnConfigInLocalStorage();if(!e)return!1;return!!(yield this.canBePromoted(e))&&(yield o.N.saveFeedLayoutSetting(s.sj.SingleColumn,s.oj.Wpo),!0)}))}checkForSingleColumnPromotionNew(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=p.d.tryToGetLocalStorageFeedLayoutConfig(),t=e&&e.layoutPromotion;if(!t)return!1;if(!(yield a.U.isApiAvailableToUse()))return!1;const i=yield a.U.getPreferenceSetting(s.Xm.feedLayout),n=i&&i.value&&i.value.type;return(i&&i.value&&i.value.source)!==s.oj.Ntp&&((n!==s.sj.SingleColumn||!t.renderSingleColumn)&&(!(n===s.sj.MultiColumn&&!t.renderSingleColumn)&&(t.tmpl&&c.i.persistTmplValueToNurturingPref(e.layoutPromotion.tmpl),!t.control&&(t.renderSingleColumn?(yield o.N.saveFeedLayoutSetting(s.sj.SingleColumn,s.oj.Wpo),!0):(yield o.N.saveFeedLayoutSetting(s.sj.MultiColumn,s.oj.Wpo),!1)))))}))}followUpAction(){if(!this.recommendation.qualifyForPromotion)return;const e=this.recommendation&&this.recommendation.promotionData;if(!e)return;const t=this.recommendation.pageSetting&&this.recommendation.pageSetting.recommendedLayout;this.updateUserNurturing(e.nurturingPreferenceItemValue,e.previousLayout,t,e.shouldReTarget),p.d.promotionFollowUpAction()}doNotApplyRevertFlight(e,t,i,o){return(0,n.mG)(this,void 0,void 0,(function*(){if(e!=r.nP.informational)return(0,l.k4)(`Did not revert layout to ${t} since layout is ${e}. Chrome is FRE.`),!0;if(!i)return(0,l.k4)("User was not promoted to informational before. Revert flight is not applied."),!0;if(o&&o.layoutHistory)return(0,l.k4)("Do not promote layout since user is categorized as highly engaged. User was not promoted with the October flight"),!0;if(yield d.L.isApiAvailableToUse()){const e="layout_mode",i=yield d.L.getPreferenceSetting(e);if(i&&"ntp"===i.source)return(0,l.k4)(`Did not promote layout to ${t} since user explicitly set layout to ${i.value}`),!0}else{const e="ntp.record_user_choices pref is not present in this version of EDGE; Will try to revert user";(0,l.k4)(e)}return!1}))}doNotApplyForwardFlight(e,t){return!t&&e!=r.nP.informational&&((0,l.k4)(`Did not promote ${e} layout since edge is at FRE. Promotion should only be infomrational`),!0)}isNurturingLimitsGood(e,t,i,n){if(t&&!i){const t=`recommendedLayoutAppliedTs:${e&&e.recommendedLayoutAppliedTs}`;return(0,l.k4)("Recommended layout was already applied",t),!1}return!(i&&n>=1)||((0,l.k4)("Max retargeting threshold reached"),!1)}updateUserNurturing(e,t,i,r){return(0,n.mG)(this,void 0,void 0,(function*(){const n=(new Date).getTime(),o=e&&e.recommendedLayoutRetargetHistory||[];r&&o.push(n);const c=e&&e.layoutHistory||[];c.push({time:n,from:t,to:i,reTarget:r||!1});const d={recommendedLayoutAppliedTs:n,recommendedLayoutRetargetHistory:o,layoutHistory:c};yield a.U.savePreferenceSetting(s.Xm.wpo,d),(0,l.k4)("Recommended layout applied")}))}canBePromoted(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){t||(t=yield(0,l.eD)());const{layoutPromotion:n}=e||{},o=n.recommendedLayoutOverride&&n.recommendedLayoutOverride.currentLayout;if(t===o)return(0,l.k4)("Current layout is same as recommended layout"),!1;const{enterpriseContentOffPromotion:d}=n;if(d&&this.areFeedsDisabledByAdmin())return(0,l.k4)("No promotion since this is an enterprise content off promotion and feeds are disabled by admin settings."),!1;if(d&&t!==r.nP.custom&&"off"!==i)return(0,l.k4)(`No promotion since current layout is ${t} and this is an enterprise content off promotion`),!1;if(!d&&(t===r.nP.focused||t===r.nP.custom))return(0,l.k4)(`No promotion since current layout is ${t}`),!1;if(!(yield a.U.isApiAvailableToUse()))return!1;const u=yield a.U.getPreferenceSetting(s.Xm.wpo),g=u&&u.value,p=g&&g.recommendedLayoutAppliedTs,h=g&&g.recommendedLayoutRetargetHistory&&g.recommendedLayoutRetargetHistory.length;let f;const m=n.enableChromeFreCheck;if(m){const e=yield(0,l._u)();f=e&&e.isChromePrimaryBrowserAtFre}let v=!1;if(m&&f){if(yield this.doNotApplyRevertFlight(t,o,p,g))return!1;v=!0}else{if(this.doNotApplyForwardFlight(o,d))return!1}const b=n.reTargetRecommendedLayout;return!!this.isNurturingLimitsGood(g,p,b,h)&&(this.recommendation={pageSetting:{recommendedLayout:o,postPromotionCallback:this.followUpAction.bind(this)},promotionData:{previousLayout:t,nurturingPreferenceItemValue:g,isRevertFlight:v,shouldReTarget:b,tmpl:n.tmpl},control:n.control,qualifyForPromotion:!0},this.recommendation.promotionData.tmpl&&c.i.persistTmplValueToNurturingPref(this.recommendation.promotionData.tmpl),!this.recommendation.control||((0,l.k4)("About to promote, but did not since this is a control flight"),!1))}))}areFeedsDisabledByAdmin(){const e=(0,g.$o)().getObject("AdminPortalSettings");if(!e)return!1;const{isOfficeContentEnabled:t,isShowCompanyAndIndustry:i}=e;return!t&&!i}}},92635:function(e,t,i){"use strict";i.d(t,{d:function(){return h}});var n,r=i(33940),o=i(26415),s=i(53899),a=i(75970),c=i(66213),d=i(65337),l=i(98864),u=i(75192),g=i(4814),p=i(9344);!function(e){e[e.none=0]="none",e[e.noAds=1]="noAds",e[e.renderSingleColumn=2]="renderSingleColumn"}(n||(n={}));const h=new class{tryToGetLocalStorageConfig(){const e=this.getWpoFromLocalStorage();let t;return(e&&e.treatments||[]).forEach((e=>{e&&e.properties&&e.properties.layoutRecommended===s.nP.informational&&(this.properties=e.properties,t=(0,g._g)(this.properties.layoutRecommended,this.properties.tmpl,this.properties.isControl))})),this.layoutPromotionType=n.none,this.properties&&(this.properties.renderSingleColumn?this.layoutPromotionType=n.renderSingleColumn:this.properties.expirationPeriodInDays&&(this.layoutPromotionType=n.noAds)),t||null}findSingleColumnConfigInLocalStorage(){const e=this.tryToGetLocalStorageConfig();return this.layoutPromotionType===n.renderSingleColumn?e:null}tryToGetLocalStorageFeedLayoutConfig(){const e=this.getWpoFromLocalStorage();let t;return(e&&e.treatments||[]).forEach((e=>{e&&e.properties&&"PageFeedLayout"===e.properties.layoutType&&(t=(0,g.I_)(e.properties.renderSingleColumn,e.properties.tmpl,e.properties.isControl))})),t||null}promotionFollowUpAction(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.layoutPromotionType===n.noAds){const e="delayAds",t=(0,p.ej)(e);t?(0,g.$W)(o._Gv,"Tried to apply no-ads promotion more than once",`${t}`):this.properties&&this.properties.expirationPeriodInDays&&((0,p.sq)(e,"1",this.properties.expirationPeriodInDays,c.jG.IsChinaCompliance?".msn.cn":".msn.com","/"),(0,g.k4)(`User was promoted to no-ads, ${this.properties.expirationPeriodInDays} days template.`))}else this.layoutPromotionType===n.renderSingleColumn&&(l.N.saveFeedLayoutSetting(u.sj.SingleColumn,u.oj.Wpo),(0,g.k4)("User was promoted to single column."))}))}getWpoFromLocalStorage(){try{this.wpoLocalStorageKey||(this.wpoLocalStorageKey=(0,a._)(c.jG.AppType,c.jG.CurrentRequestTargetScope));const e=(0,d.$o)().getItem(this.wpoLocalStorageKey);return e?JSON.parse(e):null}catch(e){const t=`Error in parsing JSON from local storage key: -${this.wpoLocalStorageKey}-`;return(0,g.$W)(o.Od5,t,e),null}}}},29993:function(e,t,i){"use strict";i.d(t,{$:function(){return r}});var n=i(55067);class r{}r.addCoachmark=new n.C("AddCoachmark"),r.updateCoachmarkHeight=new n.C("UpdateCoachmarkHeight"),r.updateCoachmarkName=new n.C("UpdateCoachmarkName"),r.updateCoachmarkVisibleStatus=new n.C("UpdateCoachmarkVisibleStatus")},91844:function(e,t,i){"use strict";i.d(t,{y:function(){return v}});var n=i(33940),r=i(73231),o=i(6660),s=i(29993),a=i(26415),c=i(63439),d=i(33954),l=i(62985),u=i(91881),g=i(53076),p=i(93450),h=i(38130);class f{static getCoachmarksFromDataConnector(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.irisDataConnector=yield p._.getInstance().rootReducer.getDataConnector(g.z.IrisData),!this.irisDataConnector)return h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.IrisDataConnectorUndefined),{message:"No Iris data connector"})),null;const t=yield this.irisDataConnector.getPayload(e);if(!this.validateSurface(t,e))return null;const i=t.creatives,n=i[Math.floor(Math.random()*i.length)];return this.extractCoachmarkCreativeMessages(n,t.placement)}))}static fireIrisBeacon(e,t,i,r,o){return(0,n.mG)(this,void 0,void 0,(function*(){this.irisDataConnector=yield p._.getInstance().rootReducer.getDataConnector(g.z.IrisData),this.irisDataConnector?this.irisDataConnector.sendActionUpdate(o,r,e,t,i):h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.IrisDataConnectorUndefined),{message:"No Iris data connector",pb:Object.assign(Object.assign({},a.qCO.EventTypeUndefined.pb),{customMessage:`Error reporting iris beacons eventType: ${e}, telemetryInfo: ${t}, irisAction: ${i}, creativeId: ${r}, positionId:${o}`})}))}))}static validateSurface(e,t){return e?!l.S.infoHasErrors(e)||(e.errors.forEach((e=>{2040!=(e&&e.code?e.code:e.errors&&e.errors.length>0&&e.errors[0].code)&&h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.ErrorFoundForSurface),{message:"Surface errors discovered",pb:Object.assign(Object.assign({},a.qCO.ErrorFoundForSurface.pb),{customMessage:"Error with surface: "+u._l.MSNNewsCoachmark+" Code: "+e.code+" Message: "+e.msg})}))})),!1):(d.k.log(`IrisHandler: Iris surface not found for the campaign: ${e}`),!1)}static extractCoachmarkCreativeMessages(e,t){const i=[];let n;return e&&e.content&&e.content.cm&&!e.content.rewards&&e.telemetry&&e.creativeId&&t&&e.content.cm.forEach((o=>{n=Object.assign(Object.assign({},o),{ctaList:o.cta,showPointer:!("true"===o.disablePointer),frequency:Number(e.content.frequency),frequencyInterval:Number(e.content.frequencyInterval),ecsFeatureFlags:e.content.ecsFeatureFlags,isEcsExperiment:"true"===e.content.isEcsExperiment,creativeId:e.creativeId,creativeName:e.creativeName,creativeNamespace:e.creativeNamespace,storageInfo:e.storageInfo,eventUrl:e.telemetry,positionId:t,coachmarkSource:r.jX.Iris}),i.push(n)})),i}}var m=i(12574);class v extends c.e{addCoachmark(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){let i=!1;if(yield(0,m.XA)(t)){const t=r.kE.extractMessages(e);if(!t||0===t.length)return!1;const n=new Promise((e=>{s.$.updateCoachmarkVisibleStatus.registerObserver((()=>{i=this.getCurrentState().isCoachmarkOnScreen,e()}))}));s.$.addCoachmark.getActionSender(this).send(t),yield n}return i}))}reportEvent(e,t,i,n,r){e?t?e!==o.R.Action||i?f.fireIrisBeacon(e,t,i,n,r):h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.IrisActionUndefined),{message:"Iris action undefined",pb:Object.assign(Object.assign({},a.qCO.EventTypeUndefined.pb),{customMessage:`Error reporting iris beacons eventType: ${e}, telemetryInfo: ${JSON.stringify(t)}, irisAction: ${i}, creativeId: ${n}, positionId: ${r}`})})):h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.TelemetryInfoUndefined),{message:"Iris telemetry info not found",pb:Object.assign(Object.assign({},a.qCO.EventTypeUndefined.pb),{customMessage:`Error reporting iris beacons eventType: ${e}, telemetryInfo: ${JSON.stringify(t)}, irisAction: ${i}, creativeId: ${n}, positionId: ${r}`})})):h.i.trackAppErrorEvent(Object.assign(Object.assign({},a.qCO.EventTypeUndefined),{message:"Event type is undefined",pb:Object.assign(Object.assign({},a.qCO.EventTypeUndefined.pb),{customMessage:`Error reporting iris beacons eventType: ${e}, telemetryInfo: ${JSON.stringify(t)}, irisAction: ${i}, creativeId: ${n}, positionId: ${r}`})}))}getCoachmarks(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield f.getCoachmarksFromDataConnector(e)}))}}},21343:function(e,t,i){"use strict";i.d(t,{W:function(){return o}});var n=i(30856),r=i(29993);class o{reduce(e,t){if(!e)return{coachmarkMessages:void 0,isCoachmarkOnScreen:void 0,coachmarkHeight:void 0,coachmarkName:void 0};if(!t)return e;let i,o=!1;return o=o||n.G.handleAction(t,r.$.addCoachmark,(t=>{i=Object.assign(Object.assign({},e),{coachmarkMessages:t})})),o=o||n.G.handleAction(t,r.$.updateCoachmarkHeight,(t=>{i=Object.assign(Object.assign({},e),{coachmarkHeight:t})})),o=o||n.G.handleAction(t,r.$.updateCoachmarkName,(t=>{i=Object.assign(Object.assign({},e),{coachmarkName:t})})),o=o||n.G.handleAction(t,r.$.updateCoachmarkVisibleStatus,(t=>{i=Object.assign(Object.assign({},e),{isCoachmarkOnScreen:t})})),i||e}}},73231:function(e,t,i){"use strict";i.d(t,{HJ:function(){return o},M_:function(){return r},dm:function(){return a},jX:function(){return s},kE:function(){return l},ur:function(){return n}});var n,r,o,s,a,c=i(26415),d=i(38130);!function(e){e.Above="Above",e.Below="Below",e.Left="Left",e.Right="Right"}(n||(n={})),function(e){e.Adjacent="Adjacent",e.Center="Center",e.Opposite="Opposite"}(r||(r={})),function(e){e.TopStart="TopStart",e.TopEnd="TopEnd",e.BottomStart="BottomStart",e.BottomEnd="BottomEnd"}(o||(o={})),function(e){e.Iris="Iris",e.Experience="Experience"}(s||(s={})),function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(a||(a={}));class l{static extractMessages(e){const t=new Array;let i;return e?(e.forEach((e=>{l.hasMessageData(e)?(i=l.mapMessageResponseForProps(e),t.push(i)):d.i.trackAppErrorEvent(Object.assign(Object.assign({},c.qCO.InvalidCoachmarkMessage),{message:`Coachmark message passed is invalid or malformed: coachmark: ${e.name}`,pb:Object.assign(Object.assign({},c.qCO.InvalidCoachmarkMessage.pb),{customMessage:`creativeId: ${e.creativeId} positionId: ${e.positionId} Malformed coachmark message: ${JSON.stringify(e)}`})}))})),t):t}static hasMessageData(e){return null!=(e&&(e.targetElement&&e.position||e.nonTargetPlacement)&&e.headline&&e.leadText&&e.timeoutMilliseconds&&e.coachmarkSource)}static mapMessageResponseForProps(e){if(!e)return null;return{actionPauseInMs:e.actionPauseInMs,body:e.leadText,ctaList:e.ctaList,showPointer:e.showPointer,coachmarkSize:l.getDisplayType(e.displayType),floatingPosition:e.nonTargetPlacement&&l.getNonTargetPlacement(e.nonTargetPlacement),head:e.headline,leadImage:e.leadImage,leadImageAltText:e.leadImageAltText,mainImage:e.mainImage,mainImageAltText:e.mainImageAltText,name:e.name,pointerPosition:e.pointerPlacement&&l.getPointerPosition(e.pointerPlacement),coachmarkPosition:e.position&&l.getPlacement(e.position),showDismissalX:e.displayDismissX,targetElement:e.targetElement,timeoutInMs:e.timeoutMilliseconds,zIndex:1,ecsFeatureFlags:e.ecsFeatureFlags,isEcsExperiment:e.isEcsExperiment,creativeId:e.creativeId,rewardsInfo:e.rewardsInfo,eventUrl:e.eventUrl?e.eventUrl:void 0,positionId:e.positionId,coachmarkSource:e.coachmarkSource}}static getPointerPosition(e){switch(r[e]){case r.Adjacent:return r.Adjacent;case r.Center:return r.Center;case r.Opposite:return r.Opposite;default:return null}}static getPlacement(e){switch(n[e]){case n.Above:return n.Above;case n.Below:return n.Below;case n.Left:return n.Left;case n.Right:return n.Right;default:return null}}static getDisplayType(e){switch(a[e]){case a.Small:return a.Small;case a.Medium:return a.Medium;case a.Large:return a.Large;default:return a.Medium}}static getNonTargetPlacement(e){switch(e){case o.TopStart:return o.TopStart;case o.TopEnd:return o.TopEnd;case o.BottomStart:return o.BottomStart;case o.BottomEnd:return o.BottomEnd;default:return null}}}},38130:function(e,t,i){"use strict";i.d(t,{i:function(){return r}});var n=i(65135);class r{static registerTrackAppErrorEventCallback(e){e&&(this.trackAppErrorEventCallback=e)}static trackAppErrorEvent(e){this.trackAppErrorEventCallback&&this.trackAppErrorEventCallback(e)}}r.trackAppErrorEventCallback=e=>{n.M.sendAppErrorEvent(e)}},65974:function(e,t,i){"use strict";var n;i.d(t,{A:function(){return n}}),function(e){e.Chrome="chrome",e.Chromium="chromium",e.Edge="edge",e.EdgeChromium="edgeChromium",e.Firefox="firefox",e.InternetExplorer="internetExplorer",e.Safari="safari"}(n||(n={}))},69973:function(e,t,i){"use strict";var n;i.d(t,{p:function(){return n}}),function(e){e.Desktop="desktop",e.Phone="phone",e.Tablet="tablet"}(n||(n={}))},20126:function(e,t,i){"use strict";var n;i.d(t,{Q:function(){return n}}),function(e){e.Android="android",e.Ios="ios",e.Linux="linux",e.Macos="macos",e.Windows="windows",e.Xbox="xbox"}(n||(n={}))},57967:function(e,t,i){"use strict";i.d(t,{Fe:function(){return l},W1:function(){return a},Wc:function(){return c},r7:function(){return s},yL:function(){return d}});var n=i(79664);const r=n.z.Alert,o={build:""};function s(e){Object.assign(o,e)}const a={IndexedDbWriteFailed:{id:22010,severity:r,pb:o},IndexedDbReadFailed:{id:22011,severity:r,pb:o},CrsFetchError:{id:22012,severity:r,pb:o},ReceivedConfigFromCdnAsCrsFetchFailed:{id:22013,severity:r,pb:o},GetConfigException:{id:22014,severity:n.z.Critical,pb:o},IndexedDbBulkReadFailed:{id:22015,severity:r,pb:o},IndexedDbFailedToRemoveCachedConfig:{id:22016,severity:r,pb:o},IndexedDbFailedToClearAllCachedConfigs:{id:22017,severity:r,pb:o},RenderCachePurgedDueToChangesInConfig:{id:22018,severity:n.z.NoAlert,pb:o},FailedToPurgeRenderCache:{id:22019,severity:r,pb:o},RefreshConfigCacheFailed:{id:22020,severity:r,pb:o},IndexedDbInitFailed:{id:22021,severity:r,pb:o},DifferentCbid:{id:22022,severity:n.z.NoAlert,pb:o},PrgFlightLsWriteError:{id:22023,severity:n.z.NoAlert,pb:o},PrgFlightLsReadError:{id:22024,severity:n.z.NoAlert,pb:o}},c=(n.z.NoAlert,n.z.NoAlert,{id:22027,severity:n.z.Critical,pb:o}),d=(n.z.Critical,n.z.Critical,{id:22031,severity:r,pb:o}),l={RecursiveGetFailed:{id:22050,severity:r,pb:o},BlobFetchReturnedNull:{id:22051,severity:n.z.NoAlert,pb:o}};n.z.NoAlert,n.z.NoAlert,n.z.HighImpact},12090:function(e,t,i){"use strict";i.d(t,{_:function(){return a},h:function(){return c}});var n=i(99502),r=i(20651),o=i(84289),s=i(84925);function a(e,t,i,n){return{[e]:c(t,i,n)}}function c(e,t,i){return Object.assign(Object.assign({},(0,o.NU)(e,t,Object.assign(Object.assign({},(0,s.sz)("instanceId","Experience Instance","The instance id of the child experience",null,null,r.Zn)),{configRef:Object.assign(Object.assign({},(0,o.NU)("Git config reference","Git file based config ref info",Object.assign(Object.assign(Object.assign({},(0,s.sz)("experienceType","Experience type","The Peregrine experience type",i,null,r.Bt)),(0,s.sz)("instanceSrc","Experience instance name","The name that uniquely identifies this experience instance",null,null,r.Q1)),(0,s.sz)("sharedNs","Shared namespace","Optional shared namespace for this reference",null,null,r.Q1)),["experienceType","instanceSrc"])),{[n.a.additionalProperties]:!1})}),["instanceId","configRef"])),{[n.a.additionalProperties]:!1})}},20651:function(e,t,i){"use strict";i.d(t,{Bt:function(){return s},Q1:function(){return r},Zn:function(){return o}});const n="a-zA-Z0-9_-",r=`^[${n}]+$`,o=`^(cms/api/amp/experienceConfigIndex/[${n}]+|[${n}]+|)$`,s="^[A-Z][a-zA-Z]+(?:V[0-9])?$"},99502:function(e,t,i){"use strict";var n,r;i.d(t,{X:function(){return n},a:function(){return r}}),function(e){e.object="object",e.string="string",e.number="number",e.boolean="boolean",e.array="array",e.null="null"}(n||(n={})),function(e){e.anyOf="anyOf",e.additionalProperties="additionalProperties",e.const="const",e.default="default",e.description="description",e.enum="enum",e.filter="filter",e.id="id",e.items="items",e.oneOf="oneOf",e.pattern="pattern",e.properties="properties",e.propertyNames="propertyNames",e.required="required",e.title="title",e.type="type"}(r||(r={}))},64690:function(e,t,i){"use strict";i.d(t,{e:function(){return r}});var n=i(84289);const r=(e,t,i,r,o)=>{const s=(0,n.NU)(e,t,i,r,o);return Object.assign(Object.assign({},s),{$id:e,$schema:"http://json-schema.org/schema#"})}},12517:function(e,t,i){"use strict";i.d(t,{u:function(){return a}});var n=i(84289),r=i(84925),o=i(29460);function s(e){const t=Object.keys(e),i={};for(const a of t)"object"==typeof e[a]?Object.assign(i,(0,n.ii)(a,(0,o.Z)(a),(0,o.Z)(a),s(e[a]),Object.keys(e[a]))):Object.assign(i,(0,r.sz)(a,(0,o.Z)(a),e[a]));return i}const a=(e,t)=>{const i=Object.keys(e),r=t?i.filter((e=>!t.includes(e))):i;return(0,n.ii)("localizedStrings","Localization Strings","All localized string values for the experience",s(e),r)}},55492:function(e,t,i){"use strict";i.d(t,{$H:function(){return o},nw:function(){return s}});var n=i(99502),r=i(37969);const o=()=>({[n.a.type]:n.X.null,[n.a.title]:"Delete value",[n.a.description]:"Delete value via NULL override"}),s=e=>{const t=Object.keys(e)[0],i=e[t],{title:n,description:s}=i;return(0,r.pF)(t,n,s,[i,o()])}},37969:function(e,t,i){"use strict";i.d(t,{RQ:function(){return r},pF:function(){return o}});var n=i(99502);const r=(e,t,i)=>({[n.a.title]:e,[n.a.description]:t||e,[n.a.oneOf]:i}),o=(e,t,i,n)=>({[e]:Object.assign({},r(t,i,n))})},81277:function(e,t,i){"use strict";i.d(t,{Z:function(){return d},d:function(){return l}});var n=i(12090),r=i(84289),o=i(37969),s=i(99502),a=i(84925),c=i(20651);const d=(e,t,i,n)=>({[e]:Object.assign({},l(t,i,n))}),l=(e,t,i)=>(0,o.RQ)(e,t,[Object.assign(Object.assign({},(0,r.NU)(e,t,Object.assign(Object.assign(Object.assign({},(0,a.sz)("experienceType","Experience Type","The Peregrine experience type",i)),(0,a.sz)("instanceId","Experience Instance","The instance id of the child experience",null,null,c.Zn)),(0,a.sz)("href","Experience Config Index","The experience config index href for the child experience")),["experienceType","instanceId","href"])),{[s.a.additionalProperties]:!1}),(0,n.h)(e,t,i)])},84289:function(e,t,i){"use strict";i.d(t,{$s:function(){return r},G:function(){return a},JJ:function(){return c},NU:function(){return d},iF:function(){return o},ii:function(){return l}});var n=i(99502);const r=(e,t,i)=>({[n.a.title]:e,[n.a.type]:n.X.array,[n.a.description]:t||e,[n.a.items]:i}),o=(e,t,i,n)=>({[e]:Object.assign({},r(t,i,n))}),s=(e,t,i,r)=>{const o=i&&i.length>0?{[n.a.enum]:i}:null,s=r?{[n.a.default]:r}:null;return Object.assign(Object.assign({[n.a.title]:e,[n.a.type]:n.X.number,[n.a.description]:t||e},o),s)},a=(e,t,i,n,r)=>({[e]:Object.assign({},s(t,i,n,r))}),c=(e,t,i,r,o)=>{const s=r?{[n.a.default]:r}:null,a=o?{[n.a.enum]:[o]}:null;return{[e]:Object.assign(Object.assign({[n.a.title]:t,[n.a.type]:n.X.boolean,[n.a.description]:i||t},s),a)}},d=(e,t,i,r,o)=>{const s=r?{[n.a.required]:r}:null;return Object.assign(Object.assign({[n.a.title]:e,[n.a.type]:n.X.object,[n.a.description]:t||e,[n.a.properties]:i},s),o||{})},l=(e,t,i,n,r,o)=>({[e]:Object.assign({},d(t,i,n,r,o))})},84925:function(e,t,i){"use strict";i.d(t,{NG:function(){return r},TV:function(){return a},lH:function(){return s},sz:function(){return o}});var n=i(99502);const r=(e,t,i,r,o)=>{const s=i&&i.length>0?{[n.a.enum]:i}:null,a=r?{[n.a.default]:r}:null,c=o?{[n.a.pattern]:o}:null;return Object.assign(Object.assign(Object.assign({[n.a.title]:e,[n.a.type]:n.X.string,[n.a.description]:t||e},s),a),c)},o=(e,t,i,n,o,s)=>({[e]:Object.assign({},r(t,i,n,o,s))}),s=(e,t,i,n)=>({[e]:Object.assign({},r(t,i,n,void 0))}),a=(e,t,i,n)=>({[e]:Object.assign({},r(t,i,void 0,void 0,n))})},21712:function(e,t,i){"use strict";i.d(t,{id:function(){return n},ks:function(){return o},pA:function(){return r}});const n="MSCC",r="MUID",o="eupubconsent-v2"},37299:function(e,t,i){"use strict";i.d(t,{e:function(){return r},n:function(){return n}});const n="consent-banner-container",r="onetrust-sdk"},71443:function(e,t,i){"use strict";i.d(t,{C:function(){return n},H:function(){return r}});const n="consent.onetrust",r="widgetHost.cookieConsent"},29815:function(e,t,i){"use strict";var n;i.d(t,{i:function(){return n}}),function(e){e.MSCCBanner="mscc",e.OneTrustBanner="onetrust",e.WidgetHost="widgethost",e.None="none"}(n||(n={}))},72344:function(e,t,i){"use strict";var n;i.d(t,{_:function(){return n}}),function(e){e[e.Unknown=0]="Unknown",e[e.Required=1]="Required",e[e.NotRequired=2]="NotRequired"}(n||(n={}))},85497:function(e,t,i){"use strict";var n;i.d(t,{o:function(){return n}}),function(e){e.Essential="ES",e.Advertising="AD",e.SocialMedia="SM",e.ThirdPartyAnalytics="AL"}(n||(n={}))},42640:function(e,t,i){"use strict";var n;i.d(t,{Q:function(){return n}}),function(e){e.C0001="C0001",e.C0002="C0002",e.C0003="C0003",e.C0004="C0004"}(n||(n={}))},76668:function(e,t,i){"use strict";var n;i.d(t,{f:function(){return n}}),function(e){e.Lax="lax",e.Strict="strict",e.None="none"}(n||(n={}))},35357:function(e,t,i){"use strict";i.d(t,{hI:function(){return l},iF:function(){return d},o4:function(){return a},rv:function(){return c}});var n=i(37299),r=i(21712),o=i(33379),s=i(9344);function a(){return(0,o.N)()&&null!=document.getElementById(n.n)}function c(){return a()&&null===(0,s.ej)(r.id)}function d(){return(0,o.N)()&&null!=document.getElementById(n.e)}function l(){return d()&&null===(0,s.ej)(r.ks)}},52144:function(e,t,i){"use strict";i.d(t,{A:function(){return s},U:function(){return n}});var n,r=i(72344),o=i(59049);!function(e){e[e.Initialized=1]="Initialized",e[e.CookieConsentProvider=2]="CookieConsentProvider",e[e.CookieConsentStatus=3]="CookieConsentStatus",e[e.ActiveCookieCategories=4]="ActiveCookieCategories"}(n||(n={}));const s=new o.v("CookieManagementStateKey");s.set(n.Initialized,!1),s.set(n.CookieConsentStatus,r._.Unknown)},36478:function(e,t,i){"use strict";i.d(t,{Q:function(){return g}});var n=i(42640),r=i(85497);const o={[n.Q.C0001]:r.o.Essential,[n.Q.C0002]:r.o.Advertising,[n.Q.C0003]:r.o.SocialMedia,[n.Q.C0004]:r.o.ThirdPartyAnalytics};var s=i(29815),a=i(72344),c=i(71443),d=i(52144),l=i(35357),u=i(33379);function g(e){if(d.A.get(d.U.Initialized))return;let t=s.i.None,i=a._.NotRequired;(0,u.N)()&&(e&&e.required?(t=s.i.WidgetHost,i=e.categories?a._.NotRequired:a._.Required,p(e.categories),window.addEventListener(c.H,(e=>p(e.detail)))):(0,l.o4)()?(t=s.i.MSCCBanner,i=(0,l.rv)()?a._.Required:a._.NotRequired,i===a._.Required?d.A.set(d.U.ActiveCookieCategories,[r.o.Essential]):d.A.set(d.U.ActiveCookieCategories,[...Object.values(r.o)])):(0,l.iF)()&&(t=s.i.OneTrustBanner,i=(0,l.hI)()?a._.Required:a._.NotRequired,h(),window.addEventListener(c.C,h))),d.A.set(d.U.CookieConsentStatus,i),d.A.set(d.U.CookieConsentProvider,t),d.A.set(d.U.Initialized,!0)}function p(e){const t=e&&Object.keys(e).filter((t=>Object.values(r.o).includes(t)&&1===e[t]))||new Array;t.includes(r.o.Essential)||t.unshift(r.o.Essential),d.A.set(d.U.ActiveCookieCategories,t)}function h(){const e=window.OnetrustActiveGroups,t=e&&e.trim().split(",").filter((e=>{const t=e&&e.trim();return Object.values(n.Q).includes(t)})).map((e=>{const t=e.trim();return o[t]}))||new Array;t.includes(r.o.Essential)||t.unshift(r.o.Essential),d.A.set(d.U.ActiveCookieCategories,t)}},9344:function(e,t,i){"use strict";i.d(t,{ej:function(){return m},jG:function(){return v},sq:function(){return b}});var n=i(85497);const r={[n.o.Essential]:["ANON","ANONCKNM","APP_ANON","BFB","BFBUSR","DefaultLocation","Edgecac","FreWv","GalleryMode","MC1","MS0","MSCC","MSFPC","MSNRPSAuth","MSNRPSSecAuth","MSPRequ","MUID","MUIDB","MicrosoftApplicationsTelemetryDeviceId","OptanonAlertBoxClosed","OptanonConsent","OvrlyTrf","PreferencesMsn","RC","RUM","RecentStocks","SRCHD","SRCHHPGUSR","SRCHUID","SRCHUSR","Sample","TOptOut","UMH2E","WLMMAC","_EDGE_S","_EDGE_V","_SS","_U","_cb","_cb_ls","_cb_svref","aace","ace","ahs-dismissed","ahs-installed","ahs-showings","ai_session","at","at-bing","bcookie","bingimage","bwssoc","cac","cb","cbypass","cfrecnt","child","cmdisp","cmwr","currentaccount","ddlcur","df","ecasession","eub","eupubconsent","eupubconsent-v2","gfrecnt","hidebn","i18next","ipt","ipv6","isdomainmigrated","lt","marketPref","mktreset","mniotd","mnmarket","msaOptout","msaoptout","nactk","no_read_more","ntps","numac","orfc_feeds","pbmi","pglt-edgeChromium-dhp","pglt-edgeChromium-ntp","pglt-microsoftNews-msnews","pglt-microsoftNews-startpage","pop","refresh-reason","sbc-dismissed","sbc-installed","sbc-showings","smd","sptmarket","timeZoneOffsetInMins","uaid","videoCookiesLastCategory","videoerrorcount","vjsusrpref","w10rp","w10rpls","weaDetectLocation","weaPeregrineDegreeType","weaPeregrineDetectLocation","weaPeregrineFavoriteLocations","weaPeregrineHomeLocation","weaPeregrineHomeLocationBackup","weaPeregrineRecentLocations","weaSpartanDegreeType","weaSpartanFavoriteLocations","weaSpartanHomeLocation","weaSpartanRecentLocations"],[n.o.Advertising]:["BizoID","adslrid","dub_downlevel","eAPID","ecadprovider","ecisession","ecmsession","ecsession"],[n.o.SocialMedia]:["promptDisplayCount"],[n.o.ThirdPartyAnalytics]:[]};var o=i(21712),s=i(29815),a=i(72344),c=i(76668),d=i(26415),l=i(52144),u=i(12884),g=i(33379),p=i(65135);const h=["at","at-bing","eupubconsent-v2","lt","MSNRPSSecAuth"],f=[";",","," "];function m(e){const t=(0,u.G8)();if(t){const i=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return i&&i.length>1?i[1]:null}return null}function v(){return m(o.pA)}function b(e,t,i,o,u,m,v){try{if(!l.A.get(l.U.Initialized))return p.M.sendAppErrorEvent(d.lIV),!1;if(void 0===i||i>0){if(!function(e){if(!(0,g.N)())return!1;const t=l.A.get(l.U.CookieConsentStatus),i=l.A.get(l.U.CookieConsentProvider),o=l.A.get(l.U.ActiveCookieCategories);let c=!1;switch(i){case s.i.MSCCBanner:case s.i.OneTrustBanner:case s.i.WidgetHost:c=function(e,t){for(const i of t){if(r[i].includes(e))return!0}let i=!1;const o=Object.keys(r).filter((e=>!t.includes(n.o[e])));for(const t of o){if(r[t].includes(e)){i=!0;break}}i||p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.sGX),{message:`Attempting to write a cookie: "${e}" not present in the cookie category mapping.`}));return!1}(e,o);break;default:c=t===a._.NotRequired,c||p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.fU5),{message:`Consent status should be '2' (NotRequired), but is set to '${t}'`}))}return c}(e))return!1;if(null==t)return p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.AvP),{message:`Cookie value is being set to either 'undefined' or 'null'. cookie name: "${e}", cookie value: "${t}"`})),!1;const o=typeof t;"string"!==o&&(t=JSON.stringify(t),p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.bAs),{message:`Cookie value is not of string type. observed type: "${o}". cookie name: "${e}"`})));for(const i of f)if(e.indexOf(i)>-1||t.indexOf(i)>-1)return p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.AvP),{message:`Cookie name and/or value contains invalid character: '${i}'. cookie name: "${e}"`})),!1;i>365&&p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.Vwf),{message:`Cookie expiration time: ${i} days is greater than suggested max duration of 365 days (1 year). cookie name: "${e}"`}));const c=e.length+(t&&t.length||0);c>1e3&&!h.includes(e)&&p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.HFn),{message:`Cookie size: "${c} Bytes" is too big (> 1000 Bytes). cookie name: "${e}"`}))}return function(e,t,i,n,r,o,s){let a;const d=[e,"=",t];if(i<0)a="Fri, 31 Dec 1999 23:59:59 GMT";else if(i){const e=new Date;e.setTime(e.getTime()+864e5*i),a=e.toUTCString()}a&&d.push(";expires=",a);n&&d.push(";domain=",n);r&&d.push(";path=",r);o&&d.push(";secure");s&&s!==c.f.Lax&&(d.push(";samesite=",s.toString()),s!==c.f.None||o||d.push(";secure"));document&&(document.cookie=d.join(""))}(e,t,i,o,u,m,v),!0}catch(t){return p.M.sendAppErrorEvent(Object.assign(Object.assign({},d.sX$),{message:`trySetCookie() failed with error: "${t.message}". cookie name: "${e}"`})),!1}}},68679:function(e,t,i){"use strict";var n;i.d(t,{C:function(){return n}}),function(e){e[e.Exceptional=0]="Exceptional",e[e.Fallback=1]="Fallback"}(n||(n={}))},79664:function(e,t,i){"use strict";var n;i.d(t,{z:function(){return n}}),function(e){e[e.Alert=0]="Alert",e[e.NoAlert=1]="NoAlert",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(n||(n={}))},63045:function(e,t,i){"use strict";var n;i.d(t,{w:function(){return n}}),function(e){e[e.Production=0]="Production",e[e.Local=1]="Local"}(n||(n={}))},49972:function(e,t,i){"use strict";function n(e,t){if(e instanceof Error){const i=e.toString();return t&&e.stack?`${i}, Stack: ${e.stack}`:i}return"string"==typeof e?e:function(e){try{return JSON.stringify(e)}catch(e){return""}}(e)}i.d(t,{n:function(){return n}})},76323:function(e,t,i){"use strict";function n(e){let t,i=!1;const n=function(){return i||(i=!0,t=e()),t};return n.cache={clear:()=>{i=!1,t=void 0}},n}i.d(t,{p:function(){return n}})},66213:function(e,t,i){"use strict";i.d(t,{jG:function(){return M},Yq:function(){return x}});var n,r=i(12108),o=i(33799),s=i(83097),a=i(26415),c=i(22704),d=i(68848),l=i(2040),u=i(5633),g=i(9313),p=i(75970),h=i(12884),f=i(33379),m=i(53578),v=i(23401);!function(e){e.App="app",e.Web="web"}(n||(n={}));var b=i(58155),y=i(88352),C=i(54804),S=i(79022),w=i(46336),T=i(92162),k=i(63045),O=i(57967),E=i(72303),I=i(9344),A=i(82530);class P{constructor(e,t,i){this.initializeAppEnvironment(e,t,i)}get Ecasession(){return void 0===this.ecasession&&(this.ecasession=(0,I.ej)("ecasession")||"init"),this.ecasession}get BrowserOptOut(){return void 0===this.browserOptOut&&(this.browserOptOut="1"===(0,I.ej)("TOptOut")),this.browserOptOut}get WpoData(){return this.wpoData}set WpoData(e){this.wpoData=e,this.addWpoFlights()}get isMobile(){var e;return"phone"===(null===(e=C.Al.ClientSettings)||void 0===e?void 0:e.deviceFormFactor)}get ActivityId(){return this.activityId}set ActivityId(e){this.activityId=e,C.Al.ClientSettings=Object.assign(Object.assign({},C.Al.ClientSettings),{aid:e})}get EnvironmentConfigUrl(){const e=new URL("",this.environmentConfigUrl);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams((0,h.zp)()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get ContentServiceUrlBase(){const e=new URL("",this.contentServiceUrlBase);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.content","dev");const t=new URLSearchParams((0,h.zp)()).get("env.content");return t&&e.searchParams.set("env.content",t),e}get CurrentRequestTargetScope(){return this.currentRequestTargetScope}set CurrentRequestTargetScope(e){this.currentRequestTargetScope=e}get LocaleContentMarket(){var e,t,i;return(0,d.H)(C.Al.ClientSettings&&C.Al.ClientSettings.locale)||(null===(t=null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.locale)||void 0===t?void 0:t.content)||(null===(i=this.currentRequestTargetScope)||void 0===i?void 0:i.locale)}get LocaleDisplayLanguage(){return(0,d.H)(C.Al.ClientSettings&&C.Al.ClientSettings.locale,!0)||this.LocaleContentMarket}get LocaleContentMarketString(){const e=this.LocaleContentMarket;return e&&e.language&&e.market?(0,d.p)(e):""}get LocaleDisplayLanguageString(){const e=this.LocaleDisplayLanguage;return e&&e.language&&e.market?(0,d.p)(e):""}get CurrentMarket(){return this.currentMarket}set CurrentMarket(e){this.currentMarket=e}get EnableFiveColLayout(){return this.enableFiveColLayout}set EnableFiveColLayout(e){this.enableFiveColLayout=e}get EnableSixColLayout(){return this.enableSixColLayout}set EnableSixColLayout(e){this.enableSixColLayout=e}get Environment(){return this.environment}set Environment(e){this.environment=e}get StaticDomain(){return this.staticDomain}get HostPage(){return this.hostPage}set HostPage(e){this.hostPage=e}get AppType(){return this.appType}get AuthCookieName(){return this.authCookieName}set AuthCookieName(e){this.authCookieName=e}get UseOneServiceAuthEndpoints(){return this.useOneServiceAuthEndpoints}set UseOneServiceAuthEndpoints(e){this.useOneServiceAuthEndpoints=e}get UseOneServiceAnonAuthEndpoints(){return this.useOneServiceAnonAuthEndpoints}set UseOneServiceAnonAuthEndpoints(e){this.useOneServiceAnonAuthEndpoints=e}get UseAuthFetch(){return this.useAuthFetch}set UseAuthFetch(e){this.useAuthFetch=e}get AccountInfoPromise(){return this.accountInfoPromise}set AccountInfoPromise(e){this.accountInfoPromise=e}get ResolvedAccountInfo(){return this.resolvedAccountInfo}set ResolvedAccountInfo(e){this.resolvedAccountInfo=e}get BuildVersion(){return this.buildVersion||""}get ClarityEnabled(){return this.clarityEnabled}set ClarityEnabled(e){this.clarityEnabled=e}get IsWinAADUser(){return this.isWinAADUser}set IsWinAADUser(e){this.isWinAADUser=e}get RootTelemetryId(){return this.rootTelemetryId}set RootTelemetryId(e){this.rootTelemetryId=e}get TrackInfo(){return this.trackInfo}set TrackInfo(e){this.trackInfo=e}get UserId(){return this.getUserMuid()||this.userId}set UserId(e){this.userId=e}get OneServiceApiKey(){return this.oneServiceApiKey}set OneServiceApiKey(e){this.oneServiceApiKey=e}get IsDebug(){return this.isDebug}get ShowMnsCreatorDashboard(){return this.showMnsCreatorDashboard}get contentLinkHost(){return this.currentContentLinkHost}get IsChinaCompliance(){return this.isChinaCompliance}get isGccModUser(){if(this.AccountInfoPromise)return this.AccountInfoPromise.then((e=>(null==e?void 0:e.region_scope)===m.iN.GCC_MODERATE))}get WidgetAttributes(){return this.widgetAttributes}get ServiceUrlBase(){const e=new URL("",this.serviceUrlBase);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,h.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get FeedServiceUrlBase(){if(!this.feedServiceUrlBase)return null;const e=new URL("",this.feedServiceUrlBase);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,h.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get EnterpriseServiceUrlBase(){if(!this.enterpriseServiceDomainUrl)return;const e=new URL("",this.enterpriseServiceDomainUrl);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.service","dev");const t=new URLSearchParams((0,h.zp)()).get("env.service");return t&&e.searchParams.set("env.service",t),e}get isAadAccountUser(){return this.CurrentRequestTargetScope&&this.CurrentRequestTargetScope.audienceMode===r.F.Enterprise&&this.ResolvedAccountInfo&&this.ResolvedAccountInfo.account_type&&this.ResolvedAccountInfo.account_type===o.Qm.AAD}get IsFrePage(){return this.isFrePage}get DisableCachingConfigs(){return this.disableCachingConfigs}get EnableConfigService(){const e=b.c.getQueryParameterByName("enableConfigService",(0,h.zp)());return e?"true"===e.toLocaleLowerCase():this.enableConfigService}get EnableCMSPPEConfigs(){return C.Al&&C.Al.EnableCMSPPEConfigs}get IsMultiConfigRetrievalEnabled(){return this.isMultiConfigRetrievalEnabled}get DisableContentPreviewCache(){return this.disableContentPreviewCache}get SendFeedCallActivityIdInHeader(){return this.sendFeedCallActivityIdInHeader}get DisableContentCacheIDBRead(){const e=b.c.getQueryParameterByName("disableContentCacheIDBRead",(0,h.zp)());return e?"true"===e:this.disableContentCacheIDBRead}get ConfigServiceBaseUrl(){return this.configServiceBaseUrl}get FeatureFlags(){return this.featureFlags}get ConfigRootUrl(){if(!this.configRootUrl)return null;const e=new URL("",this.configRootUrl);"dev"===new URLSearchParams((0,h.zp)()).get("env")&&e.searchParams.set("env.config","dev");const t=new URLSearchParams((0,h.zp)()).get("env.config");return t&&e.searchParams.set("env.config",t),e}get CacheBustingIdentifier(){return this.cacheBustingIdentifier}get IsGitConfigs(){return this.isGitConfigs}get CountryCode(){return this.countryCode}set CountryCode(e){this.countryCode=e}get ActivityIdLowerCaseNoHypens(){return(C.Al&&C.Al.ClientSettings&&C.Al.ClientSettings.aid||"").toLowerCase()}get Latitude(){return this.latitude}get Longitude(){return this.longitude}get ConfigCacheProperties(){return this.configCacheProperties}get ConfigOrigins(){return this.configOrigins}setConfigOrigin(){const e={feature:k.w.Production,loc:k.w.Production};return this.IsGitConfigs&&!this.EnableConfigService||(e.feature=k.w.Production,e.loc=k.w.Production),e}static getInstance(e=null,t=null,i=null){return P._instance||(P._instance=new P(e,t,i))}static resetInstance(e=null,t=null,i=null){return P._instance=new P(e,t,i),M=P._instance,P._instance}initializeAppEnvironment(e,t,i){const n=(0,h.Td)(),r=(0,f.N)()?(0,h.$w)(l.Xs):null,o=(0,h.l4)(),s=(0,h.Dp)();let c=null;const d=C.Al&&C.Al.ClientSettings;if(d){this.isChinaCompliance=n.toLowerCase().endsWith(".cn")||d.useCnDomain||!1,this.activityId=this.tryReformatGuid(d.aid),this.currentMarket=this.LocaleContentMarketString||d.apps_locale,this.countryCode=d.geo_country,this.latitude=d.geo_lat,this.longitude=d.geo_long,this.configRootUrl=d.configRootUrl?new URL("",d.configRootUrl):null,c=(0,u.s)(d.pcsInfo&&d.pcsInfo.env||"prod"),this.setAccountInfoPromise(),this.appType=d.apptype||"",this.authCookieName=this.getAuthCookieName(),this.useOneServiceAuthEndpoints=!1,this.useOneServiceAnonAuthEndpoints=!1,this.useAuthFetch=!1,this.featureFlags=d.featureFlags,this.disableCachingConfigs=!(!this.featureFlags||!this.featureFlags.disableCachingConfigs)&&"true"===this.featureFlags.disableCachingConfigs,this.enableConfigService=!this.featureFlags||!this.featureFlags.enableConfigService||"true"===this.featureFlags.enableConfigService,this.disableContentPreviewCache=!(!this.featureFlags||!this.featureFlags.disableContentPreviewCache)&&"true"===this.featureFlags.disableContentPreviewCache,this.disableContentCacheIDBRead=!(!this.featureFlags||!this.featureFlags.disableContentCacheIDBRead)&&"true"===this.featureFlags.disableContentCacheIDBRead,this.sendFeedCallActivityIdInHeader=(!this.featureFlags||!this.featureFlags.disableActivityIdInHeader||"true"!==this.featureFlags.disableActivityIdInHeader)&&("edge"===this.appType||"hub"===this.appType),this.cacheBustingIdentifier=d.cbid;const{bundleInfo:e,pcsInfo:t}=d||{},{configsHash:i,hash:r,locConfigsHash:o}=e||{};r&&i&&o&&(this.configCacheProperties={bundleHash:r,configHash:i,locHash:o});const s=this.getRunTimePropertyBag(e,t);(0,a.GQ)(s),(0,O.r7)(s),this.configIndexDocId=d.configIndexDocId,this.widgetAttributes=d.widgetAttributes}const p=(0,u.s)(b.c.getQueryParameterByName("env",o));this.environment=p||c||u.q.prod;const m=d&&d.servicesEndpoints,v=m&&m.feedService&&m.feedService.domain||s;let y,S;if((0,f.N)()){const e=new URLSearchParams(window.location.search);y=e.get("1ss"),S=e.get("1sfs")||y,this.serviceDomainUrl=e.get("1s")||(y||S)&&new URL(y||S).origin||v}else this.serviceDomainUrl=i||v;this.staticDomain=new URL(v).host,this.enterpriseServiceDomainUrl=m&&m.enterpriseFeedService&&m.enterpriseFeedService.domain,this.crsVersion=m&&m.crs&&m.crs.v,this.crsDomain=m&&m.crs&&m.crs.domain,this.serviceUrlBase=e||y&&new URL(y)||r&&r.getAttribute(l.X8)&&new URL("",r.getAttribute(l.X8))||new URL("/service/",this.serviceDomainUrl),this.feedServiceUrlBase=S&&new URL(S)||this.serviceDomainUrl&&new URL("/service/",this.serviceDomainUrl)||void 0,this.hostPage=g.N.getHostPageFromUrl(o),this.isFrePage="1"===b.c.getQueryParameterByName("fre",o),this.userId=this.getUserMuid(),this.rootTelemetryId=r?Number(r.getAttribute(l.DB)):0;const w=r&&r.getAttribute(l.uw),T=r&&r.getAttribute(l.Kz);if(this.trackInfo={sitePage:{page_product:w,page_type:T}},this.currentContentLinkHost=this.createContentLinkHost(),this.setTargetScope(),this.isGitConfigs=this.useGitConfigs(),this.addHubWindowsFlight(o),this.configOrigins=this.setConfigOrigin(),"mmx"===this.appType&&C.Al&&!C.Al.IsMmxWwwContentRequest){const e=(0,h.Td)().endsWith(".cn")?"https://assets.msn.cn":"https://assets.msn.com";this.contentServiceUrlBase=new URL("/content/",e)}else this.contentServiceUrlBase=this.serviceDomainUrl?new URL("/content/",this.serviceDomainUrl):void 0;this.isMultiConfigRetrievalEnabled=this.useMultiConfigsRetrieval();const k=this.getConfigServiceBaseUrl(this.isMultiConfigRetrievalEnabled,t);this.configServiceBaseUrl=k?new URL("",k):null,this.environmentConfigUrl=this.serviceDomainUrl?new URL("/config/v1/",this.serviceDomainUrl):void 0,this.isDebug=(b.c.getQueryParameterByName("debug",o)||"").toLowerCase()in{1:1,true:1}||(b.c.getQueryParameterByName("item",o)||"").toLowerCase().indexOf("/debug")>0||n.includes("localhost"),this.showMnsCreatorDashboard=null!=b.c.getQueryParameterByName("mnsDash",o),this.oneServiceApiKey=this.getOneServiceApiKey(),this.enableFiveColLayout=!1,this.enableSixColLayout=!1}getOneServiceApiKey(){if(this.widgetAttributes&&this.widgetAttributes.feed&&this.widgetAttributes.feed.apiKey)return this.widgetAttributes.feed.apiKey;let e;switch(this.appType){case"windowsShell":e="pWw5OmQehOA0XNfgcgrTrwEJZJJJzE83ovtTQx6JRG";break;case"bingHomepage":case"distribution":e="QMmdky7jrTlM4mWJmMYQTi71lp678KyZJBKHCAyKCg";break;case"sharedWidgets":e="hFWgtnoLG1BXruRRhEVJo5ACP8414XUG0Ric6JbyND";break;case"newsAndInterests":case"windowsNewsPlus":case"winWidgets":e="AEbyVYqTQAPvg4lWwMSFHaLkDzl3weRKKIDDInLQUj";break;case"travel":e="8RwD77wJgNQmmVBdGmZsK6vvPCrG58iRCQRoPsE4JJ";break;default:e="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM"}return e}getUserMuid(){let e;const t=(0,I.jG)();return(0,S.Z)(t)&&(e="m-"+t),e}getConfigServiceBaseUrl(e=!0,t=null){const i=this.isGitConfigs?"/resolver/api/resolve/v3/config/":`/resolver/api/resolve/${e?"v2/":""}configindex/`;return t?t+i:(A&&A.env,(0,f.N)()&&(this.renderWidgets()||"sharedWidgets"===this.appType||"bingHomepage"===this.appType||"distribution"===this.appType)?(this.crsDomain||"https://www.msn."+(this.IsChinaCompliance?"cn":"com"))+i:(0,h.Dp)()?(0,h.Dp)()+i:null)}useMultiConfigsRetrieval(){const e=(0,h.zp)();if(e){const t=b.c.getQueryParameterByName("isMultiConfigRetrievalEnabled",e);if(t)return"true"===t.toLocaleLowerCase()}return!this.featureFlags||!this.featureFlags.isMultiConfigRetrievalEnabled||"true"===this.featureFlags.isMultiConfigRetrievalEnabled}useGitConfigs(){const e=(0,h.zp)();if(e){const t=b.c.getQueryParameterByName("isGitConfig",e);if(t)return"true"===t.toLocaleLowerCase()}const t=this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments;return(0,T.LB)(this.crsVersion,t,this.configIndexDocId,this.appType)}renderWidgets(){const e=(0,h.zp)();if(e){const t=b.c.getQueryParameterByName("renderWidget",e);if(t)return"true"===t.toLocaleLowerCase()}return!1}getAuthCookieName(){let e;switch((C.Al&&C.Al.ClientSettings).apptype||""){case"windows":e=C.Al.ClientSettings.pagetype===r.G.Windows?s.EW.Anon:s.EW.AppAnon;break;case"firstParty":case"hub":case"microsoftNews":case"views":case"community":case"weather":case"finance":case"traffic":case"homePage":case"hybrid":case"shopping":e=s.EW.Anon;break;default:e=s.EW.AppAnon}return e}setAccountInfoPromise(){this.ResolvedAccountInfo=null,this.AccountInfoPromise=new Promise((e=>{if(!((0,f.N)()&&window.chrome&&window.chrome.authPrivate&&window.chrome.authPrivate.getPrimaryAccountInfo))return e(null);const t=Math.round(performance.now());window.chrome.authPrivate.getPrimaryAccountInfo((i=>{const n=Math.round(performance.now());return(0,c.Ou)()["Auth.GetPrimaryAccountInfo"]=n-t,this.ResolvedAccountInfo=i,e(i)}))})),this.AccountInfoPromise}createContentLinkHost(){return"www.msn."+(this.currentMarket===v.I.ZHCN?"cn":"com")}tryReformatGuid(e){if(e&&32===e.length){const t=e.match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/i);t&&(e=t.slice(1).join("-"))}return e}setTargetScope(){if(!C.Al||!C.Al.ClientSettings)return;let e;const t=decodeURIComponent((0,I.ej)(s.IR.AppAnonCookieExists)),i=(0,I.ej)(l.nM),{child:o}=t&&(0,w.dW)(t)||{};e=t&&(1===o||i)?r.F.Kids:C.Al.ClientSettings.audienceMode||r.F.Adult;const{browser:a,deviceFormFactor:c,domain:d,ocid:u,os:g,pagetype:p}=C.Al.ClientSettings,h=C.Al.CurrentFlights.split(",");if(this.currentRequestTargetScope={audienceMode:e,browser:a,deviceFormFactor:c,domain:d,locale:{content:this.LocaleContentMarket,display:(0,T.uG)(h)?this.LocaleDisplayLanguage:this.LocaleContentMarket},ocid:u,os:g,platform:n.Web,pageType:p},!this.currentRequestTargetScope.locale&&y.b.stringHasData(this.LocaleContentMarketString)){const e=this.LocaleContentMarketString.split("-");e.length>1&&(this.currentRequestTargetScope.locale={language:e[0],market:e[e.length-1],content:{language:e[0],market:e[e.length-1]},display:{language:e[0],market:e[e.length-1]}})}y.b.stringHasData(C.Al.CurrentFlights)&&(this.currentRequestTargetScope.pageExperiments=h),this.addWpoFlights()}getWpoModel(e){let t;return null!=e&&(t=(0,w.dW)(e)),t}addWpoFlights(){if(!this.FeatureFlags||!this.FeatureFlags.wpoEnabled)return;const e=this.currentRequestTargetScope.pageExperiments||[];if(e.includes("prg-wpo-stopwpocrs"))return;const t=this.getWpoModel(this.wpoData),i=(0,p.U)(t);if(!i||!i.length)return;const n=i.map((e=>e.toLowerCase()));this.currentRequestTargetScope.pageExperiments=e.concat(n)}addHubWindowsFlight(e){if(this.isGitConfigs&&"hub"===this.appType&&(0,E.Pv)(e)){const e=this.currentRequestTargetScope.pageExperiments||[];this.currentRequestTargetScope.pageExperiments=e.concat("prg-iswin-hub")}}getRunTimePropertyBag(e,t){const i={appType:this.appType};t&&(i.pcsVersion=t.v,i.pcsEnv=t.env);const{alias:n,v:r}=e||{};return this.buildVersion=r||"",i.build=this.buildVersion,n&&(i.buildAlias=n),i}}const x=P.getInstance;let M=P.getInstance();P.resetInstance},64508:function(e,t,i){"use strict";i.d(t,{Qe:function(){return s}});var n=i(95527),r=i(46336),o=i(33379);function s(){var e;return(0,o.N)()?(0,r.dW)(document.head.dataset.clientSettings||(null===(e=document.getElementsByClassName(n.fw)[0])||void 0===e?void 0:e.getAttribute("data-client-settings"))):null}},53578:function(e,t,i){"use strict";var n,r;i.d(t,{Ak:function(){return a},I4:function(){return o},d3:function(){return s},iN:function(){return n},oD:function(){return c},pm:function(){return r}}),function(e){e.GLOBAL="GLOBAL",e.GCC_MODERATE="GCC_MODERATE"}(n||(n={})),function(e){e[e.success=0]="success",e[e.mfaRequired=1]="mfaRequired",e[e.otherError=2]="otherError"}(r||(r={}));const o="d7b530a4-7680-4c23-a8bf-c52c121d2e87",s="https://enterprisenews.microsoft.com",a="EnterpriseOneService",c=87},5633:function(e,t,i){"use strict";var n;function r(e){switch(e){case n.prod:return n.prod;case n.int1:return n.int1;case n.int:case n.intpr:case n.intpef:return n.int;default:return null}}i.d(t,{q:function(){return n},s:function(){return r}}),function(e){e.prod="prod",e.int1="int1",e.int="int",e.intpr="intPR",e.intpef="intPef"}(n||(n={}))},54804:function(e,t,i){"use strict";i.d(t,{nP:function(){return y},Al:function(){return C}});var n,r=i(12884),o=i(33379),s=i(2040),a=i(68848);!function(e){e.EdgeChromium="edgeChromium"}(n||(n={}));var c=i(12108),d=i(58155),l=i(65337),u=i(46336),g=i(33954),p=i(26415),h=i(53525);function f(e){return"shd_"+e}var m=i(53578),v=i(95527);class b{constructor(e){this.enableCMSPPEConfigs=!1,this.initializeHeadData(e)}get Locale(){return this.locale}get MarketDir(){return this.marketDir}set MarketDir(e){this.marketDir=e}get CurrentFlights(){return this.currentFlights||""}set CurrentFlights(e){this.currentFlights=e,this.currentFlightSet=new Set((e||"").split(","))}get CurrentFlightSet(){return this.currentFlightSet}get ClientSettings(){return this.clientSettings}set ClientSettings(e){this.clientSettings=e}get EnableCMSPPEConfigs(){return this.enableCMSPPEConfigs}get UserIsSignedIn(){return this.userIsSignedIn}get IsPreload(){return this.isPreload}set IsPreload(e){this.isPreload=e}get IsPrerender(){return this.isPrerender}set IsPrerender(e){this.isPrerender=e}get IsAppCache(){return this.isAppcache}get IsBlendedEnterprise(){return this.isBlendedEnterprise}set IsBlendedEnterprise(e){this.isBlendedEnterprise=e}get IsMmxWwwContentRequest(){return this.isMmxWwwContentRequest}set IsMmxWwwContentRequest(e){this.isMmxWwwContentRequest=e}get IsServiceWorkerCache(){return this.isServiceWorkerCache}get LastKnownAppVersion(){return this.lastKnownAppVersion}get AnonCookieName(){return this.anonCookieName}set AnonCookieName(e){this.anonCookieName=e}get SsoComplete(){return this.ssoComplete}get AadState(){return this.aadState}set AadState(e){this.aadState=e}set LocaleName(e){this.locale=e}static getInstance(){return b._instance||(b._instance=new b)}static resetInstance(e){return b._instance=new b(e),C=b._instance,b._instance}initializeHeadData(e){if(e)return void this.initializeFromData(e);if(this.newRidNeeded=void 0,this.lastUsedActivityIdBacking=void 0,this.locationSearch=(0,r.zp)(),this.htmlElement=(0,o.N)()?(0,r.SV)(s.x$.html)[0]:null,this.headElement=(0,o.N)()?(0,r.SV)(s.x$.head)[0]:null,this.applicationCache=(0,o.N)()?window.applicationCache:null,this.widgetSettingsElement=(0,o.N)()?(0,r.ZI)(v.fw)[0]:null,!this.htmlElement||!this.headElement)return;this.initializeFromDom(),this.applicationCache&&this.htmlElement.getAttribute(s._J.manifestAttributeName)?this.isAppcache=!0:window&&window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&(this.isServiceWorkerCache=!0),(this.isAppcache||this.isServiceWorkerCache)&&(this.initializeFromStorage(),this.initializeLastUsedActivityId());const t=(0,a.H)(this.clientSettings&&this.clientSettings.locale),i=this.clientSettings&&t&&t.language&&t.market;this.locale=i?(0,a.p)(t):"";const n=this.htmlElement.getAttribute(s.cp);this.marketDir=n&&n.toLocaleLowerCase()||"",this.setQueryItemProvidedValues();const c=(this.widgetSettingsElement||this.headElement).getAttribute(s.js);if(c){const e=(0,u.dW)(c);this.anonCookieName=e.anonckname,this.userIsSignedIn=1===e.signedin}d.c.getQueryParameterByName("backgroundpreload",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPreload=!0,this.logDocumentVisibility()),d.c.getQueryParameterByName("prerender",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPrerender=!0,this.logDocumentVisibility()),(0,o.N)()&&window.ShellFeedsApp&&window.ShellFeedsApp.shellFeedsExperienceInfo&&!window.ShellFeedsApp.shellFeedsExperienceInfo.isWebviewVisible&&0===window.ShellFeedsApp.shellFeedsExperienceInfo.buttonInteraction&&(this.isPreload=!0),this.setIsBlendedEnterprise(),this.setIsMmxWwwContentRequest()}get lastUsedActivityId(){if(this.lastUsedActivityIdBacking)return this.lastUsedActivityIdBacking;const e=this.getStoredActivityIdKey(),t=(0,l.$o)().getItem(e);return t&&(this.lastUsedActivityIdBacking=(0,u.dW)(t)),this.lastUsedActivityIdBacking}set lastUsedActivityId(e){const t=this.getStoredActivityIdKey();e?e.id&&e.ts&&((0,l.$o)().setItem(t,JSON.stringify(e)),this.lastUsedActivityIdBacking=e):(0,l.$o)().removeItem(t)}get storedHeadData(){return function(e){const t=f(e),i=(0,l.$o)().getItem(t);return i?(0,u.dW)(i):null}(this.clientSettings.pagetype)}set storedHeadData(e){!function(e,t){const i=f(e);t?(0,l.$o)().setItem(i,JSON.stringify(t)):(0,l.$o)().removeItem(i)}(this.clientSettings.pagetype,e)}initializeFromData(e){var t;this.clientSettings=e.clientSettings,this.setFlights(e.clientInfo),this.setQueryItemProvidedValues();const i=(0,a.H)(this.clientSettings&&(null===(t=this.clientSettings)||void 0===t?void 0:t.locale)),n=this.clientSettings&&i&&i.language&&i.market;this.locale=n?(0,a.p)(i):"",this.marketDir=e.marketDir&&e.marketDir.toLocaleLowerCase()||"",this.setIsBlendedEnterprise(),this.setIsMmxWwwContentRequest()}initializeFromDom(){this.setFlights((this.widgetSettingsElement||this.headElement).getAttribute(s.um));const e=(this.widgetSettingsElement||this.headElement).getAttribute(s.Zx);if(!e)return;if(this.clientSettings=(0,u.dW)(e),!this.clientSettings)return;this.calculateForwardableParams();const{pagetype:t}=this.clientSettings;if(!t){const e=(this.widgetSettingsElement||this.headElement).getAttribute(s.AU);this.clientSettings.pagetype=null==e?void 0:e}if(t)try{const e=(0,l.$o)().getObject(s.It.pageVersions)||{};this.lastKnownAppVersion=e[t];const{bundleInfo:i}=this.clientSettings;i&&this.lastKnownAppVersion!==i.v&&(e[t]=i.v,(0,l.$o)().setObject(s.It.pageVersions,e))}catch(e){g.k.log(`${this.logPrefix()} couldn't complete local storage related operation.`)}}initializeFromStorage(){const e=this.storedHeadData;e&&this.populateFromApiResponse(e)}populateFromApiResponse(e){if(!e)return;const t=e.clientSettings,i=e.info;if(!t||!i)return;if(this.clientSettings.pageGenTime>=t.pageGenTime)return void(this.storedHeadData=null);const n=this.clientSettings.queryparams,r=this.clientSettings&&this.clientSettings.bundleInfo&&this.clientSettings.bundleInfo.v;this.clientSettings=t,this.clientSettings.bundleInfo=Object.assign(this.clientSettings.bundleInfo||{},{v:r}),this.clientSettings.queryparams=n,this.calculateForwardableParams(),this.setFlights(i)}calculateForwardableParams(){const e=this.clientSettings?this.clientSettings.queryparams:"";if(!e)return;const t=e.toLocaleLowerCase(),i=["fdhead","item"].map((e=>{const i=d.c.getQueryParameterByName(e,t);return i?`${e}=${encodeURIComponent(i)}`:null})).filter((e=>e));this.clientSettings.forwardablequeryparams=i.join("&")}initializeLastUsedActivityId(){const e=this.lastUsedActivityId,t=this.clientSettings.aid,i=(0,h.Z)(this.clientSettings.pageGenTime).getTime();this.newRidNeeded=!(!e||!i||e.id!==t),i&&(!e||i>e.ts)&&(this.lastUsedActivityId={id:t,ts:i})}setFlights(e){this.currentFlights=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),this.currentFlightSet=new Set(this.currentFlights.split(","))}setIsBlendedEnterprise(){this.IsBlendedEnterprise=this.clientSettings&&this.clientSettings.audienceMode===c.F.Enterprise&&this.clientSettings.browser&&this.clientSettings.browser.browserType===n.EdgeChromium&&parseInt(this.clientSettings.browser.version)>=m.oD}setIsMmxWwwContentRequest(){this.isMmxWwwContentRequest=this.currentFlights&&this.currentFlights.includes("prg-mmxcontent-t")}setQueryItemProvidedValues(){const e=d.c.getParamsWithItems((0,r.zp)(),!0),t=e.find((e=>"cms"===e.key));this.enableCMSPPEConfigs=t&&"ppe"===t.value,this.setCurrentFlightsTestOverride(e)}setCurrentFlightsTestOverride(e){if((0,r.Td)().toLowerCase().includes("localhost")&&e){const t=e.find((e=>"flights"===e.key));t&&(this.currentFlights=t.value,this.currentFlightSet=new Set(this.currentFlights.split(",")))}}getStoredActivityIdKey(){return"sai_"+this.clientSettings.pagetype}logPrefix(){return"HeadData:"+((0,o.N)()?"":` [Head:${this.widgetSettingsElement||this.headElement}] and [Html:${this.htmlElement}]`)}logDocumentVisibility(){(0,o.N)()&&((0,p.GQ)({isVisible:"visible"===document.visibilityState}),document.addEventListener("visibilitychange",(()=>{(0,p.GQ)({isVisible:"visible"===document.visibilityState})})))}}const y=b.getInstance;let C=b.getInstance();b.resetInstance},9313:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});var n,r=i(2040);!function(e){e.getHostPageFromUrl=function(e){if(!e)return;const t=new URL(e),i=t.hostname,n=t.pathname.split("/"),o=(i.match(/[^.]+\.[^.\d]+$/)||{})[0]||"";if(n.length<=r.Qw)return{originalUrl:e,categoryKey:null,verticalKey:null,hostName:i,topDomain:o};const s=5===n[1].length&&2===n[1].split("-").length?1:0,a={originalUrl:e,categoryKey:n[2+s],verticalKey:n[1+s],hostName:i,topDomain:o};return n.length>=r.Qw&&(a.subcategoryKey=n[3+s]),a}}(n||(n={}))},23401:function(e,t,i){"use strict";var n;i.d(t,{I:function(){return n}}),function(e){e.BR="pt-br",e.DEDE="de-de",e.ENAU="en-au",e.ENCA="en-ca",e.ENGB="en-gb",e.ENUS="en-us",e.ESMX="es-mx",e.FRCA="fr-ca",e.FRFR="fr-fr",e.IN="en-in",e.HUHU="hu-hu",e.KOKR="ko-kr",e.JAJP="ja-jp",e.PTBR="pt-br",e.RURU="ru-ru",e.RUXL="ru-xl",e.ZHCN="zh-cn"}(n||(n={}))},90846:function(e,t,i){"use strict";i.d(t,{G5:function(){return y},P8:function(){return S},aS:function(){return E},ac:function(){return p},hk:function(){return O},iG:function(){return k},jC:function(){return w},lT:function(){return T},mb:function(){return b},me:function(){return I},sM:function(){return g},t0:function(){return A},x6:function(){return v}});var n=i(64508),r=i(56786),o=i(2040),s=i(16854),a=i(33379),c=i(49926),d=i(33954),l=i(76323),u=i(46336);const g="currentaccount",p=365,h={newsAndInterests:1,ugc:1,windowsNewsbar:1,windowsNewsPlus:1,winWidgets:1,windowsShell:1},f={edgeChromium:1},m=(0,l.p)((()=>((0,a.N)()&&(0,n.Qe)()||{}).apptype));const v=(0,l.p)((()=>{const e=(0,c.AE)(g),t=e&&(0,u.dW)(decodeURIComponent(e)),{login_hint:i}=t||{};return i&&t})),b=(0,l.p)((()=>!!(0,c.AE)(g))),y=(0,l.p)((()=>S()&&(v()||!k()))),C=(0,l.p)((()=>{var e;return(0,a.N)()&&!(m()in h)&&(e=/\bprg-nodualauth($|;|,)/,!((0,a.N)()&&(document.head.dataset.info||"").match(e)))})),S=(0,l.p)((()=>C()&&!(m()in f))),w=(0,l.p)((()=>C()&&(!(m()in f)||!b()))),T=(0,l.p)((()=>C()&&!A()));function k(){return!!(0,c.AE)(o.Li)}function O(){return A()}function E(){const e=(0,r.nh)();if(e)return d.k.log("dual-auth: tryGet1SAuthToken returned live tokens"),e;const t=(0,r.Wl)();if(t)return d.k.log(`dual-auth: tryGet1SAuthToken returned cached tokens that are ${(0,r.wX)()}`),t;d.k.log("dual-auth: tryGet1SAuthToken returned empty tokens")}function I(e,t){const i={};return e&&(i[o.Yu.authorization]=`Bearer ${e}`),t&&(i[o.Yu.userIdToken]=t),i}function A(){return S()&&(0,s.YU)()||y()&&(y()&&!(0,s.YU)()&&v()&&"expired"==(0,r.wX)()||(0,s.SY)())}},56786:function(e,t,i){"use strict";i.d(t,{Wl:function(){return c},nh:function(){return g},tx:function(){return u},wX:function(){return d}});var n=i(65337);const r="1s-tokens";var o;let s,a;function c(){return s=l(),s&&s.accessToken&&s.idToken?s:void 0}function d(){if(s=l(),!s)return"notAvailable";const e=s&&s.expiresOn,t=new Date(e);return t&&t.getTime()&&t>new Date?"valid":"expired"}function l(){return s=s||void 0===s&&(0,n.$o)().getObject(r)||null,s}function u(e){s=void 0,a=e;const{accessToken:t,idToken:i,expiresOn:o}=e||{};t&&i&&o?(0,n.$o)().setObject(r,{accessToken:t,idToken:i,expiresOn:o}):(0,n.$o)().removeItem(r)}function g(){return a}!function(e){e.NotAvailable="notAvailable",e.Expired="expired",e.Valid="valid"}(o||(o={}))},16854:function(e,t,i){"use strict";i.d(t,{SY:function(){return l},YU:function(){return c},bf:function(){return u},dy:function(){return d}});var n=i(8228),r=i(33379),o=i(76323);const s="uxlogin",a="logoutReturnUrl",c=(0,o.p)((()=>{const e=(0,n.U)();return e&&"1"===e.getItem(s)||(0,r.N)()&&location.search&&location.search.includes("uxlogin=1")}));function d(){const e=(0,n.U)();e&&c()&&(e.removeItem(s),c.cache.clear(),console.log("dual-auth: removeLoginFlowMarker"))}const l=(0,o.p)((()=>{const e=(0,n.N)();return e&&!!e.getItem(a)}));function u(){const e=(0,n.N)();e&&l()&&(e.removeItem(a),l.cache.clear(),console.log("dual-auth: removeLogoutFlowMarker"))}},8158:function(e,t,i){"use strict";i.d(t,{n:function(){return n}});var n,r=i(33940);!function(e){const t={};e.loadExperience=e=>(0,r.mG)(this,void 0,void 0,(function*(){const i=t[e];if(!i)throw new Error(`Attempted to load unknown dynamic bundle "${e}". Make sure it's a registered dynamic experience bundle.`);return i()})),e.registerExperience=(e,i)=>{t[e]=i},e.hasExperienceRegistered=e=>!!t[e]}(n||(n={}))},48799:function(e,t,i){"use strict";i.d(t,{U:function(){return Te}});var n=i(33940),r=i(21050),o=i(33954),s=i(26415),a=i(68364),c=i(66213),d=i(5633),l=i(32181);class u{constructor(){this.cacheMap=new Map}has(e){return(0,n.mG)(this,void 0,void 0,(function*(){return!!this.cacheMap[e]}))}get(e){return(0,n.mG)(this,void 0,void 0,(function*(){return this.cacheMap[e]}))}set(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){return this.cacheMap[e]=t,!0}))}del(e){return(0,n.mG)(this,void 0,void 0,(function*(){delete this.cacheMap[e]}))}itemCount(){return(0,n.mG)(this,void 0,void 0,(function*(){return Object.keys(this.cacheMap).length}))}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){this.cacheMap=new Map}))}}var g=i(33379);let p;const h=(0,g.N)()?null:{initialize:function(e){p=e},reset:function(){return(0,n.mG)(this,void 0,void 0,(function*(){yield p.reset()}))},set:function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){yield p.set(e,t,i)}))},get:function(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield p.get(e)}))},has:function(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield p.has(e)}))},del:function(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield p.del(e)}))},itemCount:function(){return(0,n.mG)(this,void 0,void 0,(function*(){return yield p.itemCount()}))}};i.g.TEST_ENV&&!(0,g.N)()&&h.initialize(new u);var f=i(94788),m=i(93698),v=i(58155),b=i(88352),y=i(17318),C=i(65337),S=i(12884),w=i(9791),T=i(30291),k=i(79022),O=i(13578),E=i(92170),I=i(92162);class A extends Error{constructor(e,t){super(e),this.isNetworkFailure=t}}var P=i(65135);const x="-start",M="-end",L={},D={};let F;function R(e){if(e.endsWith(x)){e=e.slice(0,e.length-x.length);const t={endMeasure:F&&F.startMeasure(e).endMeasure,startTime:performance.now()};L[e]=t}else if(e.endsWith(M)){if(e=e.slice(0,e.length-M.length),L[e]){const{endMeasure:t,startTime:i}=L[e],n=Math.round(performance.now()-i);return D[e]=n,t&&t(),{name:e,timeTaken:n}}}else;}var N=i(68848),j=i(63045);const B="feature-manifests",$="loc-manifests",H="feature-configs",U="loc-configs",W="default";var _,z;!function(e){e.idbStoreName="Configurations_12",e.idbName="wwConfigs",e.configStalenessDuration=6048e5,e.serverLruConfigCacheMax=10240,e.idbInitPromiseNameKey="initializeIdbKey",e.idbReadPromiseNameKey="readConfigsFromIdbKey",e.idbWritePromiseNameKey="writeConfigsToIndexedDbKey"}(_||(_={})),function(e){e.fromInMemoryCache="config.memory",e.fromServerCache="config.server",e.fromNetwork="config.network"}(z||(z={}));const V=new class{constructor(){this._mocksEnabled=!1,this._shouldInitializeMockMgrConfig=!1,this._mockConfigDictionary={},this._mocksEnabled=this.areMocksEnabled(),this._shouldInitializeMockMgrConfig&&(this._mockConfigDictionary["MockManager/default"]="MockManager/default")}get mockConfigDictionary(){return this._mockConfigDictionary}get mocksEnabled(){return this._mocksEnabled}initialize(e){if(!e)return void this.addMockQspToDictionary();const t=[];if(new URLSearchParams((0,S.zp)()).getAll("mock").forEach((e=>{e.trim().split(",").forEach((e=>{t.indexOf(e)<0&&t.push(e)}))})),0===t.length)return;const i=e&&e.scenarios;for(const e in i)if(i[e]&&t.indexOf(e)>-1){i[e].forEach((e=>{const{experienceType:t,instanceSrc:i}=e.source.configLink,{experienceType:n,instanceSrc:r}=e.target.configRef;this._mockConfigDictionary[`${t}/${i}`]=`${n}/${r}`}))}this.addMockQspToDictionary()}areMocksEnabled(){const e=new URLSearchParams((0,S.zp)());return this._shouldInitializeMockMgrConfig=!!e.get("mock"),this._shouldInitializeMockMgrConfig||e.getAll("item").some((e=>/^mock:/.test(e)))}addMockQspToDictionary(){new URLSearchParams((0,S.zp)()).getAll("item").filter((e=>/^mock:/.test(e))).forEach((e=>{const[t,i]=e.split(":"),[n,r]=i.split("|");this._mockConfigDictionary[n]=r}))}},G=/^\d{8}\.\d+$/;function q(e,t){if(!e)return;const{experienceType:i,instanceSrc:n,sharedNs:r}=e,o=[t,i,n];return r&&o.push(r),o.map((e=>e||"")).join("/").toLowerCase()}function Z(e){if(!e)return null;if(e.match("^shared/")){const[t,i,n,r]=e.split("/");return{experienceType:n,instanceSrc:r,sharedNs:i}}{const[t,i]=e.split("/");return{experienceType:t,instanceSrc:i}}}function Q(e){const t=new Set;if(e&&e.properties)try{K(e.properties,t)}catch(e){}return t}function K(e,t){const i=e.configRef;i&&i.experienceType&&t.add(i);for(const i of Object.values(e))"object"==typeof i&&i&&K(i,t)}function J(e,t=!1){if(!e)return;const i=(t?W:e.instanceSrc)||W;return!e.sharedNs||t?`${e.experienceType}/${i}`:`shared/${e.sharedNs}/${e.experienceType}/${i}`}function X(e,t){e&&e(t)}function Y(e,t){return function(e){return e===H||e===B}(e)?ee(t&&t.feature):ee(t&&t.loc)}function ee(e){return e===j.w.Local}function te(e,t,i){let n=!1;const r=V.mocksEnabled&&V.mockConfigDictionary&&V.mockConfigDictionary[t];let o;r&&(t=r,n=!0),o=n?"mock":e===U?"dev/loc":"prod";return`${o}/${/^shared/.test(t)?t:`${i}/${t}`}`}var ie=i(57967);let ne=(e,t,i)=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(!e)throw new Error("BlobFetcher.ts: Fetch Error: Relative Url is null or undefined.");const n=Y(t,i)?"https://localhost.msn.com:9000/"+e:"https://assets.msn.com/periconfigs/"+e.toLowerCase();return fetch(n).then((e=>{if(e.ok)return e.json();throw new Error(`Non-200 response, Status: ${e.status}, StatusText: ${e.statusText}, fetch url: ${n}`)})).catch((e=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${n}, error: ${e}.`)}))})),re=(0,w.Z)(ne);class oe{constructor(e,t){this.failedConfigIndexFetches=[],this.appType=e,this.configOrigins=t,this.fetchAndParseConfigIndex=(0,w.Z)(this.fetchAndParseConfigIndex,((...e)=>e.join("/")))}fetchAndParseConfigIndex(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){const n=Y(e,this.configOrigins);if(!i&&!n)return;const r=n?`${te(e,t,this.appType)}/index.json`:`${e}/${t}/index.json/${i}`;try{return yield re(r,e,this.configOrigins)}catch(e){n||this.failedConfigIndexFetches.push(e)}}))}getFailedConfigIndexFetches(){return this.failedConfigIndexFetches}}class se{constructor(e,t){this.failedConfigFetches=[],this.appType=e,this.configOrigins=t,this.fetchAndParseConfig=(0,w.Z)(this.fetchAndParseConfig,((...e)=>e.join("/")))}fetchAndParseConfig(e,t,i,r){return(0,n.mG)(this,void 0,void 0,(function*(){const n=Y(e,this.configOrigins);if(!r&&!n)return;const o=n?`${te(e,t,this.appType)}/${i}`:`${e}/${t}/${i}/${r}`;try{return yield re(o,e,this.configOrigins)}catch(e){n||this.failedConfigFetches.push(e)}}))}getFailedConfigFetches(){return this.failedConfigFetches}}class ae{constructor(e,t){this.manifestsMap=new Map,this.appType=e,this.configOrigins=t}fetchAndParseManifest(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(Y(e,this.configOrigins))return;const i=`${e}/${this.appType}/${t}.json`;if(!this.manifestsMap.has(e))try{const t=yield re(i);if(this.manifestsMap.set(e,t),(0,O.Z)(t))throw new Error(`Manifest response is ok but empty or undefined, relative url: ${i}`)}catch(t){throw this.manifestsMap.set(e,null),new Error(`ManifestService.ts: ${t}`)}return this.manifestsMap.get(e)}))}getConfigIndexHashedFileName(e,t){if(Y(t,this.configOrigins))return;const i=`${e}/index.json`;return this.getFromManifest(i,t)}getConfigHashedFileName(e,t,i){if(Y(i,this.configOrigins))return;const n=`${e}/${t}`;return this.getFromManifest(n,i)}getFromManifest(e,t){if(!this.manifestsMap||!this.manifestsMap.get(t))return;const i=this.manifestsMap.get(t);if(i&&i.fileHashes)return i.fileHashes[e.toLowerCase()];throw new Error(`ManifestService.ts: Manifest is defined but does not have fileHashes: ${e}: cacheKey snippet of manifest: ${JSON.stringify(i).substr(0,100)}`)}}function ce(e,t){if((0,E.Z)(e))return t}var de;function le(e,t,i=!1){if(!e)return!0;const n=i?t.locale.display:t.locale.content;return function(e,t){return!e.audienceMode||t.audienceMode===e.audienceMode}(e,t)&&function(e,t){if(!e.browser||!e.browser.version||!e.browser.browserType)return!0;if(t.browser&&t.browser.browserType&&t.browser.browserType===e.browser.browserType){const i=t.browser.version;if(!i)return!0;const n=e.browser.version;if("string"==typeof n&&i===n)return!0;if("object"==typeof n){const e=parseInt(i);for(const t in n){const i=n[t];if(null!=i)switch(t){case de.Equals:if(e!==i)return!1;break;case de.GreaterThan:if(!(e>i))return!1;break;case de.LessThan:if(!(e<i))return!1;break;case de.NotEquals:if(e===i)return!1;break;case de.OneOf:if(-1===i.indexOf(e))return!1;break;default:return!1}}return!0}}return!1}(e,t)&&function(e,t){return!e.deviceFormFactor||t.deviceFormFactor===e.deviceFormFactor}(e,t)&&function(e,t){return!e.domain||t.domain===e.domain}(e,t)&&function(e,t){if(t.pageExperiments=t.pageExperiments||[],"string"!=typeof e.experimentId||0===Object.keys(e.experimentId).length||t.pageExperiments.indexOf(e.experimentId)>=0)return!0;return!1}(e,t)&&function(e,t){if(!e)return!0;if((!e.language||ue(e.language,t.language))&&(!e.market||ue(e.market,t.market))&&(!e.script||ue(e.script,t.script)))return!0;return!1}(e.locale,n)&&function(e,t){return function(e,t){if(!e)return!0;if(!t)return!1;if("string"==typeof e&&ue(e,t))return!0;if("object"!=typeof e)return!1;const i=t.toLowerCase();if(e.startsWith&&!i.startsWith(e.startsWith.toLowerCase()))return!1;if(e.endsWith&&!i.endsWith(e.endsWith.toLowerCase()))return!1;if(e.equals&&!ue(e.equals,t))return!1;if(e.notEquals&&ue(e.notEquals,t))return!1;if(e.contains&&!i.includes(e.contains.toLowerCase()))return!1;if(e.oneOf&&-1===e.oneOf.indexOf(t))return!1;return!0}(e.ocid,t.ocid)}(e,t)&&function(e,t){return!e.os||t.os===e.os}(e,t)&&function(e,t){if(!e.pageType)return!0;if(!t.pageType)return!1;const i=t.pageType,n=e.pageType;if("string"==typeof n&&n===i)return!0;if(!n||"object"!=typeof n)return!1;if(n.exact&&n.exact.toUpperCase()===i.toUpperCase())return!0;if(n.segments){const e=n.segments,t=i.split("::");if(t&&t.length>0){let i=0;for(const n in e){const r=e[n];if(!r||"string"!=typeof r||i>=t.length||r.toUpperCase()!==t[i].toUpperCase())return!1;i++}return Object.keys(e).length===i}}return!1}(e,t)&&function(e,t){return!e.platform||t.platform===e.platform}(e,t)}function ue(e,t){return 0===(e||"").localeCompare(t||"",void 0,{sensitivity:"accent"})}!function(e){e.Equals="equals",e.GreaterThan="greaterThan",e.LessThan="lessThan",e.NotEquals="notEquals",e.OneOf="oneOf"}(de||(de={}));class ge{constructor(e){if(!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw new Error("SingleConfigResolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.appType=e.appType,this.targetScope=e.targetScope,this.buildVersion=e.configServiceParameters.buildVersion,this.configOrigins=e.configOrigins,this.manifestService=new ae(this.appType,this.configOrigins),this.configIndexService=new oe(this.appType,this.configOrigins),this.configService=new se(this.appType,this.configOrigins)}resolveConfigAsync(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=J(e),i=J(e,!0);this.buildNumber=this.tryGetBuildNumber()||(yield function(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){let i;const n=new URLSearchParams((0,S.zp)()).getAll("item"),r=n?n.find((e=>e&&0===e.indexOf("spalink:"))):void 0;r&&(i=r.replace("spalink:","").replace("/debug",""));const o=i||e;if(!o||!t||"latest"!==o&&"rolling"!==o&&!G.test(o))throw new Error(`Arguments are incorrect. Check buildVersion: ${o} appType: ${t}`);const s=`https://assets.msn.com/bundles/v1/${t}/${o}/v?${(new Date).getTime()}`;let a;try{if(a=yield fetch(s),!a||!a.ok)throw new Error(`Response not OK, Status: ${a.status}, StatusText: ${a.statusText}`);return(yield a.text()).trim()}catch(e){throw new Error(`getBuildNumberAsync Fetch Url: ${s}, ${e}`)}}))}(this.buildVersion,this.appType));const r=this.manifestService.fetchAndParseManifest(B,this.buildNumber),o=this.manifestService.fetchAndParseManifest($,this.buildNumber);yield Promise.all([r,o]);const s=this.manifestService.getConfigIndexHashedFileName(t,B),a=this.manifestService.getConfigIndexHashedFileName(i,$),c=this.configIndexService.fetchAndParseConfigIndex(H,t,s),d=this.configIndexService.fetchAndParseConfigIndex(U,i,a),l=yield Promise.all([c,d]).then((e=>({featureIndex:e[0],localizationIndex:e[1]}))),u=l.featureIndex&&l.featureIndex.configs||void 0,g=l.localizationIndex&&l.localizationIndex.configs||void 0,p=[];if(this.fetchMathingConfigs(p,u,B,H,t),this.fetchMathingConfigs(p,g,$,U,i),this.fetchMathingConfigs(p,g,$,U,i,!0),0==p.length)return;return function(e){if(!e||e.length<1)return null;const t=e[0];for(let i=1;i<e.length;i++)t.properties=(0,T.Z)(t.properties,e[i].properties,ce);return t}((yield Promise.all(p).then((e=>e))).filter((e=>null!=e)))}))}fetchMathingConfigs(e,t,i,n,r,o=!1){t&&0!=t.length&&t.forEach((t=>{if(le(t.targetScope,this.targetScope,o)){const o=t.src,s=this.manifestService.getConfigHashedFileName(r,o,i);e.push(this.configService.fetchAndParseConfig(n,r,o,s))}}))}getFailedFetches(){const e=[],t=this.configService.getFailedConfigFetches();t.length>0&&e.push(...t);const i=this.configIndexService.getFailedConfigIndexFetches();return i.length>0&&e.push(...i),e}get buildNumber(){return this._buildNumber}set buildNumber(e){this._buildNumber=e}tryGetBuildNumber(){return this.buildNumber?this.buildNumber:this.configOrigins.feature===j.w.Local&&this.configOrigins.loc===j.w.Production?null:this.buildVersion}}class pe{constructor(e){if(this.mergedConfigMap=new Map,this.mockManagerInitialized=!1,!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw new Error("Resolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.resolverEnvironment=e,this.appType=e.appType,this.singleConfigResolver=new ge(e)}getConfig(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=q(e,this.appType),{mockManager:n}=this.resolverEnvironment;if(n.mocksEnabled&&!this.mockManagerInitialized){this.mockManagerInitialized=!0;const e={scenarios:(yield this.getConfig({experienceType:"MockManager",instanceSrc:"default"})).properties.scenarios};n.initialize(e)}if(!this.mergedConfigMap.has(i)){yield this.getConfigRecursive(e,t);const i=this.singleConfigResolver.getFailedFetches();i.length>0&&i.forEach((e=>{X(this.resolverEnvironment.appErrorCallback,Object.assign(Object.assign({},ie.Fe.BlobFetchReturnedNull),{message:"Fetch failed for a config",pb:Object.assign(Object.assign({},ie.Fe.BlobFetchReturnedNull.pb),{customMessage:`Failed fetch url: ${e}`})}))}))}return this.mergedConfigMap.get(i)}))}getConfigMap(){return this.mergedConfigMap}getConfigRecursive(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=q(e,this.appType);if(i&&!this.mergedConfigMap.has(i))try{const n=yield this.singleConfigResolver.resolveConfigAsync(e);if(this.mergedConfigMap.set(i,n),t){const e=Q(n);if(0==e.size)return;const i=[];e.forEach((e=>{i.push(this.getConfigRecursive(e,t))})),yield Promise.all(i)}}catch(e){X(this.resolverEnvironment.appErrorCallback,Object.assign(Object.assign({},ie.Fe.RecursiveGetFailed),{message:"Exception in getConfig.",pb:Object.assign(Object.assign({},ie.Fe.RecursiveGetFailed.pb),{customMessage:`CacheKey: ${i} / Error: ${e}`})}))}}))}}class he{constructor(){this.idb=indexedDB}get supported(){return!!this.idb}get isGetAllAllowed(){return!(!IDBObjectStore.prototype||!IDBObjectStore.prototype.getAll)}_setIndexedDb(e){this.idb=e}_getIdbPromise(){return this.idbPromise}getObject(e){return(0,n.mG)(this,void 0,void 0,(function*(){let t;return yield this.withIdbStore("readonly","getObject",(i=>{t=i.get(e)})),t.result}))}getAll(){return(0,n.mG)(this,void 0,void 0,(function*(){let e;return yield this.withIdbStore("readonly","getAll",(t=>{e=t.getAll()})),e.result}))}getAllObjects(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isGetAllAllowed)return this.getAll();const e=[];return yield this.withIdbStore("readonly","getAllObjects",(t=>{t.openCursor().onsuccess=function(t){const i=t.target&&t.target.result?t.target.result:void 0;i&&i.value&&(e.push(i.value),i.continue())}})),e}))}setObject(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","setObject",(i=>{i.put(t,e)}))}))}removeObject(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","removeObject",(t=>{t.delete(e)}))}))}clearObjects(){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","clearObjects",(e=>{e.clear()}))}))}initializeIndexedDb(e=1,t="Default",i="MicrosoftNews",r=null){return(0,n.mG)(this,void 0,void 0,(function*(){this.storeName=t,this.idbPromise=r||new Promise(((n,r)=>{const o=this.idb.open(i,e);o.onerror=()=>{r(o.error)},o.onsuccess=()=>{n(o.result)},o.onupgradeneeded=()=>{o.result.createObjectStore(t)}}))}))}withIdbStore(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){return this.idbPromise.then((t=>new Promise(((n,r)=>{const o=t.transaction(this.storeName,e);o.oncomplete=()=>{n()},o.onabort=o.onerror=()=>r(o.error),i(o.objectStore(this.storeName))}))))}))}}function fe(e,t,i){return Object.assign(Object.assign({},e),{message:t||e.message,pb:i?Object.assign(Object.assign({},e.pb),{customMessage:i}):e.pb})}class me{constructor(e,t=!1){if(this.environment=e,this.enableConfigCaching=this.useConfigCaching(),this.stalenessCheckTimestamp=(new Date).getTime(),this.indexedDbMap=new Map,this.readConfigsFromIdb=(0,w.Z)(this._readConfigsFromIdb),!e||!e.targetScope||!e.appType)throw new Error("ResolverEnvironment or targetScope or appType does not exist.");this.initializeIdb=(0,w.Z)(this.initializeIdb),this.resolverEnvironment=e,this.indexedDb=new he,t&&this.initializeIdb()}useConfigCaching(){const e=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;return!e||!e.enableConfigCaching||"true"===e.enableConfigCaching}tryGetConfigSync(e){if(e){const t=q(e,this.resolverEnvironment.appType);return this.indexedDbMap.get(t)}}getConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!e)return;const t=q(e,this.resolverEnvironment.appType);return this.indexedDbMap.has(t)||(yield this.readConfigsFromIdb()),this.indexedDbMap.get(t)}))}updateCache(e){return(0,n.mG)(this,void 0,void 0,(function*(){e&&(e.forEach(((e,t)=>{if(e){const i={storageTimestamp:this.stalenessCheckTimestamp,configRefCacheKey:t,properties:e.properties};this.indexedDbMap.set(t,i)}})),yield this.writeConfigMapToIdb())}))}initializeIdb(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching)try{const e=this.resolverEnvironment.configCacheProperties&&this.resolverEnvironment.configCacheProperties.idbConfigOpenPromise;yield this.indexedDb.initializeIndexedDb(1,_.idbStoreName,_.idbName,e),this.indexedDbInitialized=!0,this.logMessage("IndexedDB initialized.")}catch(e){this.enableConfigCaching=!1,this.sendAppError(fe(ie.W1.IndexedDbInitFailed,"Failed to init configs IndexedDB",e))}}))}_readConfigsFromIdb(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching){this.indexedDbInitialized||(yield this.initializeIdb());try{const e=this.generateIdbKey();let t,i;const{idbConfigLookup:n=null,idbConfigReadPromise:r=null}=this.resolverEnvironment.configCacheProperties||{};t=(n||{})[e],t?i="pre-initialized config cache":r?(i="pre-initialized IndexedDb read",yield r,t=(n||{})[e]):(i="IndexedDb bulk read",t=yield this.indexedDb.getObject(e)),t?(t.forEach((e=>{e.configRefCacheKey&&!this.isConfigStale(e.storageTimestamp)&&this.indexedDbMap.set(e.configRefCacheKey,e)})),this.logMessage(`readConfigsFromIdb: Configs in IndexedDB: ${t.size}. Configs in memory: ${this.indexedDbMap.size}. CacheSource: ${i}.`)):this.logMessage(`readConfigsFromIdb: Didn't find any config in IndexedDB. CacheSource: ${i}`)}catch(e){this.sendAppError(fe(ie.W1.IndexedDbReadFailed,"IndexedDb Configs read failed",e))}}}))}writeConfigMapToIdb(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.enableConfigCaching&&this.indexedDbMap){this.indexedDbInitialized||(yield this.initializeIdb());try{const e=this.generateIdbKey();yield this.indexedDb.setObject(e,this.indexedDbMap),this.logMessage("writeConfigMapToIdb: completed")}catch(e){this.sendAppError(fe(ie.W1.IndexedDbWriteFailed,"Failed to write configMap to indexedDb",e))}}}))}generateIdbKey(){const{audienceMode:e="",locale:t={},pageType:i=""}=this.resolverEnvironment.targetScope||{},n=t.content||t,{language:r,market:o}=n;return[e,r,o,i,this.resolverEnvironment.appType||""].map((e=>e||"")).join("|").toLowerCase()}isConfigStale(e){return!e||this.stalenessCheckTimestamp-e>_.configStalenessDuration}sendAppError(e){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(e)}logMessage(e){this.resolverEnvironment.loggerCallback&&this.resolverEnvironment.loggerCallback(e)}}var ve=i(68679);class be{constructor(e){if(this.resolverEnvironment=e,this.configMap=new Map,this.enableConfigService=!0,this.skipBelowTheFold=!1,this.configPromiseMap=new Map,this._shouldTryFallbackResolver=!1,this._hadNetworkError=!1,this.getCacheKeyFromConfigRef=e=>q(e,this.resolverEnvironment.appType),!(e&&e.configServiceParameters&&e.appType&&e.configServiceParameters.configServiceBaseUrl&&e.targetScope))throw this.enableConfigService=!1,new Error("ResolverEnvironment or configServiceParameters or targetScope does not exist.");e.segmentPlugins&&e.segmentPlugins.skipBelowTheFold&&(this.skipBelowTheFold=!0)}get hadNetworkError(){return this._hadNetworkError}get shouldTryFallbackResolver(){return this._shouldTryFallbackResolver}get configServiceEnabled(){return this.enableConfigService}get configServiceQueryParams(){return this.configServiceParams}initialize(){return(0,n.mG)(this,void 0,void 0,(function*(){this.shouldUseConfigService(),yield this.setConfigServiceParams()}))}setConfigServiceParams(){return(0,n.mG)(this,void 0,void 0,(function*(){const{appType:e,configServiceParameters:t,targetScope:i}=this.resolverEnvironment,{maxDepth:n}=t;let{buildVersion:r}=t,o=`apptype=${e}`;o+=`&v=${r}`,o+="&targetScope="+JSON.stringify(i),n&&(o+=`&maxDepth=${n}`),this.skipBelowTheFold&&(o+="&skipBelowTheFold=true"),this.containsDevOnlyQueryParameters()&&(o+="&citem=dev:true"),this.configServiceParams=o}))}shouldUseConfigService(){const e=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;e&&e.enableConfigService&&(this.enableConfigService="true"===e.enableConfigService)}containsDevOnlyQueryParameters(){const e=this.resolverEnvironment.queryParams;if(!e)return!1;const t=e.item;if(t&&t.length>0)return!0;if(e.citem)return!0;return!!e.pcsonly}getConfigMap(){return this.configMap}tryGetConfigSync(e){if(e){const t=this.getCacheKeyFromConfigRef(e);return this.configMap.get(t)}}getConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.resolverEnvironment.configServiceParameters||!this.resolverEnvironment.targetScope||!e)return Promise.reject(Error("Either of configServiceParameters, targetScope or configRef is not set correctly."));if(!this.enableConfigService)return void(this._shouldTryFallbackResolver=!0);const t=this.getCacheKeyFromConfigRef(e);if(this.configMap.has(t))return this.configMap.get(t);if(this.configPromiseMap.has(t))return this.configPromiseMap.get(t);const i=new Promise(((i,r)=>(0,n.mG)(this,void 0,void 0,(function*(){try{yield this.getConfigTreeFromCrs(e),i(this.configMap.get(t))}catch(e){this.sendAppError(fe(ie.W1.GetConfigException,`Exception in getConfig for ${t}`,e)),r(e)}finally{this.configPromiseMap.delete(t)}}))));return this.configPromiseMap.set(t,i),i}))}getConfigTreeFromCrs(e){return(0,n.mG)(this,void 0,void 0,(function*(){try{let t;const{pageExperiments:i}=this.resolverEnvironment.targetScope;let n=5e3;i&&"homePage"===this.resolverEnvironment.appType&&(i.includes("prg-hp-t1")||i.includes("prg-hp-t1h"))&&(n=i.includes("prg-hp-t1h")?6e5:1e4),i&&"edgeChromium"===this.resolverEnvironment.appType&&(i.includes("prg-crs-t1")||i.includes("prg-crs-t1h"))&&(n=i.includes("prg-crs-t1h")?6e5:1e4),i&&"windowsShell"===this.resolverEnvironment.appType&&(i.includes("prg-1sw-crst1")||i.includes("prg-1sw-crst1h"))&&(n=i.includes("prg-1sw-crst1h")?6e5:1e4);const r=new Promise((i=>{t=setTimeout((()=>{const t=Object.assign(Object.assign({},ie.yL),{pb:Object.assign(Object.assign({},ie.yL.pb),{errorBehavior:ve.C.Fallback,isWebWorker:this.resolverEnvironment.isThisWebWorkerThread})});return this.sendAppError(fe(t,"CRS fetch timeout",`ConfigRef: ${this.getCacheKeyFromConfigRef(e)}.`)),i(null)}),n)})),o=this.downloadFromCrs(e).then((e=>(t&&clearTimeout(t),e))),s=yield Promise.race([o,r]),a=s&&s.configs;if(!a||(0,O.Z)(a))return void(this._shouldTryFallbackResolver=!0);this._shouldTryFallbackResolver=!1;for(const e in a){const t=a[e];if(t&&t.properties){const i=this.getCacheKeyFromConfigRef(Z(e));this.configMap.set(i,t)}}}catch(t){this._shouldTryFallbackResolver=!0,this.sendAppError(fe(ie.W1.CrsFetchError,"CRS fetch network error",`ConfigRef: ${this.getCacheKeyFromConfigRef(e)}. CrsFetchNetworkError: ${this._hadNetworkError}. Error: ${t}`))}}))}setDownloadFromCrsBeforeNetwork(e){this.downloadFromCrsBeforeNetwork=e}downloadFromCrs(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.generateCrsUrl(e);if(this.downloadFromCrsBeforeNetwork){const e=yield this.downloadFromCrsBeforeNetwork(t);if(e)return e}return fetch(t).then((e=>{if(e.ok)return e.json();const i=e.headers.get("X-Crs-BuildVersion")||"",n=e.headers.get("X-Crs-Env")||"",r=e.headers.get("x-msedge-ref")||"",o=`Url: ${t}, CRS Version: ${i}, CRS Env: ${n}, isWebWorkerPresent: ${this.resolverEnvironment.isWebWorkerPresent}`,s=Object.assign(Object.assign({},ie.Wc),{pb:Object.assign(Object.assign({},ie.Wc.pb),{userImpacting:!0,errorBehavior:ve.C.Fallback,isWebWorker:this.resolverEnvironment.isThisWebWorkerThread,fetchNetworkResponse:{activityId:r,statusCode:e.status}})});return this.sendAppError(fe(s,"CRS returned non-200 response",o)),Promise.resolve()})).catch((e=>{throw this._shouldTryFallbackResolver=!1,this._hadNetworkError=!0,e}))}))}generateCrsUrl(e){const t=e.sharedNs?`&sharedNs=${e.sharedNs}`:"",i=`?${`expType=${e.experienceType}&expInstance=${e.instanceSrc}${t}`}&${this.configServiceParams}`;return new URL(i,this.resolverEnvironment.configServiceParameters.configServiceBaseUrl).toString()}sendAppError(e){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(e)}}class ye{constructor(e){if(this.resolverEnvironment=e,this.fallbackResolverCalled=!1,this.crsInitComplete=!1,this.enableIdbCaching=!1,!e||!e.targetScope)throw new Error("ResolverEnvironment or targetScope does not exist.");var t;this.configService=new be(e),this.configsEqual=function(e){if(!e)return!1;const{bundleHash:t,lastBundleHash:i,configHash:n,lastConfigHash:r,locHash:o,lastLocHash:s}=e;return!!(i&&i===t&&r&&r===n&&s&&s===o)}(e.configCacheProperties),this.enableIdbCaching=(t=e.targetScope.pageExperiments)&&t.indexOf("prg-gitconfigs-t")>-1,this.configCache=new me(e,this.enableIdbCaching),this.fallbackResolver=new pe(e)}get crsHadNetworkError(){return this.configService.hadNetworkError}tryGetConfigSync(e){if(e)return this.configService.tryGetConfigSync(e)||this.configCache.tryGetConfigSync(e)}getConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.resolverEnvironment.configOrigins.feature===j.w.Local||this.resolverEnvironment.mockManager.mocksEnabled){const t="function"==typeof this.resolverEnvironment.loggerCallback;try{const i=yield this.fallbackResolver.getConfig(e);return i?Promise.resolve(i):(t&&this.resolverEnvironment.loggerCallback(`ConfigResolver: Failed to fetch configs from local configs. Config: ${q(e)}`),Promise.resolve(null))}catch(e){return t&&this.resolverEnvironment.loggerCallback(`${e.message}`),Promise.reject(e)}}this.crsInitComplete||(this.sendPerfMarker("CrsConfig-start"),yield this.initiateConfigService(),this.crsInitComplete=!0,this.sendPerfMarker("CrsConfig-end"));const t=this.tryGetConfigSync(e);if(t)return t;const i=new Promise((t=>(0,n.mG)(this,void 0,void 0,(function*(){if(this.configService.shouldTryFallbackResolver){this.fallbackResolverCalled=!0;const i=yield this.fallbackResolver.getConfig(e);if(i)return t(i)}else{const i=yield this.configService.getConfig(e);if(i)return t(i)}return t(null)})))),r=new Promise((t=>(0,n.mG)(this,void 0,void 0,(function*(){if(this.configsEqual&&this.enableIdbCaching){const i=yield this.configCache.getConfig(e);if(i)return t(i)}}))));return Promise.race([r,i])}))}updateConfigsCache(){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.enableIdbCaching)return this.configsEqual;if(this.configsEqual)return this.configsEqual;yield this.initiateConfigService();const e=this.configService.getConfigMap();if(e)return this.configCache.updateCache(e),this.configsEqual;if(!this.configService.shouldTryFallbackResolver)return this.configsEqual;this.fallbackResolverCalled||(yield this.fallbackResolver.getConfig({experienceType:"AppConfig",instanceSrc:"default"}));const t=this.fallbackResolver.getConfigMap();return t&&this.configCache.updateCache(t),this.configsEqual}))}getConfigServiceObject(){return this.configService}initiateConfigService(){return(0,n.mG)(this,void 0,void 0,(function*(){yield this.configService.initialize(),yield this.configService.getConfig({experienceType:"AppConfig",instanceSrc:"default"})}))}sendPerfMarker(e){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(e)}}const Ce=864e5;class Se{constructor(){this.currentTargetScope=c.jG.CurrentRequestTargetScope,this.configMap=new Map,this.env=c.jG.Environment||d.q.prod,this.promiseMap=new Map,this.refreshServerCachePromiseMap=new Map,this.stalenessCheckTimestamp=(new Date).getTime(),this.isMultiConfigRetrievalEnabled=!1,this.localOverrideMap={},this.initializeIndexedDb=(0,w.Z)(this._initializeIndexedDb),this.populateConfigMapFromIndexedDbAsync=(0,w.Z)(this._populateConfigMapFromIndexedDbAsync),this.peregrineFlightsKey="prgflights",this.initializeCaching()}getConfigResolver(){return this.configResolver}initializeCaching(e){this.cdnConfigBaseUrl=c.jG.ConfigRootUrl||c.jG.EnvironmentConfigUrl,this.configServiceBaseUrl=c.jG.ConfigServiceBaseUrl,this.resolverErrors=[],this.configTimings=[],this.useWebWorkerToCache=f.yb,this.indexedDb=e||new m.$;const t=c.jG.EnableCMSPPEConfigs;this.useIndexedDb=this.enableIndexedDbInMainResolver()&&!c.jG.DisableCachingConfigs&&this.indexedDb.isCachingAllowed&&this.indexedDb.supported&&!t,this.useServerCache=null!==h&&!c.jG.DisableCachingConfigs&&!t,this.setTargetScopeAndConfigServiceParams(),this.populateConfigMapFromIndexedDbAsync()}setTargetScopeAndConfigServiceParams(){const e=c.jG.EnableCMSPPEConfigs;this.currentTargetScope=this.currentTargetScopeOverride||c.jG.CurrentRequestTargetScope,!c.jG.IsGitConfigs&&this.currentTargetScope&&(this.currentTargetScope.locale=c.jG.LocaleContentMarket);const{WidgetAttributes:t}=c.jG,i=t&&t.clientPerf&&t.clientPerf.shouldUsePWOnlyFlights,n=this.currentTargetScope&&(i?(0,I.Kd)(this.currentTargetScope.pageExperiments):(0,I.Mx)(this.currentTargetScope.pageExperiments));if(n&&n.length>0&&(this.peregrineFlights=n.join(",")),this.scopeWithPeregrineFlights=Object.assign(Object.assign({},this.currentTargetScope),{domain:t&&(0,S.Dp)()||this.currentTargetScope&&this.currentTargetScope.domain,pageExperiments:n}),"edgeChromium"===c.jG.AppType&&n&&n.includes("prg-cidb-t")&&(this.useIndexedDb=!1),this.enableConfigService=this.useConfigService(),this.enableConfigService){this.configServiceParameters="?targetScope="+JSON.stringify(this.scopeWithPeregrineFlights),this.configServiceParameters+=`&apptype=${c.jG.AppType}`;const{IsMultiConfigRetrievalEnabled:t,CacheBustingIdentifier:i}=c.jG;this.isMultiConfigRetrievalEnabled=t,this.isMultiConfigRetrievalEnabled&&(this.configServiceParameters+=`&maxDepth=${this.getConfigRetrievalMaxDepth()}`);const n=(0,g.N)()&&window._cbid||i;n&&(this.configServiceParameters+=`&cbid=${n}`),this.containsDevOnlyQueryParameters()&&(this.configServiceParameters+="&item=dev:true"),e&&(this.configServiceParameters+="&item=cms:ppe")}this.storageKey=this.generateKey()}initialize(e,t){var i;if(this.perfTimeline=(0,r.oA)("Resolver","Resolver",!0),i=this.perfTimeline,F=i,!c.jG.IsGitConfigs)return;const{_idbConfigOpenPromise:n=null,_idbConfigReadPromise:s=null,_idbConfigLookup:a=null}=(0,g.N)()?window:{},d=Object.assign(Object.assign({},this.getConfigCacheProperties()),{idbConfigOpenPromise:n,idbConfigReadPromise:s,idbConfigLookup:a}),l={buildVersion:c.jG.BuildVersion,configServiceBaseUrl:c.jG.ConfigServiceBaseUrl.toString()},u={appType:c.jG.AppType,configServiceParameters:l,targetScope:this.scopeWithPeregrineFlights,env:c.jG.Environment.toString(),featureFlags:c.jG.FeatureFlags,isThisWebWorkerThread:!1,isWebWorkerPresent:this.useWebWorkerToCache,queryParams:v.c.getParamsObj((0,S.zp)()),appErrorCallback:e,perfMarkerCallback:R,loggerCallback:o.k.log.bind(o.k),logObjectsCallback:o.k.logObjects.bind(o.k),isDebug:o.k.isDebug(),configCacheProperties:d,configOrigins:c.jG.ConfigOrigins,segmentPlugins:t,mockManager:V};this.configResolver=new ye(u)}mergeConfig(e){if(!e||e.length<1)return null;const t=e[0];for(let i=1;i<e.length;i++)t.properties=(0,T.Z)(t.properties,e[i].properties,this.customizer);return t}resolveConfigIndex(e){if(!e)return null;const t=[];return e.configs.forEach((e=>{this.targetScopeMatched(e)&&t.push(e.href)})),e.overrideConfig&&b.b.stringHasData(e.overrideConfig.href)&&t.push(e.overrideConfig.href),t}targetScopeMatched(e){const t=e.targetScope;return!t||this.audienceModeMatched(t)&&this.browserTypeMatched(t)&&this.deviceTypeMatched(t)&&this.domainMatched(t)&&this.experimentMatched(t)&&this.marketMatched(t)&&this.osMatched(t)&&this.pageTypeMatched(t)&&this.platformMatched(t)}audienceModeMatched(e){return!e.audienceMode||this.currentTargetScope.audienceMode===e.audienceMode}browserTypeMatched(e){return!e.browser||!e.browser.browserType||!(!this.currentTargetScope.browser||this.currentTargetScope.browser.browserType!==e.browser.browserType||e.browser.version&&this.currentTargetScope.browser.version!==e.browser.version)}deviceTypeMatched(e){return!e.deviceFormFactor||this.currentTargetScope.deviceFormFactor===e.deviceFormFactor}domainMatched(e){return!e.domain||this.currentTargetScope.domain===e.domain}experimentMatched(e){return this.currentTargetScope.pageExperiments=this.currentTargetScope.pageExperiments||[],!!(!(0,k.Z)(e.experimentId)||(0,O.Z)(e.experimentId)||this.currentTargetScope.pageExperiments.indexOf(e.experimentId)>=0)}stringsEqualCaseInsensitive(e,t){return 0===(e||"").localeCompare(t||"",void 0,{sensitivity:"accent"})}marketMatched(e){const t=e.locale&&e.locale.content||e.locale;if(!t)return!0;const i=this.currentTargetScope.locale;return!(t.language&&!this.stringsEqualCaseInsensitive(t.language,i.language)||t.market&&!this.stringsEqualCaseInsensitive(t.market,i.market)||t.script&&!this.stringsEqualCaseInsensitive(t.script,i.script))}osMatched(e){return!e.os||this.currentTargetScope.os===e.os}pageTypeMatched(e){return!e.pageType||this.currentTargetScope.pageType===e.pageType}platformMatched(e){return!e.platform||this.currentTargetScope.platform===e.platform}customizer(e,t){if((0,E.Z)(e))return t}clearInternalState(){this.configMap.clear(),this.initializeIndexedDb.cache.clear(),this.populateConfigMapFromIndexedDbAsync.cache.clear()}overrideCurrentRequestTargetScope(e){this.currentTargetScopeOverride=e,this.currentTargetScopeOverride&&(this.currentTargetScope=this.currentTargetScopeOverride)}overrideCurrentRequestEnvironment(e){this.env=e||d.q.prod}overrideConfig(e,t,i){if(this.env!==d.q.prod){const n="string"==typeof e?e:(0,l.B5)(e);this.localOverrideMap[n]={experienceType:t,properties:i,typeVersion:"1.0.0",_name:"index"}}}getRootConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!c.jG.IsGitConfigs)return yield this.getConfig(e);const t=yield this.getEntryPointConfigRef();return yield this.getConfig(t.configRef)}))}getEntryPointConfigRef(){return(0,n.mG)(this,void 0,void 0,(function*(){return(yield this.getConfig({experienceType:"AppConfig",instanceSrc:"default"})).properties.rootExperience}))}getConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.currentTargetScope)return Promise.reject(new Error(`getConfig: Invalid target scope when fetching config ${JSON.stringify(e)}`));const t=performance.now();if(c.jG.IsGitConfigs){if("string"==typeof e){const t="Invalid config Id for Git configs flight";return this.resolverErrors.push(Object.assign(Object.assign({},s.lu7),{message:t,pb:Object.assign(Object.assign({},s.lu7.pb),{userImpacting:!0,customMessage:e})})),Promise.reject(new Error(`${t}: ${e}`))}if(!this.configResolver){const t="Invalid configResolver object for Git configs flight";return this.resolverErrors.push(Object.assign(Object.assign({},s.ASE),{message:t,pb:Object.assign(Object.assign({},s.ASE.pb),{userImpacting:!0,customMessage:JSON.stringify(e)})})),Promise.reject(new Error(`${t}: ${JSON.stringify(e)}`))}const i=(0,l.B5)(e),n=this.localOverrideMap[i];if(n)return n;const r=this.perfTimeline&&this.perfTimeline.startMeasure("config",i).endMeasure;let o,a;try{a=this.configResolver.tryGetConfigSync(e);let n=a;return n||(this.addConfigTiming(e.experienceType,t,"network"),n=yield this.configResolver.getConfig(e)),n?o={experienceType:e.experienceType,properties:n.properties||{},typeVersion:"Git",_name:(0,l.B5)(e)}:Promise.reject(new A(`Could not fetch Git config id ${JSON.stringify(e)}`,this.configResolver.crsHadNetworkError))}finally{if(r){r(`${i}-${(a?"memory":o&&"network")||"error"}`)}}}const i=e;if(!i||!(0,k.Z)(i)||(0,O.Z)(i))throw new Error("getConfig: Invalid relativeUrl");const r=this.localOverrideMap[i];if(r)return r;const a=this.getCacheKey(i),d=this.configMap.get(a);if(d)return this.addConfigTiming(d.experienceType,t,"cache"),d;const u=this.promiseMap.get(a);if(u)return u;let g=!1;const p=this.perfTimeline&&this.perfTimeline.startMeasure("config",i).endMeasure;let f,m;const v=new Promise(((e,r)=>(0,n.mG)(this,void 0,void 0,(function*(){try{if(this.useServerCache){let n=!1,r=!1;const c=yield h.has(a);if(c){const s=yield h.get(a),c=s?JSON.parse(s):null;c?(this.configTimings.push({experienceType:c.experienceType,cacheFetchDuration:performance.now()-t}),r=!!c.relatedConfigIndexHref,g=!0,this.promiseMap.delete(a),e(c),this.isServerCacheConfigStale(c.storageTimestamp)&&(yield this.updateServerCache(i,c))):(o.k.log(`Resolver: cacheKey=${a} Undefined from server cache`),n=!0)}if(o.k.logObjects({serverCacheGetConfig:{cacheKey:a,isHeadConfig:r,isCached:c,hasCacheError:n}}),c&&n){const e="Sever Cache key exists but server cache is undefined. Usually due to timeout when server cache IPC is busy.",t=`cacheKey=${a}`,i=new Error(e);throw P.M.sendAppErrorEvent(Object.assign(Object.assign({},s.txQ.ServerCacheFetchFailed),{message:e,pb:Object.assign(Object.assign({},s.txQ.ServerCacheFetchFailed.pb),{customMessage:t})})),i}if(c)return;const d=this.getConfigFromNetwork(i),l=(yield d).get(a);f=l.experienceType,this.addConfigTiming(f,t,m="network"),e(l)}else{const n=[this.populateConfigMapFromIndexedDbAsync()],r=this.getConfigFromNetwork(i);n.push(r),yield Promise.race(n);const o=this.configMap.get(a);if(o)return f=o.experienceType,this.addConfigTiming(f,t,m="cache"),void e(o);const s=(yield r).get(a);f=s.experienceType,this.addConfigTiming(f,t,m="network"),e(s)}}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.GetConfigException),{message:"Exception in getConfig",pb:Object.assign(Object.assign({},s.W1d.GetConfigException.pb),{customMessage:`Relative Url: ${i}. Error ${e.message||e}`})})),r(e)}finally{g=!0,this.promiseMap.delete(a),p&&p(`${f}-${i}-${m}`)}}))));return g||this.promiseMap.set(a,v),v}))}getConfigFromNetwork(e,t=!1){return(0,n.mG)(this,void 0,void 0,(function*(){const i=this.getCacheKey(e),n=new Map;if(this.enableConfigService){const r=this.removeCmsPathFromRelativeUrl(e)+this.configServiceParameters;try{if(this.isMultiConfigRetrievalEnabled){const t=yield this.downloadFile(new URL(`${r}${this.configServiceBaseUrl.search}`,this.configServiceBaseUrl),!0);if(t&&t.rootConfigIndexId&&t.configs){const i=Object.keys(t.configs).map((e=>t.configs[e]));for(const t of i)if(t&&t.configIndexHref){const r=t.configIndexHref,s=r===e;yield this.addConfigToConfigMap(r,t,s?i:null),n.set(this.getCacheKey(r),t),(0,g.N)()&&o.k.log(`Resolver: ${r} config for ${t.experienceType} fetched from network using CRS url with multi config support.`)}return n}}else{const t=yield this.downloadFile(new URL(`${r}${this.configServiceBaseUrl.search}`,this.configServiceBaseUrl),!0);if(t)return yield this.addConfigToConfigMap(e,t),n.set(i,t),(0,g.N)()&&o.k.log(`Resolver: ${i} config for ${t.experienceType} fetched from network using CRS url.`),n}}catch(i){const n=`CRS fetch failed for ${e}.`,o=`CRS relative Url: ${r} Error: ${i}`;t?P.M.sendAppErrorEvent(Object.assign(Object.assign({},s.txQ.ServerCacheRefreshFailed),{message:n,pb:Object.assign(Object.assign({},s.txQ.ServerCacheRefreshFailed.pb),{customMessage:o})})):this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.CrsFetchError),{message:n,pb:Object.assign(Object.assign({},s.W1d.CrsFetchError.pb),{customMessage:o})}))}}if(n&&!n.has(i)){const t=yield this.downloadMergeConfig(e);t&&(yield this.addConfigToConfigMap(e,t),n.set(i,t),(0,g.N)()&&o.k.log(`Resolver: ${i} config fetched from network using Akamai url.`),this.enableConfigService&&this.resolverErrors.push(Object.assign(Object.assign({},s.CS7),{message:"Configs served from CDN after CRS fetch failed",pb:Object.assign(Object.assign({},s.CS7.pb),{customMessage:`Relative Url: ${e} CRS Params: ${this.configServiceParameters}`})})))}return n}))}addConfigToConfigMap(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){t.storageTimestamp=this.stalenessCheckTimestamp,t.configIndexHref=e;const n=this.getCacheKey(e);if(this.useServerCache){i&&(t.relatedConfigIndexHref=i.map((e=>e.configIndexHref)));const e=JSON.stringify(t);yield h.set(n,e,Ce)}else this.configMap.set(n,t)}))}updateServerCache(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.useServerCache)try{if(!this.refreshServerCachePromiseMap.get(e)){if(t.relatedConfigIndexHref){yield Promise.all(t.relatedConfigIndexHref.map((i=>{const n=i===e?this.refreshConfigServerCache(e,t):this.refreshConfigServerCache(i);return this.refreshServerCachePromiseMap.set(i,n),n})));for(let e=0;e<t.relatedConfigIndexHref.length;e++)this.refreshServerCachePromiseMap.delete(t.relatedConfigIndexHref[e])}else{const i=this.refreshConfigServerCache(e,t);this.refreshServerCachePromiseMap.set(e,i),yield i,this.refreshServerCachePromiseMap.delete(e)}this.getConfigFromNetwork(e)}}catch(t){const i=`Update server cache failed for ${e}.`,n=`Error: ${t}`;P.M.sendAppErrorEvent(Object.assign(Object.assign({},s.txQ.ServerCacheRefreshFailed),{message:i,pb:Object.assign(Object.assign({},s.txQ.ServerCacheRefreshFailed.pb),{customMessage:n})}))}}))}refreshConfigServerCache(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.useServerCache)return;const i=this.getCacheKey(e);if(!t){const e=yield h.get(i);t=e?JSON.parse(e):null}if(t){t.storageTimestamp=this.stalenessCheckTimestamp;const e=JSON.stringify(t);yield h.set(i,e,Ce)}}))}purgeRenderCacheUponConfigChanges(e){if(!e)try{(0,C.$o)().removeSubstringKeys("lastKnown_"),(0,C.$o)().removeSubstringKeys("timestamp_"),(0,C.$o)().removeSubstringKeys("keys_")}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.FailedToPurgeRenderCache),{message:"Failed to purge render cache when cached config and network config is not same.",pb:Object.assign(Object.assign({},s.W1d.FailedToPurgeRenderCache.pb),{customMessage:e})}))}}downloadMergeConfig(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=yield this.downloadFile(new URL(`${e}${this.cdnConfigBaseUrl.search}`,this.cdnConfigBaseUrl),!1),i=this.resolveConfigIndex(t),n=yield this.downloadExperienceConfig(this.cdnConfigBaseUrl,i),r=this.mergeConfig(n);return r.experienceType=t.experienceType,r}))}downloadExperienceConfig(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i=[];return t.forEach((t=>{i.push(this.downloadFile(new URL(`${t}${e.search}`,e),!1))})),yield Promise.all(i)}))}downloadFile(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const i=(0,g.N)()?1e4:900,n=e.toString();return(0,y.Sm)(n,i).then((e=>{if(e.ok)return e.json();let i="";if(t){const t=e.headers.get("X-Crs-BuildVersion")||"";i=`msedge ref: ${e.headers.get("x-msedge-ref")||""} Status: ${e.status}, Status Text: ${e.statusText}, Url: ${n} and CRS Version: ${t}`,this.resolverErrors.push((0,a.Tr)(s.Wct,"CRS sent non-200 response",i))}else i=`Status: ${e.status}, Status Text: ${e.statusText}, Url: ${n}`,this.resolverErrors.push((0,a.Tr)(s.h6w,"Cdn config fetch received non-200 response",i));return Promise.resolve()}))}))}generateKey(){if((0,g.N)()){const{audienceMode:e="",locale:t={},pageType:i=""}=this.currentTargetScope||{},n=t.content||t,r=n?(0,N.p)(n):"",o=t.display||n;return[e,r,o?(0,N.p)(o):"",i,c.jG.AppType||""].map((e=>e||"")).join("|").toLowerCase()}{let{audienceMode:e="",browser:t=null,deviceFormFactor:i="",experimentId:n="",locale:r={},os:o={},pageType:s="",platform:a="",pageExperiments:d=null}=this.currentTargetScope||{};const l=r.content||r,{language:u,market:g}=l,{browserType:p="",version:h=""}=t||{};d=(0,I.Mx)(d);return[e,p,h,i,u,g,o,n,s,a,d?d.join():"",c.jG.AppType||""].map((e=>e||"")).join("|").toLowerCase()}}useConfigService(){const e=(0,S.zp)();if(e){const t=v.c.getQueryParameterByName("enableConfigService",e);if(t)return"true"===t.toLocaleLowerCase()}return c.jG.EnableConfigService}getConfigRetrievalMaxDepth(){const e=v.c.getQueryParameterByName("maxDepth",(0,S.l4)());return e||(c.jG.FeatureFlags&&c.jG.FeatureFlags.crsMaxDepth?c.jG.FeatureFlags.crsMaxDepth:"10")}containsDevOnlyQueryParameters(){const e=(0,S.zp)(),t=v.c.getQueryParameterByName("item",e);if(t&&t.length>0)return!0;const i=v.c.getQueryParameterByName("pcsonly",e);return!!(i&&i.length>0)}getResolverErrors(){return this.resolverErrors}refreshConfigCache(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.useWebWorkerToCache)try{const e=yield(0,f.ot)({id:"refreshconfigs"});if(e&&e.fetched&&void 0!==e.payload&&null!==e.payload){const t=e.payload;this.purgeRenderCacheUponConfigChanges(t.configsEqual),this.writeConfigCacheProperties();try{(0,C.$o)().setItem(this.peregrineFlightsKey,this.peregrineFlights)}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.PrgFlightLsWriteError),{message:"Error writing prg flights to ",pb:Object.assign(Object.assign({},s.W1d.PrgFlightLsWriteError.pb),{customMessage:e})}))}if(t.liveCbId){const e=t.liveCbId.toString();this.writeCbidInLocalStorage(e);const i=c.jG.CacheBustingIdentifier||"",n=window._cbid||"";c.jG.IsGitConfigs||e===i&&e===n||this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.DifferentCbid),{message:"Different Cbid detected than configured.",pb:Object.assign(Object.assign({},s.W1d.DifferentCbid.pb),{customMessage:`PcsCbid = ${i}. HighestCbid = ${n}. LiveCbid = ${e}.`})}))}}}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.RefreshConfigCacheFailed),{message:"refreshConfigCache error",pb:Object.assign(Object.assign({},s.W1d.RefreshConfigCacheFailed.pb),{customMessage:e})}))}}))}enableIndexedDbInMainResolver(){const e=(0,S.zp)();if(e){const t=v.c.getQueryParameterByName("enableIndexedDbInMainResolver",e);if(t)return"true"===t.toLocaleLowerCase()}return!0}isConfigStale(e){return!e||this.stalenessCheckTimestamp-e>2592e5}isServerCacheConfigStale(e){return!e||this.stalenessCheckTimestamp-e>3e5}removeCmsPathFromRelativeUrl(e){return e.replace("cms/api/amp/experienceConfigIndex/","")}removeCachedConfig(e){this.useWebWorkerToCache&&this.useIndexedDb?(0,f.mS)({id:"clearconfigcache",payload:e}):this.clearConfigCache()}clearConfigCache(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.useIndexedDb)try{yield this.initializeIndexedDb();try{yield this.indexedDb.clearObjects(),o.k.log("Resolver: Cleared all configs from indexedDb.")}catch(e){o.k.logError("Resolver: Failed to clear all configs from indexedDb"),this.useIndexedDb=!1}}catch(e){o.k.logError("Resolver: Failed to initialize indexedDb")}}))}getConfigServiceParameters(){return this.configServiceParameters}addConfigTiming(e,t,i){this.configTimings.push({experienceType:e,[i+"FetchDuration"]:performance.now()-t})}getConfigTimings(e={},t=!1){if(c.jG.IsGitConfigs)return void Object.assign(e,D);if(!this.configTimings)return;let i=0,n=0;for(const r of this.configTimings){const o=r.experienceType.toLowerCase(),s=r.cacheFetchDuration,a=r.networkFetchDuration;("entrypoint"===o||"river"===o||"contentpreview"===o||c.jG.IsDebug||t)&&(void 0!==a&&(e["ConfigFetch."+o]=Math.round(a)),void 0!==s&&(e["ConfigCache."+o]=Math.round(s))),void 0!==s&&(i+=s),void 0!==a&&(n+=a)}i&&(e["ConfigCache.All"]=Math.round(i)),n&&(e["ConfigFetch.All"]=Math.round(n))}setConfigTimingsObject(e){this.configTimings=e}getCacheKey(e){return null===e?null:this.removeCmsPathFromRelativeUrl(e)+"_"+this.storageKey}_populateConfigMapFromIndexedDbAsync(){return(0,n.mG)(this,void 0,void 0,(function*(){let e;try{if(!this.useIndexedDb||!this.useWebWorkerToCache)return;try{const e=(0,C.$o)().getItem(this.peregrineFlightsKey);if(e&&this.peregrineFlights&&e!==this.peregrineFlights)return void(this.peregrineFlights.indexOf("prg-lsconfigs")>=0&&this.resolverErrors.push(Object.assign(Object.assign({},s.zTW),{message:"Cached configs are for different flight"})))}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.PrgFlightLsReadError),{message:"Error reading prg flights from local storage",pb:Object.assign(Object.assign({},s.W1d.PrgFlightLsReadError.pb),{customMessage:e})}))}const t=performance.now();let i;this.configMap.clear();const{_idbConfigReadPromise:n,_idbConfigLookup:r}=window;if(i=(r||{})[this.storageKey],i?e="pre-initialized config cache":n?(e="pre-initialized IndexedDb read",yield n,i=(window._idbConfigLookup||{})[this.storageKey]):(e="IndexedDb bulk read",yield this.initializeIndexedDb(),i=yield this.indexedDb.getObject(this.storageKey)),!i||0===i.size)return void o.k.log(`Resolver: Bulk read of configs from ${e} didn't find any configs.`);this.populateConfigMapFromCachedConfigs(i,e),this.addConfigTiming("IdbInitAndReadAll",t,"cache")}catch(t){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.IndexedDbBulkReadFailed),{message:"IndexedDb bulk read failed",pb:Object.assign(Object.assign({},s.W1d.IndexedDbBulkReadFailed.pb),{customMessage:`IndexedDb bulk read from ${e} failed. Error: ${t}`})})),this.useIndexedDb=!1}}))}_initializeIndexedDb(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.useIndexedDb)try{const{_idbConfigOpenPromise:e}=window;yield this.indexedDb.initializeIndexedDb(1,"Configurations_12","wwConfigs",e),o.k.log("Resolver: IndexedDb initialized in main thread.")}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.IndexedDbInitFailed),{message:"IndexedDb initialization failed",pb:Object.assign(Object.assign({},s.W1d.IndexedDbInitFailed.pb),{customMessage:e})}))}}))}populateConfigMapFromCachedConfigs(e,t){let i=0;e.forEach((e=>{if(!e.configIndexHref||this.isConfigStale(e.storageTimestamp))i++;else{const t=this.getCacheKey(e.configIndexHref);this.configMap.set(t,e)}})),o.k.log(`Resolver: Found ${e.size-i} valid configs out of ${e.size} from ${t}`)}prgFlightsSameAsLocalStorage(){try{const e=(0,C.$o)().getItem(this.peregrineFlightsKey);return e&&this.peregrineFlights&&e===this.peregrineFlights}catch(e){this.resolverErrors.push(Object.assign(Object.assign({},s.W1d.PrgFlightLsReadError),{message:"Error reading prg flights from localStorage",pb:Object.assign(Object.assign({},s.W1d.PrgFlightLsReadError.pb),{customMessage:e})}))}return!1}getConfigsCacheLocalStorageKey(){const{audienceMode:e,pageType:t}=this.currentTargetScope||{},i=c.jG.LocaleContentMarket||{};return`config_hash_${e}_${i.language}_${i.market}_${t}_${c.jG.AppType}`}getConfigCacheProperties(){let e;try{if(e=c.jG.ConfigCacheProperties,!this.prgFlightsSameAsLocalStorage())return this.purgeRenderCacheUponConfigChanges(!1),e;if(e){const t=(0,C.$o)().getItem(this.getConfigsCacheLocalStorageKey());if(t){const{bundleHash:i,configHash:n,locHash:r}=JSON.parse(t)||{};i&&n&&r&&(e.lastBundleHash=i,e.lastConfigHash=n,e.lastLocHash=r)}}return e}catch(e){o.k.logError(`Error getting config hashes from ls: ${e}`)}return e}writeConfigCacheProperties(){if(c.jG.IsGitConfigs)try{const{bundleHash:e,configHash:t,locHash:i}=c.jG.ConfigCacheProperties||{};e&&t&&i&&(0,C.$o)().setItem(this.getConfigsCacheLocalStorageKey(),JSON.stringify({bundleHash:e,configHash:t,locHash:i}))}catch(e){o.k.logError(`Error writing config hashes to ls: ${e}`)}}writeCbidInLocalStorage(e){const t=`cbid_${c.jG.AppType||""}`;try{(0,C.$o)().setItem(t,e)}catch(i){throw`Error writing cbid: ${e} to local storage with key ${t}. Error: ${i}`}}}let we=new Se;const Te={getRootConfig:e=>we.getRootConfig(e),getEntryPointConfigRef:()=>we.getEntryPointConfigRef(),getConfig:e=>we.getConfig(e),mergeConfig:e=>we.mergeConfig(e),resolveConfigIndex:e=>we.resolveConfigIndex(e),targetScopeMatched:e=>we.targetScopeMatched(e),getConfigTimings:(e={},t=!1)=>we.getConfigTimings(e,t),getResolverErrors:()=>we.getResolverErrors(),refreshConfigCache:()=>we.refreshConfigCache(),removeCachedConfig:e=>we.removeCachedConfig(e),clearConfigCache:()=>we.clearConfigCache(),getInstance:()=>we,setTargetScopeAndConfigServiceParams:()=>we.setTargetScopeAndConfigServiceParams(),initialize:(e,t)=>we.initialize(e,t),getUseConfigService:()=>we.useConfigService(),overrideConfig:(e,t,i)=>we.overrideConfig(e,t,i),overrideCurrentRequestTargetScope:e=>we.overrideCurrentRequestTargetScope(e),overrideCurrentRequestEnvironment:e=>we.overrideCurrentRequestEnvironment(e),generateKey:()=>we.generateKey(),clearInternalState:()=>we.clearInternalState(),initializeCaching:e=>we.initializeCaching(e),getConfigServiceParameters:()=>we.getConfigServiceParameters(),setConfigTimingsObject:e=>we.setConfigTimingsObject(e),getCacheKey:e=>we.getCacheKey(e),updateServerCache:(e,t)=>we.updateServerCache(e,t)}},32181:function(e,t,i){"use strict";function n(e){return a(e,(e=>e.configRef.experienceType),(e=>e.experienceType),null)}function r(e){return a(e,(e=>e.configRef),(e=>e.href),(e=>e))}function o(e){return`${e.experienceType}_${e.instanceSrc}_${e.sharedNs||""}`}function s(e){return e&&null!=e.instanceId&&!!a(e,(e=>e.configRef&&e.configRef.experienceType&&e.configRef.instanceSrc),(e=>e.experienceType&&null!=e.href),null)}function a(e,t,i,n,r){if(void 0===r&&(r=null),null!=e){if("string"==typeof e)return n&&n(e)||r;const o=e;if(o.configRef)return t&&t(o)||r;const s=e;if(i)return i(s)||r}return r}i.d(t,{B5:function(){return o},Fr:function(){return r},M:function(){return n},oO:function(){return s}})},2040:function(e,t,i){"use strict";i.d(t,{AU:function(){return a},Cd:function(){return F},DB:function(){return g},H1:function(){return k},It:function(){return M},JJ:function(){return T},Ji:function(){return m},Kz:function(){return h},Li:function(){return b},Ny:function(){return C},Qw:function(){return f},X8:function(){return u},Xs:function(){return n},Yu:function(){return E},Z7:function(){return L},Zx:function(){return s},_J:function(){return o},cp:function(){return l},gb:function(){return O},js:function(){return d},l7:function(){return S},m$:function(){return v},nM:function(){return y},ob:function(){return A},pv:function(){return D},rD:function(){return I},um:function(){return c},uw:function(){return p},wG:function(){return w},x$:function(){return r}});const n="msnewsroot",r={html:"html",head:"head",body:"body"},o={manifestAttributeName:"manifest",pagesRefreshData:"ac_prd"},s="data-client-settings",a="data-pagetype",c="data-info",d="data-js",l="dir",u="data-service-url",g="data-telemetry-id",p="data-page-product",h="data-page-type",f=2,m="APP_ANON",v="aace",b="ace",y="child",C="nurturingAccepted",S="recommended-search-enabled",w="search-history-enabled",T="left-rail-enabled",k="side-bar-enabled",O="no-search-history-expected-auth",E={activityId:"x-client-activityid",adsReferer:"ads-referer",authorization:"Authorization",entAuthorization:"Ent-Authorization",muid:"MUID",rpsToken:"UserAuthToken",taboolaSessionId:"taboola-sessionId",userIdToken:"UserIdToken"},I={traceId:"ddd-activityid"},A="IDXId";var P,x;!function(e){e.Presentation="presentation"}(P||(P={})),function(e){e.Unknown="Unknown",e.Portrait="Portrait",e.Landscape="Landscape"}(x||(x={}));const M={pageVersions:"pageVersions"},L="https://microsoftnews.msn.com/",D="selectedPivot";var F;!function(e){e[e.Undefined=0]="Undefined",e[e.Basic=1]="Basic",e[e.Advanced=2]="Advanced",e[e.Premium=3]="Premium"}(F||(F={}))},970:function(e,t,i){"use strict";i.d(t,{L:function(){return s}});var n=i(33379),r=i(70493);let o;function s(){return o||(o=new URLSearchParams(location.search)),o}(0,n.N)()||(0,r.U)((()=>{o=null}))},66588:function(e,t,i){"use strict";function n(e){return new Promise((t=>setTimeout(t,e)))}i.d(t,{r:function(){return n}})},1334:function(e,t,i){"use strict";i.d(t,{Gg:function(){return a},WW:function(){return c},tk:function(){return s}});let n=!1;const r=new Set,o=[];var s;function a(e,t){t?r.add(e):r.delete(e),n=r.size>0;for(const i of o)i(e,t)}function c(e){o.push(e)}!function(e){e.msRewards="msRewards",e.coachmark="coachmark",e.search="search",e.settings="settings",e.addTopSite="addTopSite",e.editTopSite="editTopSite",e.actionMenuOpen="actionMenuOpen",e.hamburgerMenu="hamburgerMenu",e.pivot="pivot",e.searchHistoryMoreOptions="searchHistoryMoreOptions",e.signInControl="signInControl",e.waffle="waffle",e.toast="toast",e.museumCard="museumCard",e.voiceSearchWC="voiceSearchWC",e.imageSearch="imageSearch",e.editWelcomeGreeting="editWelcomeGreeting",e.editLocationMarker="editLocationMarker",e.notificationBell="notificationBell"}(s||(s={}))},2278:function(e,t,i){"use strict";i.d(t,{HB:function(){return h}});var n=i(47903),r=i(58155),o=i(33379),s=i(12884),a=i(66213),c=i(54804);const d="//assets.msn.com",l="//assets.msn.cn",u={"int.msn.cn":l,"int1.msn.cn":l,"microsoftnews-int.msn.cn":l,"microsoftnews-int1.msn.cn":l,"microsoftnews.msn.cn":l,"ntp.msn.cn":l,"owa-int.msn.cn":l,"owa-int1.msn.cn":l,"owa.msn.cn":l,"superapp-int.msn.cn":l,"superapp-int1.msn.cn":l,"superapp.msn.cn":l,"windows-int.msn.cn":l,"windows-int1.msn.cn":l,"windows.msn.cn":l,"www.msn.cn":l},g=e=>"localhost.msn.com"===e.split(":",1)[0],p=(e,t,i)=>{const s=new URLSearchParams(e),p="true"===s.get("renderWidget"),h="true"===s.get("useDeployedBundles"),f=p||h,m=a.jG.IsChinaCompliance?l:!f&&(e=>g(e)?`//${e}`:u[e])(t)||d;if(s.has("entry")){const e=s.get("entry").split("/").slice(0,-1).join("/")+"/";if(m)return m+e}else{if(m&&g(t)&&!h){if((0,o.N)())return i?m+i:i;return m+__WEBPACK_LOCAL_STATICS_PATH__}if(m){const t=c.Al.ClientSettings&&c.Al.ClientSettings.queryparams,o=(e||"").substring(1),s=(t||"").substring(1);let a=o+"&"+s;a=decodeURIComponent(a);const d=new n.h(a).get("bundles"),l=r.c.getParamsWithItems(a).find((e=>"spalink"===e.key));let u=l&&l.value&&l.value.split("/");u&&""===u[0]&&(u=u.slice(1));const g=u&&u[0];if(i){const e=i.split("/");return e[4]=g||(d||"latest"),m+e.join("/")}}}return i},h=()=>{i.p=p((0,s.zp)(),(0,s.zw)(),i.p)}},44979:function(e,t,i){"use strict";i.d(t,{DO:function(){return c},Nd:function(){return a},fH:function(){return s}});var n=i(66213),r=i(64306),o=i(10052);class s{constructor({params:e,qspPrefix:t,spec:i}={},n){this.requestData=new r.m(i||o.j,t||o.m),e&&this.requestData.loadQueryParams(e),n&&(this.RequestId=n)}get requestId(){return this.RequestId||this.app.ActivityId}get app(){return n.jG}get data(){return this.requestData.data}}function a(e,t,i=!0){if("function"==typeof e){const t=e();if(t||0===t)return t}if(i)throw new Error("Expected "+t+" to return value. Possible invalid RequestContext spec used or the spec doesn't contain this data.")}function c(e){return a(e.data.locationHref,"locationHref",!1)}},78468:function(e,t,i){"use strict";i.d(t,{E:function(){return n}});const n={prod:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/"}},40537:function(e,t){"use strict";t.Z=function(e,...t){if(e){const i=/{([\d]+)}/g,n=[];let r=i.exec(e),o=0,s=0;for(;null!==r;)s=r.index,n.push(e.substring(o,s)),n.push(t[r[1]]),o=i.lastIndex,r=i.exec(e);return n.push(e.substring(o)),n}}},46380:function(e,t,i){"use strict";i.d(t,{B:function(){return n}});const n={trackAppErrorEvent:()=>{},sendSinglePageViewBeacon:()=>{},trackPartialImpression:()=>{},trackEvent:()=>{},setTrackingAttrs:null}},17318:function(e,t,i){"use strict";i.d(t,{Sm:function(){return m},br:function(){return b},cb:function(){return v}});var n=i(33940),r=(i(73040),i(2140));function o(e){const t=(0,r.s)();return function(i,n){if(n||(n={}),!s(n,"Referer")){const e="string"==typeof i?i:i.url;!function(e,t,i,n){const r=(c[n]||c[a])(e,t);if(delete i.referrerPolicy,!r)return;i.headers=i.headers||{},i.headers.Referer=r}(t.url,e,n,n.referrerPolicy)}return s(n,"User-Agent")||function(e,t){e.headers=e.headers||{},e.headers["User-Agent"]=`${t} (via node-fetch)`}(n,t.userAgent),e(i,n)}}function s(e,t){return e.headers&&void 0!==e.headers[t]}const a="strict-origin-when-cross-origin",c={"no-referrer":(e,t)=>{},"no-referrer-when-downgrade":(e,t)=>d(e,t)?void 0:e.href,origin:(e,t)=>e.origin+"/","origin-when-cross-origin":(e,t)=>l(e,t)?e.href:e.origin+"/","same-origin":(e,t)=>l(e,t)?e.href:void 0,"strict-origin":(e,t)=>d(e,t)?void 0:e.origin+"/","strict-origin-when-cross-origin":(e,t)=>l(e,t)?e.href:c["strict-origin"](e,t),"unsafe-url":(e,t)=>e.href};function d(e,t){return"https:"===e.protocol&&t.startsWith("http:")}function l(e,t){return t.startsWith(e.origin+"/")}var u=i(33379),g=i(33954);let p,h;class f{constructor(){"undefined"!=typeof AbortController&&(this.controller=new AbortController)}abort(){return!!this.controller&&(this.controller.abort(),!0)}setAbortSignal(e){this.controller&&(e.signal=this.controller.signal)}}function m(e,t,i,r,o,s){return(0,n.mG)(this,void 0,void 0,(function*(){o||(o=fetch),r||(r=new f),(0,u.N)()&&(s=!1);let n=null;if(t>0&&(n=1e4,n=setTimeout((()=>{if(!r.abort())throw new Error(`Fetch for ${e} aborted due to timeout of ${t} ms. AbortController is not supported.`)}),t)),i||(i={method:"GET"}),!(0,u.N)()&&!i.agent&&p&&h){const e=function(e){return"http:"===e.protocol?p:h};i.agent=e}i.signal||r.setAbortSignal(i);const a=performance.now();let c,d=0;const l={};return o(e,i).then((e=>(d=e.status,s&&(l.cluster=e.headers.get("x-fabric-cluster"),l.afd=e.headers.get("x-msedge-ref")),e))).catch((i=>{if(c=i,"AbortError"===i.name)throw new Error(`Fetch for ${e} aborted due to timeout of ${t} ms.`);throw new Error(i)})).finally((()=>{if(!(0,u.N)()){const i={abortableFetch:{url:e,statusCode:d,timeElapsed:(performance.now()-a).toFixed(2),timeOut:t.toFixed(2),errorMessage:c&&c.message,errorName:c&&c.name,errorCode:c&&c.code,errorType:c&&c.type,cluster:l.cluster,afd:l.afd}};g.k.logSingleObject(i,!0)}n&&clearTimeout(n)}))}))}function v(){return{abortToken:null,timeoutMs:900,fetchImpl:o(fetch)}}function b(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){return i||(i=v()),m(e,i.timeoutMs,t,i.abortToken,i.fetchImpl,i.trackApiClusterInServer)}))}},49926:function(e,t,i){"use strict";let n;function r(e){if(!e)return null;if(!n){const e="undefined"!=typeof document&&document.cookie.split("; ");n={};const t=e&&e.length;for(let i=0;i<t;i++){const t=e[i].split("=");n[t[0].toLocaleLowerCase()]=decodeURIComponent(t[1])}}const t=e.toLocaleLowerCase();return n[t]||null}i.d(t,{AE:function(){return r}})},41115:function(e,t,i){"use strict";i.d(t,{N6:function(){return s},j3:function(){return o}});let n={},r={};function o(e,t){if(n[e]===t)return;n[e]=t;const i=r[e];if(i)for(const e of i)e(t)}function s(e,t){let i=r[e];i||(i=[],r[e]=i),i.push(t);const o=n[e];o&&t(o)}},56965:function(e,t,i){"use strict";i.d(t,{D:function(){return n}});var n,r=i(12884);!function(e){e.addSegoeUIVariableFont=function(){const e=document.createElement("style");e.setAttribute("type","text/css");const t=(0,r.Td)().endsWith(".cn")?"https://assets.msn.cn":"https://assets.msn.com";e.appendChild(document.createTextNode(`\n                @font-face {\n                    font-display: swap;\n                    font-family: "Segoe UI";\n                    font-style: normal;\n                    font-weight: 100 900;\n                    src: url(${t}/staticsb/statics/latest/fonts/segoeuivf/SegoeUI-Roman-VF-subset_web.woff2) format('woff2');\n                }\n                body {\n                    font-family: "Segoe UI";\n                    margin: 0;\n                }`)),document.head.appendChild(e)}}(n||(n={}))},93698:function(e,t,i){"use strict";i.d(t,{$:function(){return d}});var n=i(33940),r=i(33954),o=i(21050),s=i(12884),a=i(33379),c=i(58155);class d{constructor(){this.idb=(0,s.bs)()}get supported(){return!!this.idb||((0,a.N)()&&r.k&&r.k.log("window.indexedDB is not supported."),!1)}get isCachingAllowed(){const e=(0,s.zp)();if(e){const t=c.c.getQueryParameterByName("enableIndexedDbOperation",e);if(t)return"true"===t.toLocaleLowerCase()}return!0}get isGetAllAllowed(){const e=(0,s.zp)();if(e){const t=c.c.getQueryParameterByName("allowGetAllOverCursor",e);if(t)return"true"===t.toLocaleLowerCase()}return!(!IDBObjectStore.prototype||!IDBObjectStore.prototype.getAll)}_setIndexedDb(e){this.idb=e}_getIdbPromise(){return this.idbPromise}getObject(e){return(0,n.mG)(this,void 0,void 0,(function*(){let t;return yield this.withIdbStore("readonly","getObject",(i=>{t=i.get(e)})),t.result}))}getAll(){return(0,n.mG)(this,void 0,void 0,(function*(){let e;return yield this.withIdbStore("readonly","getAll",(t=>{e=t.getAll()})),e.result}))}getAllObjects(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isGetAllAllowed)return this.getAll();const e=[];return yield this.withIdbStore("readonly","getAllObjects",(t=>{t.openCursor().onsuccess=function(t){const i=t.target&&t.target.result?t.target.result:void 0;i&&i.value&&(e.push(i.value),i.continue())}})),e}))}setObject(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","setObject",(i=>{i.put(t,e)}))}))}removeObject(e){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","removeObject",(t=>{t.delete(e)}))}))}clearObjects(){return(0,n.mG)(this,void 0,void 0,(function*(){return yield this.withIdbStore("readwrite","clearObjects",(e=>{e.clear()}))}))}initializeIndexedDb(e=1,t="Default",i="MicrosoftNews",r=null){return(0,n.mG)(this,void 0,void 0,(function*(){this.storeName=t,this.perfTimeline=(0,o.oA)(`IndexedDB-${t}`,t),this.idbPromise=r||new Promise(((n,r)=>{const o=this.perfTimeline&&this.perfTimeline.startMeasure("open").endMeasure,s=this.idb.open(i,e);s.onerror=()=>{o&&o("error"),r(s.error)},s.onsuccess=()=>{o&&o(),n(s.result)},s.onupgradeneeded=()=>{s.result.createObjectStore(t)}}))}))}withIdbStore(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){return this.idbPromise.then((n=>new Promise(((r,o)=>{const s=this.perfTimeline&&this.perfTimeline.startMeasure(t).endMeasure,a=n.transaction(this.storeName,e);a.oncomplete=()=>{s&&s(),r()},a.onabort=a.onerror=()=>o(a.error),i(a.objectStore(this.storeName))}))))}))}}},8228:function(e,t,i){"use strict";function n(){try{return localStorage}catch(e){return null}}function r(){try{return sessionStorage}catch(e){return null}}i.d(t,{N:function(){return r},U:function(){return n}})},70694:function(e,t,i){"use strict";i.d(t,{p:function(){return n}});var n,r=i(12108),o=i(66213),s=i(54804);!function(e){e.isDhpPage=function(){return s.Al.ClientSettings.pagetype===r.G.DHP},e.isNtpPage=function(){return s.Al.ClientSettings.pagetype===r.G.NTP},e.fiveColSupported=function(){return o.jG.EnableFiveColLayout},e.sixColSupported=function(){return o.jG.EnableSixColLayout}}(n||(n={}))},46336:function(e,t,i){"use strict";function n(e){try{return JSON.parse(e)}catch(e){return null}}function r(e,t){const i=parseInt(e);return isNaN(i)?t:i}function o(e){let t;return null!=e&&(t=n(e),null!=t)?t:null}i.d(t,{dW:function(){return n},hh:function(){return r},sF:function(){return o}})},31293:function(e,t,i){"use strict";i.d(t,{$z:function(){return s},Pz:function(){return o},cf:function(){return a}});var n=i(2040),r=i(65337);function o(){(0,r.$o)().removeItem(n.pv)}function s(){return(0,r.$o)().getItem(n.pv)}function a(e){(0,r.$o)().setItem(n.pv,e)}},70493:function(e,t,i){"use strict";i.d(t,{U:function(){return r}});const n=[];function r(e){n.push(e)}},36803:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});const n=e=>e&&"string"==typeof e&&e.trim&&!!e.trim()},47903:function(e,t,i){"use strict";i.d(t,{h:function(){return n}});class n{constructor(e){this.searchParams=Object.create(null),this.parseQueryString(e)}set(e,t){return null!=t&&(this.searchParams[e]=t),this}get(e){return this.searchParams[e]}delete(e){delete this.searchParams[e]}toString(){const e=Object.keys(this.searchParams);return e.length?e.sort().map((e=>`${e}=${this.searchParams[e]}`)).join("&"):""}parseQueryString(e){e&&("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&").forEach((e=>{const t=e.split("="),i=t[0];this.get(i)||(this.searchParams[i]=t[1])})))}}},58155:function(e,t,i){"use strict";i.d(t,{c:function(){return n}});var n,r=i(88352),o=i(79022),s=i(54433),a=i(92170),c=i(13578),d=i(50769),l=i(37242),u=i(12884);!function(e){const t=/[^A-Za-z0-9]+/g;function i(e,t=!1){if(!(0,o.Z)(e))return null;return g((e||"").split("?")[1],t)}function n(e){return e=e.replace(/\+/g," "),e=decodeURIComponent(e)}function g(e,t=!1){const i=[];if(e&&e.startsWith("?")&&(e=e.substring(1)),e){const r=(e=e.split("#")[0]).split("&");for(let e=0;e<r.length;e++){const o=r[e].split("=");let a=o[0],c=o[1];t&&(a=n(a),c&&(c=n(c)));const d={key:a,value:c},l=(0,s.Z)(i,(e=>e.key===d.key));-1===l?i.push(d):i[l]=d}}return i}e.getParamsFromUrl=i,e.encodeURIComponentForPrime=function(e){return encodeURIComponent(e.replace(t,"-"))},e.getParams=g,e.getParamsWithItems=function(e,t=!1){const i=[];if(e){e.startsWith("?")&&(e=e.substring(1));const r=(e=e.split("#")[0]).split("&");for(let e=0;e<r.length;e++){const o=r[e].split("=");let s=o[0],a=o[1];if(t&&(s=n(s),a&&(a=n(a))),"item"===s.toLowerCase()){a=a.replace("::::",";;;;");const e=a.split(":");if(2===e.length){s=e[0],a=e[1].replace(";;;;","::::");const t={key:s,value:a};-1===i.findIndex((e=>e.key===t.key))&&i.push(t)}}}}return i};const p={};function h(e){const t={},n=i(e,!0);return n&&n.length&&n.forEach((e=>t[e.key]=e.value)),t}e.getQueryParameterByName=function(e,t){p[t]||(p[t]=h(t));const i=p[t][e];return void 0!==i?i:null},e.isValidUrl=function(e,t){return(0,o.Z)(e)&&e.length>0&&(!t||t&&0===e.indexOf("http"))},e.keyValueArrayToQueryString=function(e){return!(0,a.Z)(e)||(0,c.Z)(e)?"":e.filter((e=>r.b.isKeyValuePair(e,(e=>"string"==typeof e),(e=>"string"==typeof e)))).map((e=>e.key+"="+e.value)).join("&")},e.getParamsObj=h,e.joinSubpathToURL=function(e,t){const i=e.href,n=(0,d.Z)(i,"/"),r=(0,l.Z)(t,"/");return new URL(`${n}/${r}`)},e.updateSearchParam=function(e,t,i){return e&&e.searchParams&&e.searchParams.get(t)&&e.searchParams.set(t,i),e},e.appendSearchParam=function(e,t,i,n){return e&&(e.searchParams||n?e.searchParams.append(t,i):e=new URL(e.href+(e.search.indexOf("?")>=0?"&":"?")+t+"="+i)),e},e.getAbsoluteUrl=function(e){return e.indexOf("://")>0||0===e.indexOf("//")?e:(0,u.Dp)()+e}}(n||(n={}))},88352:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});var n,r=i(79022),o=i(43698);!function(e){function t(e){return null!=e}e.isNotNullOrUndefined=t,e.isDefined=function(e){return void 0!==e},e.isKeyValuePair=function(t,i,n){return e.isNonNullObject(t)&&i(t.key)&&n(t.value)},e.isNonNullObject=function(e){return e&&"object"==typeof e},e.isNotNull=function(e){return null!==e},e.isNullOrWhiteSpace=function(e){return!(0,r.Z)(e)||""===e.trim()},e.toNumber=function(e,t=-1){if(!e)return t;const i=(0,o.Z)(e);return isNaN(i)?t:i},e.arrayHasData=function(e){return!!t(e)&&(e.constructor===Array&&e.length>0)},e.stringHasData=function(e){return(0,r.Z)(e)&&e.trim().length>0},e.objectToString=function e(t){let i="",n=!0;if("object"!=typeof t)return i;for(const r in t)"object"==typeof t[r]?i+=n?`${e(t[r])}`:`-${e(t[r])}`:i+=n?`${t[r]}`:`-${t[r]}`,n=!1;return i},e.removeHyphens=function(e){if(e)return e.replace(/-/g,"")}}(n||(n={}))},94788:function(e,t,i){"use strict";i.d(t,{Fr:function(){return p},mS:function(){return f},ot:function(){return h},rh:function(){return m},yb:function(){return c}});var n=i(21050),r=i(26415),o=i(33954),s=i(49972),a=i(33379);let c;const d=new Map;let l;const u=(0,n.oA)("WebWorkerUtility","WebWorkerUtility",!0),g=new Map,p=e=>{if(!e)return;const t=g.get(e);return t?(g.delete(e),t):void 0};function h(e,t,i=!0){const n={id:e&&e.id||"",fetched:!1,payload:null};if(!c||!e||!e.id)return Promise.resolve(n);const s=u&&u.startMeasure(e.id).endMeasure,a=g.get(e.id);if(a)return g.delete(e.id),s&&s("standbymessage"),Promise.resolve(a);let p,h;t&&(h=new Promise((a=>{p=setTimeout((()=>{d.delete(e.id);const c=`Web worker request timed out after ${t}ms for request id: [${e.id}]`;i&&(l?l(Object.assign(Object.assign({},r.ZaX.MessageTimeout),{message:"Web worker request timed out",pb:Object.assign(Object.assign({},r.ZaX.MessageTimeout.pb),{customMessage:c})})):o.k.logError(c)),s&&s("timeout"),a(Object.assign(Object.assign({},n),{timeout:!0}))}),t)})));const f=new Promise((t=>{d.set(e.id,{type:e.type||"data",callback:e=>{p&&clearTimeout(p),s&&s(),t(e)}})}));return window.webWorker.postMessage({id:e.id,type:e.type||"data",payload:e.payload}),t?Promise.race([f,h]):f}function f(e){c&&e&&e.id&&window.webWorker.postMessage({id:e.id,type:e.type||"command",payload:e.payload||null})}function m(e){if(!c||!e||"function"!=typeof e)return;l=function(t){try{e(t)}catch(e){o.k.logError(`Failed to log web worker AppError. Error: ${(0,s.n)(e)}`)}},window.webWorker.onerror=v;var t,i;t={id:"WebWorkerError",type:"subscription"},i=e=>{if(e.payload&&"object"==typeof e.payload){const t=e.payload;t.pb=Object.assign(Object.assign({},t.pb),(0,r.mnt)()),l(t)}else l(Object.assign(Object.assign({},r.ZaX.HandledError),{message:"Web worker error",pb:Object.assign(Object.assign({},r.ZaX.HandledError.pb),{customMessage:JSON.stringify(e.payload||"")})}))},c&&t&&"subscription"===t.type&&i&&(d.set(t.id,{type:"subscription",callback:i}),window.webWorker.postMessage(t)),setTimeout((()=>{window.webWorkerErrors&&Array.isArray(window.webWorkerErrors)&&(window.webWorkerErrors.forEach((e=>{v(e)})),delete window.webWorkerErrors)}))}function v(e){if(!e.filename)return c=!1,window._isWebWorkerPresent=c,window.webWorker.terminate(),void l(Object.assign(Object.assign({},r.ZaX.FileNotFound),{message:"Web worker script not found",pb:Object.assign(Object.assign({},r.ZaX.FileNotFound.pb),{customMessage:JSON.stringify(b(e))})}));l(Object.assign(Object.assign({},r.ZaX.RuntimeError),{message:"Web worker runtime error",pb:Object.assign(Object.assign({},r.ZaX.RuntimeError.pb),{customMessage:JSON.stringify(b(e))})}))}function b(e){return JSON.stringify({filename:e.filename,message:e.message,lineno:e.lineno})}var y;c=!1,(0,a.N)()&&(c=void 0!==y?y:!!window.webWorker,window._isWebWorkerPresent=c),c&&(window.webWorker.onmessage=e=>{const{data:t}=e,i=d.get(t.id);if(!i)return void g.set(t.id,t);"data"===i.type&&d.delete(t.id);const n=i.callback;n&&n(t)},setTimeout((()=>{window.webWorkerMessages&&Array.isArray(window.webWorkerMessages)&&(window.webWorkerMessages.forEach((e=>{e.id&&g.set(e.id,e)})),delete window.webWorkerMessages)})))},64434:function(e,t,i){"use strict";var n;i.d(t,{K:function(){return n}}),function(e){e[e.Banner=999999]="Banner",e[e.CookieWall=1100]="CookieWall",e[e.Dialog=900]="Dialog",e[e.Flyout=700]="Flyout",e[e.Overlay=600]="Overlay",e[e.Nav=500]="Nav",e[e.Over=300]="Over",e[e.Above=100]="Above",e[e.Default=0]="Default",e[e.Below=-1]="Below",e[e.Buried=-2]="Buried"}(n||(n={}))},65337:function(e,t,i){"use strict";i.d(t,{$o:function(){return s}});var n=i(77419),r=i(33379);class o extends n.C{constructor(){let e=null;if((0,r.N)())try{e=localStorage}catch(e){}super(e)}}function s(){return a}let a=new o},16078:function(e,t,i){"use strict";i.d(t,{D:function(){return o}});var n=i(26415),r=i(33379);function o(e){if((0,r.N)()){const t="storageTest";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){(e||"function"==typeof e)&&e(Object.assign(Object.assign({},n.mmU.LocalStorageDoesntExist),{message:`Local Storage is not defined ${t}`}))}}return!1}},93853:function(e,t,i){"use strict";i.d(t,{y7:function(){return s}});var n=i(77419),r=i(33379);class o extends n.C{constructor(){let e=null;if((0,r.N)())try{e="sessionStorage"in window&&window.sessionStorage}catch(e){}super(e)}}let s=new o},40715:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var n=i(26415),r=i(33379);function o(e){if((0,r.N)()){const t="storageTest";try{return window.sessionStorage.setItem(t,t),window.sessionStorage.removeItem(t),!0}catch(t){(e||"function"==typeof e)&&e(Object.assign(Object.assign({},n.mmU.SessionStorageDoesntExist),{message:`Session Storage is not defined: ${t}`}))}}return!1}},77419:function(e,t,i){"use strict";i.d(t,{C:function(){return o}});var n=i(46336),r=i(33954);class o{constructor(e){this.storage=e}get supported(){return!!this.storage}getItem(e){if(this.supported)return this.storage.getItem(e)}getObject(e,t){const i=this.getItem(e);if(null!=i){const e=(0,n.dW)(i);if(null!=e)return e}return t}key(e){if(this.supported&&e>=0)return this.storage.key(e)}setObject(e,t){void 0!==t?this.setItem(e,JSON.stringify(t)):this.removeItem(e)}removeObject(e){const t=this.removeItem(e);if(null!=t)return(0,n.dW)(t)}setItem(e,t){if(this.supported)try{this.storage.setItem(e,t)}catch(e){r.k.logError(e)}}get length(){if(this.supported)return this.storage.length}removeItem(e){if(this.supported){const t=this.getItem(e);return this.storage.removeItem(e),t}}removeSubstringKeys(e){if(!this.supported||!e)return;const t=[];for(let i=0;i<this.storage.length;i++){const n=this.key(i);n&&n.includes(e)&&t.push(n)}for(let e=0;e<t.length;e++)this.removeItem(t[e])}}},26415:function(e,t,i){"use strict";i.d(t,{$0o:function(){return Xr},$AQ:function(){return zo},$Ej:function(){return _n},$We:function(){return Rr},$YQ:function(){return ma},$eW:function(){return fd},$qz:function(){return Bd},A0i:function(){return Qt},A49:function(){return Bs},A5g:function(){return fl},AC$:function(){return gd},ASE:function(){return ft},ATH:function(){return je},AYT:function(){return A},Ajh:function(){return bc},Aps:function(){return Is},AvP:function(){return K},Ay$:function(){return pa},B5f:function(){return Nd},B70:function(){return pi},BBg:function(){return rn},BO7:function(){return S},BZ0:function(){return $},BlE:function(){return g},BsL:function(){return eu},Bxi:function(){return sc},C0x:function(){return ja},C6c:function(){return l},CBH:function(){return Ii},CBf:function(){return en},CBr:function(){return Rs},CJt:function(){return Fl},CPU:function(){return Ti},CPg:function(){return xn},CS7:function(){return lt},Cab:function(){return ln},Ceo:function(){return G},Cfk:function(){return _e},CgS:function(){return jd},ChW:function(){return Qs},CiN:function(){return Ll},Cn7:function(){return Cn},CtU:function(){return kr},Cy3:function(){return ot},D2d:function(){return Ia},DKZ:function(){return ba},DaG:function(){return Jr},Dag:function(){return zl},Dl5:function(){return vl},DnH:function(){return St},DyR:function(){return _t},DzU:function(){return tc},E$N:function(){return Zs},E7H:function(){return Fo},EF$:function(){return la},EXN:function(){return Ni},EYv:function(){return ad},Ecq:function(){return Kr},EeU:function(){return Co},EhB:function(){return xi},EjK:function(){return Id},Emt:function(){return Nl},EoX:function(){return Ye},Erc:function(){return Dl},Evv:function(){return et},Ez4:function(){return Gi},F$$:function(){return Jd},FLG:function(){return rd},FQ3:function(){return Li},F_w:function(){return Ya},Fji:function(){return Ra},FtH:function(){return Hd},FwV:function(){return B},G1Z:function(){return O},G4F:function(){return _c},G7x:function(){return ta},G9t:function(){return Oo},GAO:function(){return tr},GJQ:function(){return Yc},GJW:function(){return aa},GQ:function(){return a},GU:function(){return q},GVt:function(){return N},GYz:function(){return Ea},GeL:function(){return Xn},Gm$:function(){return we},Gri:function(){return Ml},Gw9:function(){return Wa},GyY:function(){return Al},H4x:function(){return P},H8e:function(){return ye},HFn:function(){return J},HKp:function(){return H},HWG:function(){return Qd},H_Z:function(){return hr},HkJ:function(){return ps},HpJ:function(){return ia},Hrk:function(){return $l},Hv$:function(){return qc},HxT:function(){return uo},I2B:function(){return Ge},I8d:function(){return vd},IA3:function(){return ne},IIT:function(){return Xd},IS6:function(){return vr},ITJ:function(){return rr},IU$:function(){return Bt},IVG:function(){return Bo},IVQ:function(){return z},IWG:function(){return mr},IWw:function(){return ll},Ia3:function(){return jl},IfP:function(){return fn},IgS:function(){return Yl},IrA:function(){return Qi},ItM:function(){return Za},J5c:function(){return Vo},J8e:function(){return ys},JDK:function(){return Er},JIJ:function(){return Wt},JTZ:function(){return To},J_3:function(){return ko},J_l:function(){return Wd},Jap:function(){return Ee},Jio:function(){return ei},Jus:function(){return ur},K0:function(){return _},K73:function(){return sn},K8d:function(){return qe},KKn:function(){return Nn},KRn:function(){return Ua},KXt:function(){return io},K_X:function(){return Ds},Kfe:function(){return _r},Kh5:function(){return Sc},Kn8:function(){return Yo},Knl:function(){return sr},Krs:function(){return Tt},Kwd:function(){return $a},Kz0:function(){return gl},KzX:function(){return Zo},L90:function(){return Bn},L9E:function(){return as},LIN:function(){return Ci},LO8:function(){return Ls},LP$:function(){return fi},LP6:function(){return Nr},LPQ:function(){return ml},LRf:function(){return zi},LWq:function(){return $d},LXY:function(){return _d},La3:function(){return Fr},LwW:function(){return Nt},M2Y:function(){return Zl},M2h:function(){return ka},M7S:function(){return ci},MAX:function(){return Ed},MCu:function(){return bi},MD5:function(){return jn},MFQ:function(){return Es},MOe:function(){return On},MPp:function(){return Dt},MRH:function(){return ki},MWq:function(){return Wi},MXT:function(){return gc},M_5:function(){return gr},MaG:function(){return x},Me0:function(){return Tn},Mm$:function(){return So},MmB:function(){return $t},N1G:function(){return nn},N1Y:function(){return Ud},N4n:function(){return Ns},N6m:function(){return Mi},NFm:function(){return ha},NGC:function(){return Te},NKp:function(){return gn},NMS:function(){return Xe},NTE:function(){return td},Nlf:function(){return kc},NqK:function(){return Ca},NvH:function(){return us},Nxj:function(){return jt},O0T:function(){return he},O0V:function(){return ul},O3:function(){return pr},O5R:function(){return or},OEA:function(){return Or},OFV:function(){return Pr},OHc:function(){return an},OLX:function(){return Po},OPi:function(){return T},OQX:function(){return Fa},OWM:function(){return hn},Obu:function(){return Oc},OcW:function(){return Kd},Od5:function(){return Pn},OeS:function(){return L},Oin:function(){return Mc},OlW:function(){return Bc},OpM:function(){return ho},OqK:function(){return Mo},OrK:function(){return Ba},P0G:function(){return Rl},PMq:function(){return kl},PQq:function(){return Pt},PTG:function(){return gs},P_K:function(){return es},Php:function(){return ue},Psw:function(){return st},PwI:function(){return dl},Q$4:function(){return oo},Q48:function(){return Xo},Q9A:function(){return vo},QAb:function(){return Hr},QE_:function(){return Wl},QHO:function(){return mt},QMo:function(){return tl},QQk:function(){return bn},Qc1:function(){return Tl},Qg6:function(){return di},Qhc:function(){return Le},Qhy:function(){return Zi},QrA:function(){return Ss},QyX:function(){return Ul},R9Y:function(){return Vr},RDe:function(){return Gd},RLb:function(){return Xi},RXg:function(){return ld},ReU:function(){return Cd},RgZ:function(){return so},Rln:function(){return vi},S2e:function(){return Bi},S3W:function(){return Ur},SFF:function(){return xo},SHM:function(){return yc},SI$:function(){return yr},SIq:function(){return wo},SNZ:function(){return ir},SS9:function(){return Aa},SSg:function(){return ge},SX$:function(){return Ie},SaE:function(){return mn},Sp0:function(){return ae},Sr_:function(){return Re},SyQ:function(){return Ho},T2w:function(){return eo},T5b:function(){return ks},TBk:function(){return Je},TGh:function(){return ea},TGz:function(){return lr},THd:function(){return Un},TVf:function(){return Ui},Tcv:function(){return Ct},TmC:function(){return ss},TxW:function(){return Hn},TyC:function(){return nr},TyD:function(){return ri},U:function(){return ar},U7j:function(){return $o},UBn:function(){return de},UPS:function(){return Xl},US9:function(){return b},UVO:function(){return vn},UX3:function(){return Ki},Ui$:function(){return Ma},Ukr:function(){return Rn},V$n:function(){return De},V3_:function(){return $n},V9n:function(){return It},VBI:function(){return rl},VHu:function(){return sd},VLw:function(){return mo},VQZ:function(){return jr},VUW:function(){return Uc},VWS:function(){return Ro},ViL:function(){return qa},VoN:function(){return Zn},VpT:function(){return Mr},Vsq:function(){return Ri},Vwf:function(){return X},VzI:function(){return Vl},W1d:function(){return dt},W39:function(){return po},W7q:function(){return Ic},W91:function(){return zd},WA8:function(){return ms},WD2:function(){return U},WNM:function(){return Sa},WQV:function(){return va},Wct:function(){return gt},WeW:function(){return qn},WiH:function(){return El},WlJ:function(){return ec},WnH:function(){return Ne},X66:function(){return Fs},X81:function(){return Yr},X9Z:function(){return Td},XAT:function(){return bo},XD:function(){return d},XFR:function(){return f},XI8:function(){return Gt},XY_:function(){return Zr},Xb$:function(){return Vt},Xjf:function(){return Ys},Xw0:function(){return Ql},Y9r:function(){return Bl},YNO:function(){return Rc},YSG:function(){return Fi},YVg:function(){return oa},Yfz:function(){return Xa},YgJ:function(){return zc},YlS:function(){return li},Yr5:function(){return Sl},Ytj:function(){return lo},Ytw:function(){return se},Z$l:function(){return fa},Z1G:function(){return wt},Z1l:function(){return Pe},ZHI:function(){return Ei},ZSB:function(){return Mt},ZZK:function(){return Hl},ZaX:function(){return Rt},Zj1:function(){return Lt},Zmj:function(){return Ue},Zt_:function(){return Vi},_7Q:function(){return ca},_GG:function(){return za},_Gv:function(){return Xs},_I9:function(){return Ga},_J:function(){return mc},_NS:function(){return Cc},_Y2:function(){return I},_bN:function(){return qi},_c7:function(){return F},_h2:function(){return Ht},_ig:function(){return Si},_kV:function(){return dc},_lB:function(){return k},_ni:function(){return pe},_tv:function(){return me},_vs:function(){return ws},a$O:function(){return In},a2y:function(){return Ai},a3w:function(){return zn},a4J:function(){return it},a5R:function(){return wr},a6r:function(){return hd},a8G:function(){return Hs},aO:function(){return le},aSR:function(){return xa},a_c:function(){return ns},ak3:function(){return Ks},arQ:function(){return ii},arc:function(){return yn},bAs:function(){return te},bH3:function(){return ua},bKC:function(){return md},bUp:function(){return Pi},b_C:function(){return zt},bc5:function(){return yo},bcY:function(){return Io},bf5:function(){return Cs},bfG:function(){return hs},bid:function(){return Z},blf:function(){return Dr},bor:function(){return un},c$g:function(){return wd},c5r:function(){return re},c6N:function(){return Gl},c7c:function(){return Qo},c8$:function(){return oc},cFY:function(){return hi},cL8:function(){return Di},cRJ:function(){return Fe},cRW:function(){return An},cS6:function(){return Me},cZM:function(){return Ji},cgH:function(){return C},ckR:function(){return Vc},cyG:function(){return Ir},cz_:function(){return xc},d6P:function(){return _s},dLP:function(){return Vs},dO3:function(){return xl},dO_:function(){return id},dYy:function(){return Tc},dlb:function(){return Kt},drd:function(){return D},dxF:function(){return Se},dyx:function(){return Ta},e1y:function(){return go},eBj:function(){return vs},eDJ:function(){return bl},eEQ:function(){return Fd},ecn:function(){return Qa},ekR:function(){return Pl},eqK:function(){return js},erD:function(){return _l},etM:function(){return tn},etb:function(){return Jo},eto:function(){return Wn},f$k:function(){return bd},f3z:function(){return na},f7W:function(){return da},f7t:function(){return ti},fG_:function(){return Md},fIV:function(){return Gr},fLk:function(){return ud},fNC:function(){return fo},fU5:function(){return ee},f_s:function(){return Yi},fcH:function(){return Sn},g2L:function(){return Ae},g75:function(){return wc},gAu:function(){return Oi},gPK:function(){return Kn},gX7:function(){return Uo},gZr:function(){return Us},gfJ:function(){return co},gsz:function(){return sl},gvI:function(){return el},gyk:function(){return cd},gzO:function(){return ke},h$p:function(){return Oe},h5L:function(){return Ms},h6w:function(){return pt},h7C:function(){return nc},hDP:function(){return xt},hFn:function(){return Xc},hHM:function(){return Wc},hJr:function(){return Oa},hTy:function(){return Il},hhM:function(){return Dc},hm9:function(){return pl},hnc:function(){return wi},hnd:function(){return ls},hos:function(){return no},hrj:function(){return $r},hxo:function(){return Ol},i$H:function(){return to},i04:function(){return nl},i29:function(){return Hi},i8g:function(){return Gc},iJb:function(){return rt},iM0:function(){return Ld},ibs:function(){return oi},ic4:function(){return Do},ifI:function(){return Sd},ii9:function(){return La},j4V:function(){return ce},jGe:function(){return zr},jHV:function(){return En},jSE:function(){return M},jWk:function(){return _i},jdc:function(){return ts},jj$:function(){return on},jjl:function(){return qr},jvv:function(){return Ac},jzM:function(){return ra},k8J:function(){return Os},kKw:function(){return qt},kN4:function(){return Ar},kPC:function(){return ve},kWG:function(){return ni},kmu:function(){return cl},kyJ:function(){return $c},l$l:function(){return bs},l35:function(){return be},lFV:function(){return cn},lIV:function(){return Y},lNW:function(){return fe},lQJ:function(){return Zc},lSP:function(){return Qn},lmj:function(){return Jc},lu7:function(){return ht},lw5:function(){return ol},m96:function(){return Ec},m9g:function(){return Qe},mFi:function(){return Ke},mNV:function(){return He},mNl:function(){return wa},mOZ:function(){return _a},mOy:function(){return xr},me0:function(){return Ps},mfB:function(){return jo},mjE:function(){return _o},mlD:function(){return Br},mmU:function(){return at},mmY:function(){return Sr},mnt:function(){return c},n82:function(){return u},nCk:function(){return Kl},nG1:function(){return wn},nPk:function(){return $e},nS9:function(){return As},nTL:function(){return E},nWA:function(){return mi},nWu:function(){return ql},n_L:function(){return Ft},nab:function(){return Js},nrb:function(){return il},nsS:function(){return Ln},nvX:function(){return Yn},o7M:function(){return hc},oEq:function(){return ya},oHj:function(){return Ao},oYr:function(){return xe},od1:function(){return At},odB:function(){return $s},odm:function(){return ct},ofB:function(){return Hc},omk:function(){return V},onn:function(){return dn},ovB:function(){return y},ox:function(){return Ha},ozy:function(){return ed},p3y:function(){return p},pCD:function(){return Ts},pGg:function(){return hl},pHN:function(){return Et},pIg:function(){return v},pL3:function(){return Ot},pOl:function(){return Mn},pRv:function(){return dd},pbA:function(){return j},pc7:function(){return rc},pcX:function(){return Qr},pd7:function(){return Wr},pgv:function(){return Cr},phA:function(){return pc},piY:function(){return qs},plI:function(){return vt},pzZ:function(){return ui},q$m:function(){return Go},q4q:function(){return Ko},qCO:function(){return W},qrV:function(){return Ut},qri:function(){return fc},qst:function(){return Wo},qut:function(){return Jl},r3t:function(){return vc},rEw:function(){return tt},rHL:function(){return fr},rNk:function(){return sa},rUZ:function(){return Jn},rUw:function(){return kd},rY8:function(){return yt},ra1:function(){return Dn},rax:function(){return Vn},rbA:function(){return er},rct:function(){return br},rgO:function(){return yl},rmC:function(){return Ve},rqG:function(){return Gs},rrV:function(){return Fc},ruE:function(){return Yt},ryt:function(){return Ze},s51:function(){return $i},s8f:function(){return oe},sEi:function(){return uc},sF7:function(){return zs},sGX:function(){return Q},sHL:function(){return Qc},sTZ:function(){return lc},sX$:function(){return ie},sd_:function(){return R},sgS:function(){return Pa},sgf:function(){return Ja},shi:function(){return cc},sjI:function(){return ic},sny:function(){return Ad},sq0:function(){return od},sqX:function(){return Ws},sqY:function(){return Lr},srQ:function(){return No},tFh:function(){return ds},tkb:function(){return pn},tpK:function(){return al},txQ:function(){return yi},u45:function(){return h},uDb:function(){return qd},uFt:function(){return ro},uMC:function(){return ai},uMO:function(){return si},uSS:function(){return Fn},uSd:function(){return fs},uY6:function(){return Be},uZq:function(){return ao},ucr:function(){return Pc},udk:function(){return Ce},uow:function(){return Na},v0B:function(){return ga},v1x:function(){return gi},v3e:function(){return rs},v73:function(){return We},v8C:function(){return nt},v9K:function(){return wl},vU5:function(){return Od},vYO:function(){return Vd},vZx:function(){return Nc},vhe:function(){return Gn},vlt:function(){return kt},vvT:function(){return ze},w9b:function(){return ac},wAW:function(){return cr},wD3:function(){return Ka},wK4:function(){return Da},wiN:function(){return Cl},wnd:function(){return Lc},wwA:function(){return Pd},x5C:function(){return Kc},xDA:function(){return Yd},xEh:function(){return kn},xQV:function(){return Lo},xTX:function(){return is},xuo:function(){return xd},y7Z:function(){return Eo},yB4:function(){return yd},yLG:function(){return xs},yMR:function(){return nd},yOL:function(){return cs},yWd:function(){return m},y_x:function(){return qo},yb9:function(){return Dd},ybt:function(){return Rd},yrg:function(){return Va},yyJ:function(){return ji},z$F:function(){return w},z$g:function(){return dr},z0L:function(){return Xt},zEz:function(){return Zt},zTW:function(){return ut},zW$:function(){return Tr},z_8:function(){return pd},zl4:function(){return os},zok:function(){return jc},zpf:function(){return Jt},zwp:function(){return Zd}});var n=i(79664),r=i(68679);const o=n.z.Alert,s={build:""};function a(e){Object.assign(s,e)}function c(){return s}const d={id:1405,severity:n.z.NoAlert,pb:s},l=(n.z.NoAlert,{ComponentMountFailed:{id:8020,severity:o,pb:s},ZeroTopSitesError:{id:8021,severity:n.z.NoAlert,pb:s},StorageTopSitesError:{id:8022,severity:o,pb:s}}),u={id:8029,severity:o,pb:s},g={id:8030,severity:o,pb:s},p={id:8031,severity:o,pb:s},h={id:8032,severity:n.z.HighImpact,pb:s},f={id:8033,severity:n.z.HighImpact,pb:s},m={id:8034,severity:o,pb:s},v={id:8035,severity:o,pb:s},b={id:8036,severity:o,pb:s},y={id:8037,severity:o,pb:s},C={OneServiceResponseWasNullOrErroneous:{id:8038,severity:o,pb:s},OneServiceArticleListWasNullOrErroneous:{id:8039,severity:o,pb:s}},S={ErrorWhileFetchingContentPreviewContent:{id:8041,severity:n.z.NoAlert,pb:s},InvalidResponseFromContentPreviewFetch:{id:8042,severity:o,pb:s},InvalidResponseFromContentPreviewResponseJson:{id:8043,severity:o,pb:s},ErrorWhileInitializingAsyncContentPreviewContent:{id:8044,severity:o,pb:s},InvalidOrMissingContentId:{id:8045,severity:o,pb:s},MissingDataForExternalContent:{id:8046,severity:n.z.NoAlert,pb:s},MissingPartnerLink:{id:8047,severity:o,pb:s},ErrorWhileFetchingWindowsShellContentPreviewContent:{id:8048,severity:n.z.NoAlert,pb:s},ErrorLoadingImage:{id:8049,severity:o,pb:s}},w=(n.z.HighImpact,n.z.HighImpact,n.z.NoAlert,{id:8100,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),T={id:8101,severity:n.z.NoAlert,pb:s},k={id:8102,severity:n.z.NoAlert,pb:s},O={id:8103,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},E={id:8104,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},I={id:8105,severity:n.z.NoAlert,pb:s},A=(n.z.NoAlert,{id:8107,severity:n.z.NoAlert,pb:s}),P={id:8109,severity:n.z.NoAlert,pb:s},x=(n.z.NoAlert,n.z.NoAlert,{id:8183,severity:o,pb:s}),M={id:8184,severity:o,pb:s},L={id:8185,severity:o,pb:s},D={id:8186,severity:o,pb:s},F={id:8187,severity:o,pb:s},R={id:8189,severity:o,pb:s},N={FailedToChangeTheMarket:{id:8190,severity:o,pb:s},FetchNtpConfigDataFailed:{id:8191,severity:o,pb:s},ChromiumClientEmbededsearchAPIError:{id:8192,severity:o,pb:s}},j={FailedToGetFeedbackDataConnector:{id:8213,severity:o,pb:s},BadRequestReportingFeedback:{id:8214,severity:o,pb:s},ExceptionReportingFeedback:{id:8215,severity:o,pb:s}},B={ExceptionPowerliftStorage:{id:8219,severity:o,pb:s}},$={PoweredByLegendInvalidConfig:{id:8230,severity:o,pb:s}},H=(n.z.HighImpact,{InvalidResponse:{id:8290,severity:n.z.NoAlert,pb:s},FetchFailure:{id:8291,severity:n.z.NoAlert,pb:s}}),U={GeneralError:{id:8320,severity:o,pb:s},NotPlaceable:{id:8321,severity:n.z.NoAlert,pb:s},NotFoundComponent:{id:8322,severity:n.z.NoAlert,pb:s},CoachmarkDataConnectorUndefined:{id:8323,severity:o,pb:s},InvalidCTAType:{id:8324,severity:o,pb:s},CTATypeNotDefined:{id:8325,severity:o,pb:s},ConfigDataUndefined:{id:8326,severity:o,pb:s},FailedToFetchConfigData:{id:8327,severity:o,pb:s},ExceptionFetchingConfigData:{id:8328,severity:o,pb:s},EventNotDefined:{id:8329,severity:o,pb:s},CoachmarkStateNotDefined:{id:8330,severity:o,pb:s}},W={InvalidCoachmarkMessage:{id:8331,severity:o,pb:s},IrisDataConnectorUndefined:{id:8332,severity:o,pb:s},ErrorFoundForSurface:{id:8334,severity:o,pb:s},TelemetryInfoUndefined:{id:8335,severity:o,pb:s},EventTypeUndefined:{id:8336,severity:o,pb:s},IrisActionUndefined:{id:8337,severity:o,pb:s}},_={id:8363,severity:o,pb:s},z={id:8364,severity:o,pb:s},V={id:8366,severity:o,pb:s},G={CardActionBaseExperienceError:{id:8600,severity:o,pb:s},CardActionPostActionError:{id:8601,severity:o,pb:s},CardActionDeleteActionError:{id:8602,severity:o,pb:s},CardActionGetActionError:{id:8603,severity:o,pb:s},CardActionBadRequestReportingToOcv:{id:8604,severity:o,pb:s},CardActionExceptionReportingToOcv:{id:8605,severity:o,pb:s}},q={FailedToParseStaticsUrls:{id:8810,severity:n.z.HighImpact,pb:s},ScriptsNotFound:{id:8811,severity:n.z.HighImpact,pb:s},StyleSheetsNotFound:{id:8812,severity:n.z.HighImpact,pb:s},FailedToMountScript:{id:8813,severity:n.z.HighImpact,pb:s},FailedToMountStyleSheet:{id:8814,severity:n.z.HighImpact,pb:s}},Z={id:8815,severity:n.z.Critical,message:"Cookie Banner Element is missing",pb:s},Q=(n.z.NoAlert,{id:8841,severity:n.z.HighImpact,pb:s}),K={id:8842,severity:n.z.Critical,pb:s},J={id:8843,severity:o,pb:s},X={id:8844,severity:o,pb:s},Y={id:8845,severity:n.z.Critical,pb:s},ee={id:8846,severity:n.z.Critical,pb:s},te={id:8847,severity:o,pb:s},ie={id:8848,severity:n.z.HighImpact,pb:s},ne={LoadExperienceError:{id:8941,severity:o,pb:s}},re={InvalidIntraArticleDataError:{id:9001,severity:o,pb:s},DataFetchError:{id:9002,severity:o,pb:s},InvalidDocumentContentError:{id:9003,severity:o,pb:s},ViewsPaddleDataLoadError:{id:9004,severity:o,pb:s},ViewsErrorPage:{id:9005,severity:o,pb:s},ProviderMapperError:{id:9006,severity:o,pb:s},InvalidContentId:{id:9007,severity:o,pb:s},ViewsPageFailedToRender:{id:9008,severity:o,pb:s},ViewsPageJSErrorPostTTVR:{id:9009,severity:o,pb:s},ViewsComponentFailedToRender:{id:9010,severity:o,pb:s},ViewsInfiniteReadingError:{id:9011,severity:o,pb:s},ViewsInfiniteReadingIFrameRenderError:{id:9012,severity:o,pb:s},ViewsInfiniteReadingHelperInitializationError:{id:9013,severity:o,pb:s},StaticFallbackError:{id:9014,severity:o,pb:s}},oe=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{RewardsDataConnectorUndefined:{id:9400,severity:o,pb:s},CategoryKeyOrAppTypeUndefined:{id:9401,severity:n.z.NoAlert,pb:s},FailedToFetchCoachmarkUXConfig:{id:9402,severity:n.z.NoAlert,pb:s},ConfigDataUndefined:{id:9403,severity:o,pb:s},FailedToFetchConfigData:{id:9404,severity:o,pb:s},ExceptionFetchingConfigData:{id:9405,severity:o,pb:s},ChromiumPageSettingsDataConnectorUndefined:{id:9406,severity:o,pb:s},PageSettingsStateUndefined:{id:9407,severity:o,pb:s},RewardsFlyoutBodyHeightMissing:{id:9408,severity:o,pb:s}}),se={IrisDataConnectorUndefined:{id:9421,severity:o,pb:s},CoachmarkDataConnectorUndefined:{id:9424,severity:o,pb:s},ErrorFetchingUserProfile:{id:9425,severity:o,pb:s},ExceptionFetchingUserProfile:{id:9426,severity:o,pb:s},ExceptionReportingRewardActivity:{id:9427,severity:o,pb:s},BadRequestReportingRewardActivity:{id:9428,severity:o,pb:s},OfferIdNotDefined:{id:9429,severity:o,pb:s},ActionNameNotDefined:{id:9430,severity:o,pb:s},InvalidParameters:{id:9431,severity:o,pb:s},UnknownErrorsReportingRewardActivity:{id:9432,severity:o,pb:s},UnknownErrorOccurred:{id:9433,severity:o,pb:s},MaxRetryReachedForUpdatingRewardsPoints:{id:9434,severity:o,pb:s},PageSettingsUndefined:{id:9435,severity:o,pb:s}},ae={id:11103,severity:o,pb:s},ce={ErrorResponseFromOneService:{id:13e3,severity:o,pb:s},ErrorResponseFromOneServiceIsInvalid:{id:13001,severity:o,pb:s},InvalidUrlFoundForElement:{id:13002,severity:o,pb:s},SelectedItemNotFoundInSuggestions:{id:13003,severity:o,pb:s},SelectedItemIsInvalid:{id:13004,severity:o,pb:s}},de={InterestsRetrieveTopicsError:{id:13100,severity:o,pb:s},InterestsRetrieveFollowedTopicsError:{id:13101,severity:o,pb:s},InterestsRetrieveMutedPublishersError:{id:13102,severity:o,pb:s},InterestsUnMutePublisherError:{id:13103,severity:o,pb:s},InterestsFollowTopicError:{id:13104,severity:o,pb:s},InterestsUnfollowTopicError:{id:13105,severity:o,pb:s},InterestsTopicStateUndefined:{id:13106,severity:o,pb:s},InterestsShouldHaveRendered:{id:13107,severity:o,pb:s},InterestsRetrieveTopicError:{id:13108,severity:o,pb:s},InterestsRetrieveSavedStoriesError:{id:13109,severity:o,pb:s},InterestsSavedStoriesInvalidConfigError:{id:13110,severity:o,pb:s},InterestsSavedStoriesChildLoadError:{id:13111,severity:o,pb:s},InterestsSavedStoriesInvalidJsonError:{id:13112,severity:o,pb:s},InterestsSavedStoriesInvalidListError:{id:13113,severity:o,pb:s},InterestsRetrieveRecommendedTopicsError:{id:13114,severity:o,pb:s},UndefinedTopicDataConnector:{id:13115,severity:o,pb:s},InterestsRetrieveReadStoriesError:{id:13116,severity:o,pb:s},InterestsReadStoriesInvalidConfigError:{id:13117,severity:o,pb:s},InterestsReadStoriesChildLoadError:{id:13118,severity:o,pb:s},InterestsReadStoriesInvalidJsonError:{id:13119,severity:o,pb:s},InterestsReadStoriesInvalidListError:{id:13120,severity:o,pb:s},FailedRestoringDefaultTopicsError:{id:13121,severity:o,pb:s},InterestsAccountLinkingGetError:{id:13122,severity:o,pb:s},InterestsAccountLinkingCreateError:{id:13123,severity:o,pb:s},InterestsAccountLinkingDeleteError:{id:13124,severity:o,pb:s}},le={id:13125,severity:o,pb:s},ue={id:13126,severity:o,pb:s},ge={id:13127,severity:o,pb:s},pe={id:13128,severity:o,pb:s},he={id:13129,severity:o,pb:s},fe={id:13131,severity:o,pb:s},me={id:13132,severity:o,pb:s},ve={id:13133,severity:o,pb:s},be={id:13134,severity:o,pb:s},ye={id:13135,severity:o,pb:s},Ce={id:13136,severity:o,pb:s},Se={id:13137,severity:o,pb:s},we={id:13138,severity:o,pb:s},Te=(n.z.NoAlert,{id:14007,severity:o,pb:s}),ke=(n.z.HighImpact,{id:14102,severity:o,pb:s}),Oe=(n.z.HighImpact,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{id:15020,severity:o,pb:s}),Ee={id:15021,severity:o,pb:s},Ie={id:15023,severity:o,pb:s},Ae={id:15024,severity:o,pb:s},Pe={id:15025,severity:o,pb:s},xe={id:15026,severity:o,pb:s},Me={id:15027,severity:o,pb:s},Le={id:15029,severity:n.z.NoAlert,pb:s},De={id:15030,severity:n.z.NoAlert,pb:s},Fe={id:15031,severity:n.z.NoAlert,pb:s},Re=(n.z.HighImpact,{ResponseParsingFailed:{id:15200,severity:n.z.NoAlert,pb:s},InvalidJsonResponse:{id:15201,severity:n.z.NoAlert,pb:s},ServiceCallFailed:{id:15202,severity:n.z.NoAlert,pb:s},RenderFailed:{id:15203,severity:o,pb:s},Timeout:{id:15204,severity:n.z.NoAlert,pb:s},ContentFetchError:{id:15205,severity:o,pb:s}}),Ne=(n.z.Critical,{ContentFetchError:{id:15250,severity:o,pb:s},FailedToFetchConfig:{id:15251,severity:o,pb:s},FailedToLoadChildExperience:{id:15252,severity:o,pb:s},OCIDNotSetWarning:{id:15253,severity:n.z.NoAlert,pb:s},ContentURLFetchError:{id:15254,severity:o,pb:s},ContentError:{id:15255,severity:o,pb:s}}),je=(n.z.NoAlert,{RenderFailed:{id:15300,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},SearchBoxCommonVoiceSearchError:{id:15301,severity:o,pb:s},SearchBoxEdgeNextVoiceSearchError:{id:15302,severity:o,pb:s},CommunicationsError:{id:15303,severity:o,pb:s}}),Be=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{PollsWCDataInitError:{id:18100,severity:o,pb:s},PollsWCListFetchError:{id:18101,severity:o,pb:s},PollsWCDataFetchError:{id:18102,severity:o,pb:s},PollsWCCardInvalidPoll:{id:18103,severity:o,pb:s},PollsWCCardInvalidQuizPoll:{id:18104,severity:o,pb:s},PollsWCCardVoteError:{id:18105,severity:o,pb:s},PollsWCGetCookieFailed:{id:18106,severity:o,pb:s},PollsWCResultPercentageError:{id:18107,severity:o,pb:s},PollsWCAutoCuratedContentError:{id:18108,severity:o,pb:s},PollsWCAutoCuratedInvalid:{id:18109,severity:o,pb:s},PollsWCAutoCuratedResultsFetchError:{id:18110,severity:o,pb:s},PollsWCAutoCuratedResultsTransformError:{id:18111,severity:o,pb:s}}),$e={EdgeNextErrorPage:{id:19e3,severity:o,pb:s},ErrorFetchingAppAnonCookie:{id:19001,severity:o,pb:s},EdgeNextLocalNTPPageShownSyntaxErrors:{id:19002,severity:o,pb:s},EdgeNextLocalNTPPageShownBundleFailureErrors:{id:19003,severity:o,pb:s},EdgeNextLocalNTPPageShownPageExceptionError:{id:19004,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},EdgeNextLocalNTPPageShownJSSMismatchExceptionError:{id:19005,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},EdgeNextLocalNtpDueToNetwork:{id:19006,severity:o,pb:s},EdgeNextPageReloadedPageExceptionError:{id:19010,severity:o,pb:s},EdgeChromiumPageMissingFormCode:{id:19012,severity:o,pb:s},EdgeNextPageReloadedDueToNetwork:{id:19013,severity:o,pb:s},EdgeNextPageRenderFailedDueToNetwork:{id:19014,severity:o,pb:s}},He={PlacementManagerLoadError:{id:2e4,severity:o,pb:s},ArrangementPositionLoadError:{id:20001,severity:o,pb:s},GetCMSContentError:{id:20002,severity:o,pb:s},GetSAMRTBResponseError:{id:20003,severity:o,pb:s},MediaNetEOABError:{id:20005,severity:o,pb:s},InvalidPromoModuleConfig:{id:20006,severity:o,pb:s},CookieSyncDownloadExternalScriptError:{id:20007,severity:n.z.NoAlert,pb:s},CookieSyncMissingExternalScriptUrl:{id:20008,severity:o,pb:s},CookieSyncTimeout:{id:20009,severity:o,pb:s},CookieSyncPartnerScriptError:{id:20010,severity:o,pb:s},CookieSyncPixelPartnerDownloadError:{id:20011,severity:n.z.NoAlert,pb:s},CMSOrBackfillNativeAdLoadError:{id:20012,severity:o,pb:s},PlacementPositionMismatchingError:{id:20013,severity:o,pb:s},MissingRequiredPropertyPlacementManagerConfig:{id:20014,severity:o,pb:s},NativeAdTargetScopeError:{id:20016,severity:o,pb:s},RiverVideoAdPartnerError:{id:20017,severity:o,pb:s},JsTrackerPartnerScriptLoadError:{id:20018,severity:o,pb:s},ViglinkError:{id:20019,severity:o,pb:s},MissingTopicId:{id:20020,severity:o,pb:s},TopicIdNotFound:{id:20021,severity:o,pb:s},GetSAMRTBResponseErrorNoAlert:{id:20022,severity:o,pb:s},DisplayAdsOathLoadError:{id:20050,severity:o,pb:s},DisplayAdsApnLoadError:{id:20051,severity:o,pb:s},DisplayAdsApnEmptyProvider:{id:20052,severity:n.z.Alert},DisplayAdsAdsDetectionNotInit:{id:20053,severity:n.z.Alert,pb:s},DisplayAdsMoatLoadError:{id:20054,severity:o,pb:s},DisplayAdsNoAdObjects:{id:20055,severity:o,pb:s},DisplayAdsProviderIdEncode:{id:20056,severity:o,pb:s},DisplayAdsJacLoadError:{id:20057,severity:o,pb:s},DisplayAdsInvalidSizeError:{id:20058,severity:o,pb:s},DisplayAdsInvalidParameterError:{id:20059,severity:o,pb:s},DisplayAdsPGCodeError:{id:20060,severity:o,pb:s},DisplayAdsSlowResponding:{id:20061,severity:o,pb:s},DisplayAdsNoBid:{id:20062,severity:o,pb:s},DisplayAdsResponseError:{id:20063,severity:o,pb:s},DisplayAdsTimeoutError:{id:20064,severity:o,pb:s},DisplayAdsIframeCrossOrigin:{id:20065,severity:o,pb:s},LiverampCookieSetError:{id:20066,severity:o,pb:s},EnvelopeIdNotFoundError:{id:20067,severity:n.z.NoAlert,pb:s},UnexpectedOneServiceResponseError:{id:20068,severity:o,pb:s},DisplayAdsNativeFallbackError:{id:20069,severity:o,pb:s}},Ue={id:20150,severity:o,pb:s},We={id:20151,severity:o,pb:s},_e={id:20152,severity:o,pb:s},ze={id:20153,severity:o,pb:s},Ve={id:20154,severity:o,pb:s},Ge={id:20155,severity:o,pb:s},qe={id:20156,severity:o,pb:s},Ze={id:20157,severity:o,pb:s},Qe={id:20158,severity:o,pb:s},Ke={id:20159,severity:o,pb:s},Je=(n.z.NoAlert,n.z.NoAlert,{id:20162,severity:n.z.HighImpact,pb:s}),Xe=(n.z.NoAlert,n.z.NoAlert,{id:20171,severity:o,pb:s}),Ye={id:20172,severity:o,pb:s},et={id:20173,severity:o,pb:s},tt={id:20174,severity:o,pb:s},it={id:20175,severity:o,pb:s},nt={id:20176,severity:o,pb:s},rt={id:20178,severity:o,pb:s},ot={id:20179,severity:o,pb:s},st={id:20180,severity:o,pb:s},at={DeprecatedCompositionLayoutUsed:{id:20200,severity:n.z.NoAlert,pb:s},InvalidColumnInGridConfig:{id:20201,severity:o,pb:s},ErrorLoadingBundle:{id:20202,severity:n.z.HighImpact,pb:s},GenericJSException:{id:20203,severity:o,pb:s},LocalStorageDoesntExist:{id:20204,severity:n.z.NoAlert,pb:s},SessionStorageDoesntExist:{id:20205,severity:n.z.NoAlert,pb:s},ReactRenderException:{id:20206,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},NetworkConnectionStatus:{id:20207,severity:n.z.NoAlert,pb:s},SubscriptionCallbackExecError:{id:20208,severity:o,pb:s},ServiceRequestRetryAttempted:{id:20209,message:"Service request failed",severity:n.z.NoAlert,pb:s}},ct={ErrorCodeReceived:{id:20302,severity:o,pb:s},CallFailed:{id:20303,severity:o,pb:s},EmptyJsonResponse:{id:20304,severity:o,pb:s}},dt={IndexedDbWriteFailed:{id:22010,severity:o,pb:s},IndexedDbReadFailed:{id:22011,severity:o,pb:s},CrsFetchError:{id:22012,severity:o,pb:s},ReceivedConfigFromCdnAsCrsFetchFailed:{id:22013,severity:o,pb:s},GetConfigException:{id:22014,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},IndexedDbBulkReadFailed:{id:22015,severity:o,pb:s},IndexedDbFailedToRemoveCachedConfig:{id:22016,severity:o,pb:s},IndexedDbFailedToClearAllCachedConfigs:{id:22017,severity:o,pb:s},RenderCachePurgedDueToChangesInConfig:{id:22018,severity:n.z.NoAlert,pb:s},FailedToPurgeRenderCache:{id:22019,severity:o,pb:s},RefreshConfigCacheFailed:{id:22020,severity:o,pb:s},IndexedDbInitFailed:{id:22021,severity:o,pb:s},DifferentCbid:{id:22022,severity:n.z.NoAlert,pb:s},PrgFlightLsWriteError:{id:22023,severity:n.z.NoAlert,pb:s},PrgFlightLsReadError:{id:22024,severity:n.z.NoAlert,pb:s}},lt={id:22025,severity:n.z.NoAlert,pb:s},ut={id:22026,severity:n.z.NoAlert,pb:s},gt={id:22027,severity:o,pb:s},pt={id:22028,severity:o,pb:s},ht={id:22029,severity:n.z.Critical,pb:s},ft={id:22030,severity:n.z.Critical,pb:s},mt=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{ShoppingSmartListServiceEmptyResponse:{id:24400,severity:o,pb:s},ShoppingSmartListServiceFetchError:{id:24401,severity:o,pb:s},ShoppingSmartListServiceInvalidResponse:{id:24402,severity:o,pb:s},ShoppingSmartListServiceMissingRequiredFields:{id:24403,severity:o,pb:s},ShoppingSmartListChromiumApiConfigDataFetchFailure:{id:24404,severity:o,pb:s}}),vt={id:24526,severity:o,pb:s},bt="shopping-card/src/shopping-card.ts",yt={id:24565,source:bt,severity:o,pb:s},Ct={id:24566,source:bt,severity:o,pb:s},St=(n.z.NoAlert,{id:24601,severity:o,pb:s}),wt={id:24602,severity:o,pb:s},Tt={id:24603,severity:o,pb:s},kt={id:24611,severity:o,pb:s},Ot={id:24612,severity:o,pb:s},Et={id:24613,severity:o,pb:s},It={NewsSegmentCarouselInvalidFeedResponse:{id:24660,severity:n.z.Critical,pb:s}},At={id:24700,severity:o,pb:s},Pt={id:24800,severity:o,pb:s},xt={CategoryDataGetCategoryDetail:{id:28100,severity:n.z.NoAlert,pb:s},CategoryDataIndexedDbInitializationFailed:{id:28101,severity:o,pb:s},CategoryDataIndexedDbWriteFailed:{id:28102,severity:o,pb:s},CategoryDataIndexedDbBulkReadFailed:{id:28103,severity:o,pb:s}},Mt={id:28213,severity:n.z.NoAlert,pb:s},Lt={id:28215,severity:o,pb:s},Dt={DataFetchError:{id:28400,severity:o,pb:s},JsonParseError:{id:28401,severity:n.z.NoAlert,pb:s},WCDataFetchError:{id:28410,severity:o,pb:s},WCJsonParseError:{id:28411,severity:n.z.NoAlert,pb:s},WCNewsItemDataFetchError:{id:28412,severity:o,pb:s},WCSettingFetchError:{id:28414,severity:o,pb:s},WCSettingUpdateError:{id:28415,severity:o,pb:s}},Ft={LayoutPreferenceDataGetFailed:{id:28500,severity:o,pb:s}},Rt={FileNotFound:{id:29e3,severity:o,pb:s},RuntimeError:{id:29001,severity:o,pb:s},MessageTimeout:{id:29002,severity:n.z.NoAlert,pb:s},HandledError:{id:29003,severity:o,pb:s}},Nt={id:29100,severity:n.z.Alert,pb:s},jt={id:29101,severity:n.z.Alert,pb:s},Bt={id:29102,severity:n.z.Alert,pb:s},$t={id:29103,severity:o,pb:s},Ht=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29501,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),Ut={id:29502,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Wt={id:29503,severity:n.z.NoAlert,pb:s},_t=(Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29507,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),zt=(Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29512,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),Vt=(Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29522,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),Gt=(Object.assign(Object.assign({},s),{userImpacting:!0}),Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Fallback}),Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Fallback}),{id:29526,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),qt=(Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Alert,n.z.NoAlert,{id:29530,severity:n.z.NoAlert,pb:s}),Zt=(n.z.Alert,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29532,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})}),Qt={id:29533,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Kt={id:29534,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},Jt={id:29535,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Xt=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Alert,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29579,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})}),Yt={id:29580,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ei={id:29581,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ti={id:29582,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ii={id:29583,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ni={id:29584,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},ri={id:29585,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},oi={id:29586,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},si={id:29587,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},ai={id:29588,severity:n.z.NoAlert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},ci=(n.z.NoAlert,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Alert,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29591,severity:n.z.NoAlert,message:"Mini map temperature tiles failed",pb:Object.assign(Object.assign({},s),{userImpacting:!1})}),di=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:29602,severity:o,pb:s}),li={id:29603,severity:o,pb:s},ui={id:29604,severity:o,pb:s},gi={id:29605,severity:o,pb:s},pi={id:29606,severity:n.z.NoAlert,pb:s},hi=(n.z.NoAlert,{id:29608,severity:n.z.NoAlert,pb:s}),fi=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{id:29690,severity:o,pb:s}),mi=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{id:29716,severity:o,pb:s}),vi=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{id:29901,severity:o,pb:s}),bi={AuthRefreshBlockedError:{id:33e3,severity:n.z.NoAlert,pb:s},ErrorFetchingAppAnonCookie:{id:33001,severity:o,pb:s},EstablishMigrationConsent:{id:33010,severity:o,pb:s},MigrationConsentServiceClient:{id:33011,severity:o,pb:s},EstablishSignedInState:{id:33012,severity:o,pb:s},EdgeChromiumAuthPropertyNotAvailable:{id:33013,severity:n.z.NoAlert,pb:s},EdgeChromiumTokenAccessFailure:{id:33014,severity:o,pb:s},EdgeChromiumTokenAccessFailureLtCookieUsed:{id:33015,severity:n.z.NoAlert,pb:s},SignInStatusCookieMismatch:{id:33020,severity:o,pb:s},MsalSSOSilentException:{id:33100,severity:n.z.Alert,pb:s},MsalSSOSilentRpsToMsal:{id:33101,severity:n.z.NoAlert,pb:s},MsalAcquireTokenSilentException:{id:33102,severity:n.z.Alert,pb:s},MsalFailedToLoadScript:{id:33110,severity:n.z.Alert,pb:s},ProfilePictureFetchFailed:{id:33111,severity:n.z.NoAlert,pb:s}},yi=(n.z.NoAlert,{UntrackedClick:{id:34001,severity:n.z.NoAlert,pb:s},FragmentFetchFailed:{id:34002,severity:n.z.NoAlert,pb:s},DidUseBrowserCacheAPIError:{id:34003,severity:n.z.NoAlert,pb:s},DidUseBrowserCachePolyfillResponseHeaderInvalid:{id:34004,severity:n.z.NoAlert,pb:s},ServerCacheFetchFailed:{id:34005,severity:n.z.NoAlert,pb:s},ConnectorMapInvalid:{id:34006,severity:n.z.NoAlert,pb:s},FetchSSRPageFailed:{id:34007,severity:n.z.Alert,pb:s},FetchSSRPageFailedFromInvalidWindowInnerWidth:{id:34008,severity:n.z.NoAlert,pb:s},ServerCacheRefreshFailed:{id:34009,severity:n.z.NoAlert,pb:s},WebEntryFailed:{id:34010,severity:n.z.Alert,pb:s},SsrResolverReturnedNullConfig:{id:34011,severity:n.z.HighImpact,pb:s}}),Ci={id:35001,severity:o,pb:s},Si={id:35003,severity:n.z.NoAlert,pb:s},wi={id:35004,severity:o,pb:s},Ti={id:35006,severity:o,pb:s},ki={id:35007,severity:o,pb:s},Oi={id:35008,severity:o,pb:s},Ei={id:35009,severity:o,pb:s},Ii={id:35010,severity:o,pb:s},Ai={id:35013,severity:n.z.NoAlert,pb:s},Pi={id:35014,severity:o,pb:s},xi={id:35015,severity:o,pb:s},Mi={id:35016,severity:o,pb:s},Li={id:35018,severity:o,pb:s},Di={id:35019,severity:o,pb:s},Fi={id:35020,severity:o,pb:s},Ri={id:35022,severity:n.z.NoAlert,pb:s},Ni={id:35023,severity:o,pb:s},ji={id:35024,severity:n.z.NoAlert,pb:s},Bi={id:35025,severity:n.z.NoAlert,pb:s},$i={id:35026,severity:o,pb:s},Hi={id:35117,severity:o,pb:s},Ui={id:35118,severity:o,pb:s},Wi={id:35119,severity:n.z.NoAlert,pb:s},_i={id:35120,severity:o,pb:s},zi={id:35121,severity:o,pb:s},Vi={id:35122,severity:o,pb:s},Gi={id:35123,severity:o,pb:s},qi={id:35124,severity:o,pb:s},Zi={id:35125,severity:o,pb:s},Qi={id:35128,severity:o,pb:s},Ki={id:35129,severity:n.z.NoAlert,pb:s},Ji={id:35130,severity:o,pb:s},Xi={id:35131,severity:o,pb:s},Yi={id:35132,severity:o,pb:s},en={id:35133,severity:o,pb:s},tn={id:35201,severity:o,pb:s},nn={id:35203,severity:n.z.NoAlert,pb:s},rn=(n.z.NoAlert,{id:35205,severity:n.z.NoAlert,pb:s}),on=(n.z.NoAlert,n.z.Alert,{id:35401,severity:n.z.NoAlert,pb:s}),sn={id:35402,severity:o,pb:s},an={TtvrMissing:{id:35600,severity:n.z.NoAlert,pb:s},TfprMissing:{id:35601,severity:n.z.NoAlert,pb:s},TtvrSearchBoxMissing:{id:35602,severity:n.z.NoAlert,pb:s},TtfSearchBoxMissing:{id:35603,severity:n.z.NoAlert,pb:s}},cn={id:35604,severity:n.z.NoAlert,pb:s},dn={id:35605,severity:n.z.NoAlert,pb:s},ln={id:35606,severity:n.z.NoAlert,pb:s},un={id:35607,severity:n.z.NoAlert,pb:s},gn={id:35608,severity:n.z.NoAlert,pb:s},pn={id:35609,severity:n.z.NoAlert,pb:s},hn={id:35610,severity:n.z.NoAlert,pb:s},fn={id:35611,severity:n.z.NoAlert,pb:s},mn={id:35612,severity:n.z.NoAlert,pb:s},vn={FetchKeyError:{id:35700,severity:o,pb:s},SubscribeUnsubscribeError:{id:35701,severity:o,pb:s}},bn={id:36105,severity:o,pb:s},yn={id:36106,severity:o,pb:s},Cn={id:36107,severity:o,pb:s},Sn={id:36108,severity:o,pb:s},wn={id:36110,severity:o,pb:s},Tn={id:36111,severity:o,pb:s},kn={id:36112,severity:o,pb:s},On={id:36113,severity:o,pb:s},En={id:36117,severity:n.z.NoAlert,pb:s},In={id:36118,severity:o,pb:s},An={id:36119,severity:o,pb:s},Pn=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,{id:36300,severity:o,pb:s}),xn={id:36301,severity:o,pb:s},Mn={id:36302,severity:o,pb:s},Ln={id:36309,severity:o,pb:s},Dn={id:36310,severity:o,pb:s},Fn={id:36311,severity:o,pb:s},Rn={id:36312,severity:o,pb:s},Nn=(n.z.HighImpact,{id:36500,severity:o,pb:s}),jn={id:36600,severity:o,pb:s},Bn={id:36601,severity:o,pb:s},$n={id:36602,severity:o,pb:s},Hn={id:36603,severity:o,pb:s},Un={id:36604,severity:o,pb:s},Wn={id:36605,severity:o,pb:s},_n={id:36606,severity:o,pb:s},zn={id:36607,severity:o,pb:s},Vn=(n.z.NoAlert,n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:36705,severity:n.z.NoAlert,pb:s}),Gn={id:36800,severity:o,pb:s},qn={id:36801,severity:o,pb:s},Zn={id:36802,severity:o,pb:s},Qn=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:36901,severity:o,pb:s}),Kn={id:36902,severity:o,pb:s},Jn={id:36903,severity:o,pb:s},Xn={id:36904,severity:o,pb:s},Yn={id:36905,severity:o,pb:s},er={id:36906,severity:o,pb:s},tr={id:36907,severity:o,pb:s},ir={id:36908,severity:o,pb:s},nr={id:36909,severity:o,pb:s},rr={id:36910,severity:o,pb:s},or={id:36911,severity:o,pb:s},sr={id:36912,severity:o,pb:s},ar={id:36913,severity:o,pb:s},cr={id:36914,severity:o,pb:s},dr={id:36915,severity:o,pb:s},lr={id:36916,severity:o,pb:s},ur={id:36917,severity:o,pb:s},gr={id:36918,severity:o,pb:s},pr={id:36919,severity:o,pb:s},hr={id:36920,severity:o,pb:s},fr={id:36921,severity:o,pb:s},mr={id:36922,severity:o,pb:s},vr={id:36923,severity:o,pb:s},br={id:36924,severity:o,pb:s},yr={id:36925,severity:o,pb:s},Cr={id:36927,severity:o,pb:s},Sr={id:36928,severity:o,pb:s},wr={id:36929,severity:o,pb:s},Tr={id:36930,severity:o,pb:s},kr={id:36931,severity:o,pb:s},Or={id:36932,severity:o,pb:s},Er={id:36933,severity:o,pb:s},Ir={id:36934,severity:o,pb:s},Ar={id:36935,severity:o,pb:s},Pr={id:36936,severity:o,pb:s},xr={id:36940,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Mr={id:36941,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Lr={id:36942,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Dr={id:36943,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Fr={id:36944,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Rr={id:36945,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Nr={id:36946,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},jr={id:36947,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Br={id:36948,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},$r={id:36949,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Hr={id:36950,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Ur={id:36951,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Wr=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:36953,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),_r={id:36954,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},zr={id:36956,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Vr={id:36957,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Gr={id:36958,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},qr={id:36959,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Zr={id:36960,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Qr={id:36961,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Kr={id:36962,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Jr={id:36963,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Xr={id:36964,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Yr={id:36965,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},eo={id:36966,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},to={id:36967,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},io={id:36968,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},no={id:36969,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ro={id:36970,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},oo={id:36971,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},so={id:36972,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ao={id:36973,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},co={id:36974,severity:o,pb:s},lo={id:36975,severity:o,pb:s},uo={id:36976,severity:o,pb:s},go={id:36977,severity:o,pb:s},po={id:36978,severity:o,pb:s},ho={id:36979,severity:o,pb:s},fo={id:36980,severity:o,pb:s},mo={id:36981,severity:o,pb:s},vo={id:36982,severity:o,pb:s},bo={id:36983,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},yo={id:36984,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Co={id:36985,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},So={id:36986,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},wo={id:36987,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},To={id:36988,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ko={id:36990,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},Oo={id:36991,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!1})},Eo={id:36992,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Io={id:36993,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Ao={id:36994,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Po={id:36995,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},xo={id:36996,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Mo={id:36997,severity:n.z.Alert,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Lo=(Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Fallback}),Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Fallback}),{id:37020,severity:o,pb:s}),Do={id:37021,severity:o,pb:s},Fo={id:37022,severity:o,pb:s},Ro={id:37023,severity:o,pb:s},No={id:37300,severity:n.z.NoAlert,pb:s},jo={id:37550,severity:o,pb:s},Bo={id:37551,severity:o,pb:s},$o={id:37552,severity:o,pb:s},Ho={id:37560,severity:o,pb:s},Uo={id:37561,severity:o,pb:s},Wo={id:37562,severity:o,pb:s},_o={id:37563,severity:o,pb:s},zo={id:37601,severity:o,pb:s},Vo={id:37604,severity:o,pb:s},Go={id:37605,severity:o,pb:s},qo={id:37606,severity:o,pb:s},Zo={id:37609,severity:o,pb:s},Qo={id:37610,severity:o,pb:s},Ko={id:37612,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Jo={id:38e3,severity:o,pb:s},Xo={id:38001,severity:n.z.NoAlert,pb:s},Yo=(n.z.NoAlert,n.z.Critical,{id:38017,message:"Upsell card not expected to show up in the river, but it was returned by OneService.",severity:o,pb:s}),es={id:38019,message:"Cold Start card is returned in the wrong position by OneService.",severity:o,pb:s},ts={id:38100,severity:o,pb:s},is={id:38101,severity:o,pb:s},ns={id:38102,severity:o,pb:s},rs={id:38300,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},os={id:38301,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ss={id:38302,severity:o,pb:s},as={id:38303,severity:o,pb:s},cs={id:38304,severity:o,pb:s},ds={id:38305,severity:o,pb:s},ls=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:38320,severity:o,pb:s}),us={id:38321,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},gs={id:38322,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ps={id:38323,severity:n.z.Alert,pb:s},hs={id:38324,severity:n.z.Alert,pb:s},fs={id:38325,severity:n.z.Alert,pb:s},ms={id:38326,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},vs={id:38327,severity:n.z.HighImpact,pb:s},bs={id:38328,severity:o,pb:s},ys={id:38330,severity:o,pb:s},Cs={id:38331,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Ss={id:38333,severity:o,pb:s},ws={id:38334,severity:o,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Ts=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Alert,n.z.Alert,n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:38600,severity:o,pb:s}),ks={id:38601,severity:o,pb:s},Os={id:38602,severity:o,pb:s},Es={id:38603,severity:o,pb:s},Is={id:38604,severity:o,pb:s},As={id:38605,severity:o,pb:s},Ps={id:38606,severity:o,pb:s},xs={id:38800,severity:o,pb:s},Ms={id:38801,severity:o,pb:s},Ls={id:38802,severity:o,pb:s},Ds={id:38803,severity:o,pb:s},Fs={id:38903,severity:n.z.Alert,pb:s},Rs={id:38904,severity:o,pb:s},Ns={id:38905,severity:o,pb:s},js={id:38906,severity:o,pb:s},Bs={id:38907,severity:o,pb:s},$s={id:38908,severity:o,pb:s},Hs={id:38909,severity:o,pb:s},Us={id:38910,severity:n.z.NoAlert,pb:s},Ws={id:38911,severity:o,pb:s},_s={id:39e3,severity:o,pb:s},zs={id:39102,severity:o,pb:s},Vs={id:39104,severity:o,pb:s},Gs={id:39106,severity:o,pb:s},qs={id:39107,severity:o,pb:s},Zs={id:39109,severity:o,pb:s},Qs={id:39110,severity:n.z.NoAlert,pb:s},Ks={id:39111,severity:n.z.NoAlert,pb:s},Js={id:39300,severity:o,pb:s},Xs={id:39350,severity:o,pb:s},Ys={id:39406,severity:o,pb:s},ea={id:39410,severity:o,pb:s},ta={id:39500,severity:o,pb:s},ia={id:39501,severity:o,pb:s},na={id:39502,severity:o,pb:s},ra={id:39508,severity:o,pb:s},oa={id:39509,severity:o,pb:s},sa={id:39510,severity:o,pb:s},aa={id:39511,severity:o,pb:s},ca={id:39512,severity:o,pb:s},da={id:39513,severity:o,pb:s},la={id:39514,severity:o,pb:s},ua={id:39515,severity:o,pb:s},ga={id:39516,severity:o,pb:s},pa={id:39517,severity:o,pb:s},ha={id:39600,severity:o,pb:s},fa={id:39601,severity:o,pb:s},ma={id:39602,severity:o,pb:s},va={id:39700,severity:o,pb:s},ba={id:39701,severity:o,pb:s},ya={id:39702,severity:o,pb:s},Ca={id:39703,severity:o,pb:s},Sa={id:39704,severity:o,pb:s},wa={id:39705,severity:o,pb:s},Ta={id:39706,severity:o,pb:s},ka={id:39707,severity:n.z.NoAlert,pb:s},Oa={id:39708,severity:n.z.NoAlert,pb:s},Ea={id:39901,severity:o,pb:s},Ia={WpoResponseServerInternalError:{id:40300,severity:o,pb:s},ServiceTimeout:{id:40301,severity:n.z.HighImpact,pb:s},RiverConfigurationIssue:{id:40302,severity:n.z.HighImpact,pb:s},WpoGetMuidFailure:{id:40303,severity:n.z.NoAlert,pb:s},StaticContentLoaded:{id:40304,severity:n.z.HighImpact,pb:s},WpoFailedAtFirstPage:{id:40305,severity:o,pb:s},WpoResponseUnauthorized:{id:40306,severity:o,pb:s},WpoResponseNotFound:{id:40307,severity:o,pb:s},WpoResponseNoContent:{id:40308,severity:o,pb:s},WpoResponseNullOrUndefined:{id:40309,severity:o,pb:s},WpoServiceUrlAndWebWorkerUrlDifferent:{id:40310,severity:n.z.NoAlert,pb:s},ClientNetworkIssue:{id:40311,severity:n.z.NoAlert,pb:s},WpoServiceErrorAtFirstPage:{id:40312,severity:n.z.HighImpact,pb:s},WpoResponseNoContentAtFirstPage:{id:40313,severity:n.z.HighImpact,pb:s},WpoServiceErrorAtSecondPage:{id:40314,severity:n.z.Alert,pb:s},WpoResponseNoContentAtSecondPage:{id:40315,severity:n.z.Alert,pb:s},WpoServiceErrorServedFromLocalCache:{id:40316,severity:n.z.NoAlert,pb:s},WpoServiceFailedToServeFromLocalCache:{id:40317,severity:n.z.NoAlert,pb:s},ServiceTimeoutNonFirstPage:{id:40318,severity:n.z.Alert,pb:s},ServiceTimeoutPrerender:{id:40319,severity:n.z.NoAlert,pb:s},StaticContentLoadedPrerender:{id:40320,severity:n.z.NoAlert,pb:s}},Aa={id:40402,severity:o,pb:s},Pa={id:40407,message:"Response is empty for river feed first page",severity:o,pb:s},xa={id:40408,message:"Response is empty for river feed for prerender refresh scenario",severity:o,pb:s},Ma={id:40409,message:"Response is empty for river feed subsequent page",severity:o,pb:s},La={id:40410,message:"Response is empty for river feed for prerender init scenario",severity:o,pb:s},Da={id:40411,message:"Response is static for river feed for init scenario",severity:o,pb:s},Fa={id:40412,message:"Response is static for river feed for prerender init scenario",severity:o,pb:s},Ra={id:40413,message:"Response was incomplete, forcing UI unblocking",severity:o,pb:s},Na={id:40414,severity:o,pb:s},ja={id:40415,severity:o,pb:s},Ba={id:40416,message:"Sam ads placement config mismatch",severity:n.z.NoAlert,pb:s},$a={id:40417,message:"Cms ads placement config mismatch",severity:n.z.NoAlert,pb:s},Ha=(n.z.NoAlert,{id:40520,severity:n.z.NoAlert,pb:s}),Ua={id:40601,severity:o,pb:s},Wa={id:40602,severity:o,pb:s},_a={id:40603,severity:o,pb:s},za={id:40605,severity:o,pb:s},Va={id:40606,severity:o,pb:s},Ga={id:40700,severity:o,pb:s},qa={id:40701,severity:o,pb:s},Za={id:40702,severity:o,pb:s},Qa={id:41e3,severity:o,pb:s},Ka={id:41001,severity:o,pb:s},Ja={id:41003,severity:o,pb:s},Xa={id:41005,severity:o,pb:s},Ya={id:41006,severity:o,pb:s},ec=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Exceptional}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:41109,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),tc={id:41110,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ic={id:41111,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},nc={id:41112,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},rc={id:41113,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},oc={id:41114,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},sc={id:41115,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},ac={id:41140,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},cc={id:41141,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},dc={id:41142,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},lc={id:41143,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},uc={id:41144,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},gc={id:41145,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},pc=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:41147,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),hc={id:41148,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},fc={id:41149,severity:o,pb:s},mc={id:41150,severity:o,pb:s},vc={id:41151,severity:o,pb:s},bc=(n.z.Alert,Object.assign(Object.assign({},s),{userImpacting:!1,errorBehavior:r.C.Fallback}),{id:41208,severity:o,pb:s}),yc={id:41209,severity:o,pb:s},Cc={id:41210,severity:o,pb:s},Sc={id:41211,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},wc={id:41212,severity:o,pb:s},Tc={id:41213,severity:o,pb:s},kc={id:41214,severity:o,pb:s},Oc={id:41215,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Ec={id:41216,severity:o,pb:s},Ic={id:41217,severity:o,pb:s},Ac={id:41218,severity:o,pb:s},Pc={id:41219,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},xc={id:41220,severity:o,pb:s},Mc={id:41221,severity:o,pb:s},Lc={id:41222,severity:o,pb:s},Dc={id:41223,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Fc={id:41224,severity:o,pb:s},Rc={id:41225,severity:o,pb:s},Nc={id:41226,severity:o,pb:s},jc={id:41227,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Bc={id:41228,severity:o,pb:s},$c={id:41229,severity:o,pb:s},Hc={id:41230,severity:o,pb:s},Uc={id:41231,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Wc={id:41232,severity:n.z.Critical,pb:s},_c={id:41233,severity:n.z.Critical,pb:s},zc={id:41234,severity:n.z.Critical,pb:s},Vc={id:41235,severity:n.z.Critical,pb:s},Gc={id:41350,severity:o,pb:s},qc={id:41400,severity:o,pb:s},Zc={id:41401,severity:n.z.NoAlert,pb:s},Qc={id:41402,severity:o,pb:s},Kc={id:41403,severity:o,pb:s},Jc={id:41404,severity:n.z.NoAlert,pb:s},Xc={id:41415,severity:o,pb:s},Yc={id:41416,severity:o,pb:s},ed={id:41417,severity:n.z.NoAlert,pb:s},td={id:41420,severity:o,pb:s},id={id:41421,severity:o,pb:s},nd=(n.z.NoAlert,{id:41601,severity:o,pb:s}),rd=(n.z.Critical,n.z.Critical,n.z.NoAlert,n.z.NoAlert,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,{id:42601,severity:o,pb:s}),od={id:42602,severity:o,pb:s},sd={id:42603,severity:o,pb:s},ad={id:42701,severity:o,pb:s},cd={id:42702,severity:n.z.NoAlert,pb:s},dd={id:42703,severity:o,pb:s},ld={id:42705,severity:o,pb:s},ud={id:42706,severity:o,pb:s},gd={id:42707,severity:o,pb:s},pd={id:42708,severity:o,pb:s},hd={id:43e3,severity:o,pb:s},fd=(n.z.Alert,n.z.Alert,n.z.Alert,n.z.Alert,n.z.Alert,n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:43500,severity:o,pb:s}),md={id:43600,severity:n.z.Alert,pb:s},vd={id:43601,severity:n.z.Alert,pb:s},bd={id:43602,severity:n.z.Alert,pb:s},yd={id:43603,severity:n.z.Alert,pb:s},Cd={id:43604,severity:n.z.Critical,pb:s},Sd={id:43605,severity:n.z.Alert,pb:s},wd=(n.z.NoAlert,n.z.NoAlert,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,{id:44e3,severity:o,pb:s}),Td={id:44003,severity:o,pb:s},kd={id:44101,severity:o,pb:s},Od={id:44102,severity:o,pb:s},Ed={id:44103,severity:o,pb:s},Id={id:44104,severity:o,pb:s},Ad={id:44105,severity:o,pb:s},Pd={id:44106,severity:o,pb:s},xd={id:44200,severity:o,pb:s},Md={id:44300,severity:o,pb:s},Ld={UnknownError:{id:44500,severity:o,pb:s},UnknownErrorWarning:{id:44501,severity:n.z.NoAlert,pb:s},FetchFeedDataFailed:{id:44502,severity:o,pb:s},FetchFeedDataFailedWarning:{id:44503,severity:n.z.NoAlert,pb:s},FetchVideoPreviewFailed:{id:44504,severity:o,pb:s},FetchVideoPreviewFailedWarning:{id:44505,severity:n.z.NoAlert,pb:s},FetchNewsPreviewFailed:{id:44506,severity:o,pb:s},FetchNewsPreviewFailedWarning:{id:44507,severity:n.z.NoAlert,pb:s},FetchDocumentPreviewFailed:{id:44508,severity:o,pb:s},FetchDocumentPreviewFailedWarning:{id:44509,severity:n.z.NoAlert,pb:s},FetchPeoplePhotoFailed:{id:44510,severity:o,pb:s},FetchPeoplePhotoFailedWarning:{id:44511,severity:n.z.NoAlert,pb:s},ItemRenderingFailed:{id:44512,severity:o,pb:s},ShareDialogFailed:{id:44513,severity:o,pb:s},AuthenticationFailedWarning:{id:44514,severity:n.z.NoAlert,pb:s},FastFeedSetupFailed:{id:44515,severity:o,pb:s},HideItemFailed:{id:44516,severity:o,pb:s},FeedbackCacheFailure:{id:44517,severity:n.z.NoAlert,pb:s},ChatMessageParsingWarning:{id:44518,severity:n.z.NoAlert,pb:s},PivotSwitchFailed:{id:44519,severity:o,pb:s},AccessDeniedForGCCMod:{id:44520,severity:n.z.NoAlert,pb:s},RefreshDataFailed:{id:44521,severity:o,pb:s},MissingRequiredFields:{id:44522,severity:o,pb:s}},Dd=(n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.Critical,{id:44700,severity:o,pb:s}),Fd={id:44701,severity:o,pb:s},Rd={id:44702,severity:o,pb:s},Nd={id:44703,severity:o,pb:s},jd={id:44704,severity:o,pb:s},Bd={id:44705,severity:o,pb:s},$d={id:44706,severity:o,pb:s},Hd={id:44707,severity:o,pb:s},Ud={id:44708,severity:o,pb:s},Wd={id:44709,severity:o,pb:s},_d={id:44710,severity:o,pb:s},zd={id:44711,severity:o,pb:s},Vd=(n.z.NoAlert,n.z.Critical,{id:45700,severity:o,pb:s}),Gd=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:45702,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),qd={id:45703,severity:n.z.HighImpact,pb:Object.assign(Object.assign({},s),{userImpacting:!0})},Zd=(n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:46e3,severity:o,pb:s}),Qd={id:46001,severity:o,pb:s},Kd=(n.z.NoAlert,n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Alert,n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:46216,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),Jd=(n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),n.z.Critical,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:46222,severity:n.z.Critical,pb:Object.assign(Object.assign({},s),{userImpacting:!0})}),Xd=(n.z.NoAlert,n.z.NoAlert,n.z.Critical,{id:47101,severity:o,pb:s}),Yd=(n.z.NoAlert,n.z.Critical,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.NoAlert,n.z.Critical,n.z.Critical,n.z.NoAlert,n.z.NoAlert,{id:5e4,severity:o,pb:s}),el={id:50001,severity:o,pb:s},tl={id:50002,severity:o,pb:s},il={id:50004,severity:o,pb:s},nl={id:50005,severity:o,pb:s},rl={id:50006,severity:o,pb:s},ol={id:50007,severity:o,pb:s},sl={id:50008,severity:o,pb:s},al={id:50009,severity:o,pb:s},cl={id:50010,severity:o,pb:s},dl={id:50011,severity:n.z.Critical,pb:s},ll={id:50012,severity:n.z.NoAlert,pb:s},ul={id:50013,severity:o,pb:s},gl={id:50014,severity:o,pb:s},pl={id:50015,severity:o,pb:s},hl=(n.z.NoAlert,{id:50017,severity:o,pb:s}),fl={id:50018,severity:o,pb:s},ml={id:50019,severity:o,pb:s},vl={id:50020,severity:o,pb:s},bl={id:50021,severity:o,pb:s},yl={id:50022,severity:o,pb:s},Cl={id:50024,severity:o,pb:s},Sl={id:50025,severity:n.z.Critical,pb:s},wl={id:50026,severity:o,pb:s},Tl={id:50050,severity:o,pb:s},kl={id:50100,severity:o,pb:s},Ol={id:50101,severity:o,pb:s},El={id:50400,severity:o,pb:s},Il={id:50402,severity:o,pb:s},Al=(n.z.Critical,{id:52100,severity:o,pb:s}),Pl=(n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.HighImpact,Object.assign(Object.assign({},s),{userImpacting:!0}),{id:53100,severity:n.z.NoAlert,pb:s}),xl={id:53101,severity:o,pb:s},Ml={id:53102,severity:o,pb:s},Ll={id:53103,severity:o,pb:s},Dl={id:53104,severity:n.z.NoAlert,pb:s},Fl={id:53105,severity:o,pb:s},Rl={id:53106,severity:n.z.NoAlert,pb:s},Nl=(n.z.NoAlert,n.z.Critical,n.z.NoAlert,{id:53320,severity:o,pb:s}),jl={id:53321,severity:o,pb:s},Bl=(n.z.NoAlert,n.z.NoAlert,n.z.Critical,{id:53700,severity:o,pb:s}),$l={id:53800,source:"libs/feed-layout/.../healthFitnessCardDataMapper.ts",severity:o,pb:s},Hl=(n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,n.z.Critical,{id:60004,severity:o,pb:s}),Ul=(n.z.NoAlert,{SuperFeedCMSAdFetchFailed:{id:60101,severity:o,pb:s},SuperFeedGetSamDataFailed:{id:60102,severity:o,pb:s},SuperFeedRiverFetchFailed:{id:60103,severity:o,pb:s},SuperFeedSDCardFetchFailed:{id:60104,severity:o,pb:s},SuperFeedEmptyResponsePrerender:{id:60105,severity:o,pb:s},SuperFeedEmptyResponseFirstPage:{id:60106,severity:o,pb:s},SuperFeedEmptyResponseRefresh:{id:60107,severity:o,pb:s},SuperFeedEmptyResponseSubsequent:{id:60108,severity:o,pb:s},SuperFeedWhyThisAdFailed:{id:60109,severity:o,pb:s},SuperFeedCardReplacementFetchFailed:{id:60110,severity:o,pb:s},SuperFeedEmptyResponseCardReplacement:{id:60111,severity:o,pb:s},SuperFeedStaticResponse:{id:60112,severity:o,pb:s},SuperFeedStaticResponsePrerender:{id:60113,severity:o,pb:s},SuperFeedUIForceUnblock:{id:60114,severity:o,pb:s},SuperFeedCardTypeNotFound:{id:60115,severity:o,pb:s},SuperFeedMappedDataNotGenerated:{id:60116,severity:o,pb:s},SuperFeedSamAdsMismatch:{id:60117,severity:n.z.NoAlert,pb:s},SuperFeedCmsAdsMismatch:{id:60118,severity:n.z.NoAlert,pb:s}}),Wl=(n.z.Critical,{DataMapperError:{id:60400,severity:o,pb:s},EmptySubcardData:{id:60401,severity:o,pb:s},NoContent:{id:60402,severity:o,pb:s},InsufficientContent:{id:60403,severity:o,pb:s},InvalidContentType:{id:60404,severity:o,pb:s},FetchContentByLocationError:{id:60405,severity:n.z.NoAlert,pb:s},HideCardError:{id:60406,severity:o,pb:s}}),_l={id:60500,severity:o,pb:s},zl={ContentParseError:{id:60600,severity:o,pb:s}},Vl=(Object.assign(Object.assign({},s),{userImpacting:!0}),{id:60800,severity:o,pb:s}),Gl={id:60801,severity:o,pb:s},ql={RelatedStoriesContentFetchError:{id:60900,severity:o,pb:s},RelatedStoriesContentParseError:{severity:o,pb:s}},Zl={SuperSDHideCardError:{id:61e3,severity:o,pb:s}},Ql={MsalAcquireAccountLinkingTokenException:{id:7e4,severity:n.z.NoAlert,pb:s},ApiCallException:{id:70001,severity:n.z.NoAlert,pb:s}},Kl={id:70100,severity:o,pb:s},Jl={id:70101,severity:o,pb:s},Xl={EmptyResultFromTravelApi:{id:70201,severity:o,pb:s},ErrorResultFromTravelApi:{id:70202,severity:o,pb:s},FailedToFetchTravelArtciles:{id:70203,severity:o,pb:s},FailedToFetchDestinationDetails:{id:70204,severity:o,pb:s},InvalidResponseForDestinationDetails:{id:70205,severity:o,pb:s}},Yl={id:70300,severity:o,pb:s},eu=(n.z.NoAlert,{id:80001,severity:n.z.NoAlert,pb:s})},20390:function(e,t,i){"use strict";i.d(t,{M:function(){return g}});var n=i(1970),r=i(84147),o=i(26482),s=i(95912),a=i(53723);class c extends a.i{constructor(e,t,i,n,r,o,s){super(t,i,n,r,o,s),this.RequestId=e}set isMetrics(e){this._isMetrics=e}get isMetrics(){return this._isMetrics}}var d=i(67509),l=i(33379),u=i(34449);class g{constructor(e,t=""){this.requestId=t,(0,l.N)()?(this.logger=o.e.getInstance("ExperienceLogger",r.i.Info,d.N.Browser),this.isDebugEnabled=((0,u._)(e,"debug")||"").toLowerCase()in{1:1,true:1},this.isDebugEnabled&&!i.g.TEST_ENV&&(window.webpackRequire=i)):(this.logger=o.e.getInstance("ExperienceLogger",r.i.Info,d.N.NodeJs),this.isDebugEnabled=!1),this.setupLogLevel()}getLoggingService(){return this.logger}isDebug(){return this.isDebugEnabled}setDebug(e){this.isDebugEnabled=e,this.setupLogLevel()}setTags(e){this.tags=e}log(e,t){if(!this.tags||!this.tags.length||t&&t.length&&t.filter((e=>this.tags.includes(e))).length>0){const t=new c(this.requestId,e);this.logger.info(t)}}logError(e){const t=new c(this.requestId,e);this.logger.error(t)}logCallback(e){this.logger.infoCallback(e)}logObjects(...e){const t=new c(this.requestId,null,e);this.logger.info(t)}logSingleObject(e,t=!1){const i=new c(this.requestId,null,e);i.isMetrics=t,this.logger.info(i)}setupLogLevel(){this.logger.setLevel(this.isDebug()?r.i.Info:r.i.Error),this.setupAppenders()}setupAppenders(){this.logger.removeAllAppenders(),(0,l.N)()?this.logger.addAppender(new n.N(this.logger.getLevel())):this.logger.addAppender(new s.m(this.logger.getLevel()))}}},68364:function(e,t,i){"use strict";i.d(t,{H:function(){return s},OO:function(){return o},Tr:function(){return a}});var n=i(65135),r=i(26415);function o(e,t,i,r){const o=a(t,i,r||e&&e.toString());o.pb.stack=e&&e.stack,n.M&&n.M.sendAppErrorEvent(o)}function s(e,t,i){n.M&&n.M.sendAppErrorEvent(a(e,t,i))}function a(e,t,i){const n=(0,r.mnt)();return Object.assign(Object.assign({},e),{message:t||e.message,pb:i?Object.assign(Object.assign(Object.assign({},n),e.pb),{customMessage:i}):Object.assign(Object.assign({},n),e.pb)})}},86969:function(e,t,i){"use strict";i.d(t,{C:function(){return o}});var n=i(34449),r=i(33379);class o{constructor(){(0,r.N)()?(this.isDebugEnabled=((0,n._)(window.location.href,"debug")||"").toLowerCase()in{1:1,true:1},this.isDebugEnabled&&!i.g.TEST_ENV&&(window.webpackRequire=i)):this.isDebugEnabled=!1}getLoggingService(){return null}isDebug(){return this.isDebugEnabled}setDebug(e){this.isDebugEnabled=e}setTags(e){}log(e,t){this.isDebug()&&console.info(e)}logError(e){console.error(e)}logCallback(e){this.isDebug()&&console.info(e())}logObjects(...e){this.isDebug()&&console.log(...e)}logSingleObject(e,t){this.isDebug()&&console.log(e)}}},33954:function(e,t,i){"use strict";function n(e){r=e}i.d(t,{E:function(){return n},k:function(){return r}});let r=new(i(86969).C)},34449:function(e,t,i){"use strict";function n(e,t){const i=t.replace(/[[\]]/g,"\\$&"),n=new RegExp("[?&]"+i+"(=([^&#]*)|&|#|$)").exec(e);if(!n)return null;const r=n[2];return decodeURIComponent(r.replace(/\+/g," "))||""}i.d(t,{_:function(){return n}})},30876:function(e,t,i){"use strict";i.d(t,{Y:function(){return n},c:function(){return o}});var n,r=i(33954);function o(e){try{const t=new URL(e).searchParams,i=t.get("expPerf"),r=t.get("expPerfSkip");if("all"==r)return{enablePerfTimeline:!1};if(!r&&!i)return{};const o={enablePerfTimeline:!0,uploadTrace:!1,sampleRate:1,uploadCriteria:{minimumTTVR:0}};if("all"===i)o.trackAllExp=!0,o.experiencesExcludedForPerf={};else if(i){const e=o.experiencesForPerf={};i.split(",").forEach((t=>e[t]=!0))}if(r){const e=o.experiencesExcludedForPerf={};r.split(",").forEach((t=>e[t]=!0))}"true"===t.get("expPerfMarks")&&(o.addPerformanceMarks=!0),"true"===t.get("expPerfTimings")&&(o.addPageTimings=!0);const s=parseInt(t.get("expPerfLevel"));return o.traceLevel=null!=n[s]?s:n.default,o}catch(e){return r.k.logError("Error parsing URL for detecting experience diagnostic switches: "+e),{}}}!function(e){e[e.default=0]="default",e[e.medium=1]="medium",e[e.high=2]="high"}(n||(n={}))},54533:function(e,t,i){"use strict";i.d(t,{dj:function(){return v},iG:function(){return y},g7:function(){return m},Im:function(){return b}});var n=i(30876),r=i(21050),o=i(33940),s=i(22704),a=i(33954);const c=(0,s.Ou)();class d{constructor(){this.timelineCount={}}qualifyKey(e){const t=this.getCount(e);return t<=1?e:e+t}reset(){this.timelineCount={}}getCount(e){const t=this.timelineCount[e]||0;return this.timelineCount[e]=t+1}}const l=new d,u="-start";class g{constructor(e,t,i,n,r){this.timelineName=e,this.instanceId=t,this.addPerfMarks=i,this.addPageTimings=n,this.async=r,this.markerCount=new d,this.measures=[],this.timelineName=l.qualifyKey(e)}rename(e){this.timelineName!==e&&(this.addPageTimings&&this.measures.forEach((e=>{const t=this.qualifyMeasureName(e.measureName);delete c[t+u],delete c[t]})),this.timelineName=e,this.addPageTimings&&this.measures.forEach((e=>{const t=this.qualifyMeasureName(e.measureName);c[t+u]=e.from,c[t]=e.to-e.from})))}startMeasure(e,t,i){const n=performance.now(),r=this.timelineName;let o=this.formatMeasureName(e,t),s=this.qualifyMeasureName(o);const a=s+u;return this.singleMark(a),this.addPageTimings&&(c[a]=n),{endMeasure:(t,d)=>{const l=performance.now();(t||r!==this.timelineName)&&(o=this.formatMeasureName(e,t),s=this.qualifyMeasureName(o));const u=s+"-end";this.singleMark(u),this.measure(s,a,u),this.measures.push({measureName:o,async:null!=i?i:this.async,from:n,to:l,customData:d}),this.addPageTimings&&(c[s]=l-n)}}}getPageMeasures(){return this.measures.map((e=>Object.assign(Object.assign({},e),{timelineName:this.timelineName})))}instrumentFunc(e,t,i){return(...n)=>{let r=this.startMeasure(e).endMeasure;try{const e=t.apply(i,n);return e instanceof Promise&&e.finally((()=>{r(),r=null})),e}finally{r&&r()}}}instrumentPromise(e,t,i){return(0,o.mG)(this,void 0,void 0,(function*(){const n=this.startMeasure(e,null,i).endMeasure;try{return yield t()}finally{n()}}))}qualifyMeasureName(e){return`${this.timelineName}-${e}`}formatMeasureName(e,t){const i=t?"-"+t:"";return this.markerCount.qualifyKey(`${e}${i}`)}singleMark(e){this.addPerfMarks&&performance.mark(e)}measure(e,t,i){if(this.addPerfMarks)try{performance.measure(e,t,i)}catch(e){a.k.logError(e)}}}let p;const h={};let f;function m(e,t){f={},(0,r.S4)(t),function(e){Object.assign(h,p=(0,n.c)(e))}(e)}function v(){return h}const b=(e,t,i)=>function(e){if(!h.enablePerfTimeline)return!1;const{experiencesForPerf:t}=h;if(t&&t[e])return!0;const{experiencesExcludedForPerf:i}=h;if(i&&i[e])return!1;return h.trackAllExp}(e)?function(e,t,i){const n=C(e,t),o=f[n];if(o)return o;return f[n]=(0,r.uk)(g,e,t,h.addPerformanceMarks,h.addPageTimings,i)}(e,t,i):void 0;function y(){const e=[];return Object.keys(f).forEach((t=>e.push(...f[t].getPageMeasures()))),e}function C(e,t){return`${e}-${t||"0"}`}},8665:function(e,t,i){"use strict";i.d(t,{z:function(){return C}});var n=i(22704),r=i(54533),o=i(11923);function s(e={}){const t=Object.assign(Object.assign({},(0,n.Ou)()),(0,n.Y9)()),i=[],o={WW:{pid:0},Resolver:{pid:1},Ads:{pid:2},Telemetry:{pid:3},"Content Preview":{pid:4},Images:{pid:5},JS:{pid:6},Statics:{pid:7},Configs:{pid:8},Services:{pid:9},nextPID:{pid:20}},s=100;!function(e,t,i){const n=[{name:"Ads",regex:/(\/srtb\.|taboola|outbrain)/i},{name:"Telemetry",regex:/(otf\.|\/c\.gif)/i},{name:"Content Preview",regex:/\/content\/view\/v[0-9]\/Preview\//i},{name:"Images",regex:/(img-s-msn-com|\.svg)/i},{name:"JS",regex:/\.js/i},{name:"Statics",regex:/statics/i},{name:"Configs",regex:/\/config/i},{name:"Services",regex:/(\/service\/|api|\/getappanoncookie|content|microsoftonline)/i}];let r=performance.getEntriesByType("resource").filter((t=>{const{duration:i,startTime:n}=t;return h(e,n,n+i)}));n.forEach((e=>{g(e.name,i);const n=[];r.filter((t=>{const i=t.name.match(e.regex);return i||n.push(t),i})).forEach(((i,n)=>{const r=new URL(i.name),o=r.pathname.length>1?r.pathname:r.hostname;t.push({async:!0,timelineName:e.name,measureName:`${o}-${n}`,from:i.startTime,to:i.startTime+i.duration})})),r=n}))}(e,i,o),function(e,t,i,n){i.forEach((i=>{const{async:r,timelineName:o}=i;r&&g(o,n),h(e,i.from,i.to)&&t.push(i)}))}(e,i,(0,r.iG)(),o),u(e,i,t,o,/^WW\./,"WW");const f=Object.assign({},window._appTimings||{});u(e,i,f,o,/.*/);const m=[];m.push(c(e,"Global","NavStart",s,0,"g")),Object.keys(t).filter((i=>i.match(/TT/)&&h(e,t[i]))).sort(((e,i)=>t[e]-t[i])).forEach((i=>m.push(c(e,"Global",i,s,t[i],"g")))),Object.keys(t).filter((i=>i.match(/^WW\./i)&&h(e,t[i]))).sort(((e,i)=>t[e]-t[i])).forEach((i=>m.push(c(e,"WW",i,o.WW.pid,t[i],"p")))),m.push(a("process_name",s,{name:"Main"})),m.push(a("process_sort_index",s,{sort_index:s}));const{uploadTrace:v}=e;return l(e,i,!0).forEach(((t,i)=>{const{pid:n}=o[t.name];t.measures.forEach(((t,r)=>{const{timelineName:o,measureName:s,from:a,to:c,customData:l}=t,u=("000"+r).substr(-3,3),g=v?function(e){const t=e.lastIndexOf("/");return t>=0?e.substr(t+1):e}(s):s,p=`${u}-${g}`;m.push(...function(e,t,i,n,r,o,s,a,c,l){return[d(e,t,i,l?"B":"b",n,r,s,{id:o}),d(e,t,i,l?"E":"e",n,r,a,{id:o,args:c})]}(e,o,p,n,i,r,a,c,l))})),m.push(a("process_name",n,{name:t.name})),m.push(a("process_sort_index",n,{sort_index:n})),m.push(a("thread_name",n,{name:t.name},i)),m.push(a("thread_sort_index",n,{sort_index:i},i))})),l(e,i,!1).forEach(((t,i)=>{t.measures.forEach((t=>{const{timelineName:n,measureName:r,from:o,to:s,customData:a}=t;m.push(function(e,t,i,n,r,o,s,a){const c=p(s-o);return d(e,t,i,"X",n,r,o,{dur:c,args:a})}(e,n,r,100,i,o,s,a))})),m.push(a("thread_name",100,{name:t.name},i)),m.push(a("thread_sort_index",100,{sort_index:i},i))})),m}function a(e,t,i,n){const r={name:e,ph:"M",pid:t,args:i};return null!=n&&(r.tid=n),r}function c(e,t,i,n,r,o){return d(e,t,i,"i",n,null,r,{s:o})}function d(e,t,i,n,r,o=null,s,a){const c=Object.assign({cat:t,name:i,ph:n,pid:r,tid:o,ts:p(s)},a);return null!=o&&(c.tid=o),c}function l(e,t,i){const n=(0,o.Z)(t.filter((t=>!!t.async===i&&h(e,t.from,t.to))),(e=>e.timelineName)),r=[];let s=0;return Object.keys(n).forEach((e=>{const t=n[e].sort(((e,t)=>e.from-t.from));s=Math.max(s,t[t.length-1].to),r.push({name:e,measures:t})})),r.sort(((e,t)=>e.measures[0].from-t.measures[0].from))}function u(e,t,i,n,r,o){const s=/-?[Ss]tart$/,a={"-Start":"-End","-start":"-end",Start:"End",start:"end"},c=[];Object.keys(i).filter((e=>e.match(r))).forEach((r=>{const d=r.match(s);if(!d)return;let l=r.replace(s,"");const u=`${l}${a[d[0]]}`,g=d&&i[u];if(!g)return;c.push(r),c.push(u);let p=o;if(!p){const e=l.match(/(.+)\.(.+)/);if(!e)return;p=e[1],l=e[2]}const f=i[r];h(e,f,g)&&t.push({async:!!n[p],timelineName:p,measureName:l,from:f,to:g})}));for(const e of c)delete i[e]}function g(e,t){if(!t[e])return t[e]={pid:t.nextPID.pid++},!0}function p(e){return Math.round(1e3*e)}function h(e,t,i){return!e.uploadTrace||!e.maxTime||(!t||t<=e.maxTime)&&(!i||i<=e.maxTime)}var f=i(21050),m=i(33379),v=i(79278),b=i(30876),y=i(14675);function C(e,t){(0,r.g7)(e,t),(0,v.n1)(),(0,r.dj)().traceLevel>=b.Y.high&&(S("RAF",requestAnimationFrame),S("RAFTimer",y.c)),(0,m.N)()&&(window._getAppPerfTrace=s)}function S(e,t){const i=(0,f.oA)(e,e);i&&function e(){const{endMeasure:n}=i.startMeasure("frame");t((()=>{n(),e()}))}()}},22704:function(e,t,i){"use strict";i.d(t,{O8:function(){return c},Ou:function(){return s},UE:function(){return d},Y9:function(){return a}});var n=i(33379);const r=(0,n.N)()?window._pageTimings||(window._pageTimings={}):{},o=(0,n.N)()?window._secondaryPageTimings||(window._secondaryPageTimings={}):{};function s(){return r}function a(){return o}function c(e,t=!0){if(!e||!r||t&&r.TTVR)return;const i=r[e]||(r[e]=0);r[e]=i+1}function d(){return(0,n.N)()?performance.now():performance.now()-r.ssrTimeOrigin}},14752:function(e,t,i){"use strict";i.d(t,{A:function(){return a}});var n=i(33940),r=i(33954);const o="-start";class s{constructor(){this.endMarkSuffix="-end","undefined"!=typeof window&&this.initialize(window.performance)}static getInstance(){return s.instance||(s.instance=new s),s.instance}initialize(e){this.performance=e}startMark(e){this.singleMark(e+o)}endMark(e){this.singleMark(e+this.endMarkSuffix),this.measureStartEnd(e)}singleMark(e){const t=this.performance;t&&t.mark&&t.mark(e)}clearMark(e){const t=this.performance;t&&t.clearMarks&&t.clearMarks(e)}clearMeasures(e){const t=this.performance;t&&t.clearMeasures&&t.clearMeasures(e)}measurePromise(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){this.startMark(e);const i=yield t();return this.endMark(e),i}))}measurePerfMarker(e){if(!this.performance)return;const t={},i=this.performance.getEntriesByType("mark");if(!i)return t;for(let n=0;n<i.length;n++){let r=i[n].name;if(!r||null==i[n].startTime)continue;if(r=r.replace(/-(end|start)$/i,""),!r.startsWith(e))continue;const o=t[r]||new c(r);o.processPerfEntry(i[n]),o.isValid&&(t[r]=o)}return t}measureStartEnd(e){const t=this.performance;if(t&&t.measure)try{t.measure(e,e+o,e+this.endMarkSuffix)}catch(t){r.k.logError(`Error while attempting to measure start/end of '${e}'. Error: ${t}`)}}}const a=s.getInstance();class c{constructor(e){this.duration=0,this.markerName=e}get isValid(){return null!=this.startTime}processPerfEntry(e){e.name.endsWith(o)?(this.firstStartTime||(this.firstStartTime=e.startTime),this.startTime=e.startTime):null!=this.startTime&&(this.duration+=e.startTime-this.startTime,this.startTime=null)}}},62676:function(e,t,i){"use strict";i.d(t,{DB:function(){return c},Hm:function(){return h},IP:function(){return g},MV:function(){return o},O6:function(){return d},OM:function(){return l},T8:function(){return n},U4:function(){return r},fR:function(){return p},kc:function(){return a},pJ:function(){return u},qh:function(){return s}});const n="E2E",r="TTPV",o="TTVR",s="TTVS",a="htmlCached",c="pageRevealStart",d="pageRevealComplete",l="getTabTimingsTime",u="protocolLaunchStart",g="FromProtocolLaunchStart",p="userAgentStart",h="FromUserAgentStart"},19388:function(e,t,i){"use strict";i.d(t,{BW:function(){return F},EV:function(){return N},IO:function(){return $},Nv:function(){return _},O0:function(){return ne},OZ:function(){return re},Sc:function(){return J},TZ:function(){return ie},Xl:function(){return H},YJ:function(){return W},aR:function(){return ae},b1:function(){return V},bO:function(){return Q},bP:function(){return q},e3:function(){return z},gh:function(){return Z},l6:function(){return oe},oN:function(){return n},o_:function(){return R},su:function(){return j},tW:function(){return U},v9:function(){return se}});var n,r=i(62676),o=i(33379),s=i(22704),a=i(85663),c=i(14752),d=i(14675);let l,u,g,p,h,f;!function(e){e.Primary="primary",e.Secondary="secondary"}(n||(n={}));const m=new Map,v=new Map,b=new Map;let y,C,S,w,T,k,O,E=new Map,I=new Map;const A="TTF.",P="TTVR.",x="TTVS.",M="TTPR.";let L,D=!1;function F(e="",t=!1,i){if((0,o.N)())return i=i||performance.now(),B(A,e,t,i)}function R(e="",t=!1,i){if((0,o.N)())return i=i||performance.now(),B(P,e,t,i),i}function N(e=""){const t=ie(r.DB),i=-1===t?-1:performance.now()-t;B(M,e,!1,i)}function j(e,t){if(I.get(e))return;const i=performance.getEntriesByName&&performance.getEntriesByName(e);Boolean(i&&i.length)?I.set(e,Math.round(i[0].startTime)):(c.A.singleMark(e),(0,a.isNullOrUndefined)(t)?I.set(e,-1):I.set(e,Math.round(t))),u&&u.delete(e)&&0===u.size&&k&&k(Z())}function B(e,t,i,n){if(!t||!t.length)return;if(!e||!e.length)return;const o=e+t;if(b.has(o)&&b.get(o)(o),E.get(o))return;const s=performance.getEntriesByName&&performance.getEntriesByName(o);Boolean(s&&s.length)?E.set(o,Math.round(s[0].startTime)):(c.A.singleMark(o),i?E.set(o,-1):E.set(o,Math.round(n))),g&&g.delete(o)&&0===g.size&&C&&C(Y()),l&&l.delete(o)&&0===l.size&&w&&w(G()),e===x&&O&&O(ee(x,r.qh))}function $(e){l=K(e),g=K(e,"TTVR"),p=K(e,"TTPR"),h=new Set(te(e,"TTVR")),C&&0===g.size&&w(Y()),w&&0===l.size&&w(G()),D=!0}function H(e){u||(u=new Set,e.forEach((e=>{I.get(e)||u.add(e)})),0===u.size&&k&&k(Z()))}function U(e){f||(f=e)}function W(e){e&&D&&l&&g&&(e.startsWith(P)||(e=P+e),l.add(e),g.add(e),h.add(e))}function _(){return(0,o.N)()?function(){if(!(0,o.N)())return null;if(S)return S;if(l&&0===l.size)return Promise.resolve(G());return S=new Promise((e=>{w=e})),S}():null}function z(){return(0,o.N)()?T||(u&&0!==u.size?(T=new Promise((e=>{k=e})),T):Promise.resolve(Z())):null}function V(){return(0,o.N)()?y||(g&&0===g.size?Promise.resolve(Y()):(y=new Promise((e=>{C=e})),y)):null}function G(){return[...Y(),...X()]}function q(){return[...Y(!1),...X()]}function Z(){const e=[];return I.forEach(((t,i)=>{e.push([i,t])})),e}function Q(e){return e===n.Primary?Array.from(l||[]):Array.from(u||[])}function K(e,t){const i=new Set;for(const n of te(e,t))E.get(n)||i.add(n);return i}function J(e){return(ee(M).find((t=>t[0].includes(e)))||[])[1]}function X(){return ee(A)}function Y(e=!0){return e&&!1!==L?ee(P,r.MV,!0):ee(P)}function ee(e,t,i){const n=[];let o=0;if(E.forEach(((t,i)=>{if(i.startsWith(e)){n.push([i,t]),t>o&&(!i.startsWith("TTVR")||h.has(i))&&(o=t);const e=m.get(i);(null==e?void 0:e.name)&&(v.get(e.name)<t&&v.set(e.name,t),e.preserve||n.pop())}})),v.forEach(((t,i)=>{i.startsWith(e)&&n.push([i,t])})),t&&n.push([t,o]),i&&t===r.MV){const e=(0,s.Ou)().refreshDelay||0;n.push(["TTVR.WithRefreshDelay",o+e])}return n}function te(e,t){let i=[],n=[],r=[];return!e||!e.TTVR||t&&"TTVR"!==t||(i=e.TTVR.map((e=>P+e))),!e||!e.TTF||t&&"TTF"!==t||(r=e.TTF.map((e=>A+e))),e&&e.TTPR&&"TTPR"===t&&(n=e.TTPR.map((e=>M+e))),[...i,...r,...n]}function ie(e){const t=performance.getEntriesByName(e);return t&&t[0]&&t[0].startTime?t[0].startTime:-1}function ne(e){const t=I.get(e);return null!=t?t:-1}function re(){return f}function oe(e="",t=!1,i){let n=e;n.startsWith(P)||(n=P+e),D&&h.has(n)&&""!==e&&R(e,t,i)}function se(e="",t=!1,i){let n=e;n.startsWith(P)||(n=P+e),D&&h.has(n)&&""!==e&&function(e="",t=!1,i){(0,d.c)((()=>R(e,t,i)))}(e,t,i)}function ae(e="",t="",i=!1,n){let r=e,o=t;D&&""!==e&&""!==t&&(r.startsWith(P)||(r=P+e),o.startsWith(P)||(o=P+t),W(r),m.set(r,{name:o,preserve:i}),v.set(o,-1),n&&b.set(r,n))}},21050:function(e,t,i){"use strict";function n(e,t,i,n=!1,r=!1,o){return new e(t,i,n,r,o)}i.d(t,{S4:function(){return o},fW:function(){return a},oA:function(){return s},uk:function(){return n}});let r=null;function o(e){r=e}const s=(e,t,i)=>r?r(e,t,i):null;function a(e,t,i){return i?i.instrumentPromise(t,e):e()}},14675:function(e,t,i){"use strict";i.d(t,{c:function(){return r}});var n=i(33379);function r(e){(0,n.N)()&&requestAnimationFrame((()=>setTimeout((()=>e()),0)))}},79278:function(e,t,i){"use strict";i.d(t,{Dd:function(){return g},Z:function(){return p},n1:function(){return u}});var n=i(21050),r=i(30876),o=i(54533),s=i(22704),a=i(14675),c=i(8114);const d={},l=new WeakMap;function u(){const{enablePerfTimeline:e,traceLevel:t}=(0,o.dj)();if(!e||"undefined"==typeof customElements||t<r.Y.high)return;const i=customElements.define;customElements.define=function(...e){const[t,n]=e,r=n.prototype.connectedCallback;return"function"!=typeof r||"getExperienceType"in n.prototype||(n.prototype.connectedCallback=function(...e){const t=g(this.localName,this.instanceId),i=t&&t.startMeasure("init").endMeasure,n=r.apply(this,e);return i&&i(),p(this,t),(0,s.O8)("WC.Count"),n}),i.apply(customElements,e)}}function g(e,t){const i=1===(d[e]=(d[e]||0)+1)?t:(0,c.Z)(t);return(0,n.oA)(e,i)}function p(e,t,i){!function(e,t,i,n,r){if(!e||!e.shadowRoot||!t)return;if(n.tryStartMeasure(),r().then((()=>n.tryEndMeasure())),!i)return;let o=l.get(e);if(o)return;o=new MutationObserver((e=>{n.tryStartMeasure();const t=e.reduce(((e,t)=>(t.addedNodes.forEach((t=>e.added.push(t.nodeName))),t.removedNodes.forEach((t=>e.removed.push(t.nodeName))),t.attributeName&&e.attrs.push(t.attributeName),e)),{added:[],removed:[],attrs:[]});t.added.length&&n.addCustomData("added: "+t.added.join(",")),t.removed.length&&n.addCustomData("removed: "+t.removed.join(",")),t.attrs.length&&n.addCustomData("attrs: "+t.attrs.join(",")),r().then((()=>n.tryEndMeasure()))})),o.observe(e.shadowRoot,{childList:!0,subtree:!0,attributes:!0}),o.observe(e,{attributes:!0}),l.set(e,o)}(e,t,(0,o.dj)().traceLevel,new h("render",t),i||m)}class h{constructor(e,t){this.measureName=e,this.perfTimeline=t,this.customData=[]}tryStartMeasure(){if(!this.coreEndMeasure){const e=this.perfTimeline.startMeasure(this.measureName).endMeasure;this.coreEndMeasure=()=>e(void 0,{customData:this.customData.join("\n")})}}addCustomData(e){this.customData.push(e)}tryEndMeasure(){this.coreEndMeasure&&(this.coreEndMeasure(),this.customData.length=0,this.coreEndMeasure=null)}}let f;function m(){return f||(f=new Promise((e=>(0,a.c)((()=>{f=null,e()})))))}},96292:function(e,t,i){"use strict";i.d(t,{AU:function(){return o},F9:function(){return d},FO:function(){return a},FX:function(){return c},_L:function(){return r},kn:function(){return s},lv:function(){return l},o1:function(){return n}});const n=2,r=2,o="EdgeNtpLiteEligible",s="EdgeNtpLiteNotEligible",a="EdgeNtpLiteLowModule",c="EdgeNtpLiteFocusedMode",d="EdgeNtpLiteFocusedModeApplied",l="EdgeNtpLiteOriginalSettings"},37271:function(e,t,i){"use strict";i.d(t,{I9:function(){return s},LV:function(){return g},Ll:function(){return a},Ne:function(){return u},PM:function(){return c},cs:function(){return l},p5:function(){return d}});var n=i(96292),r=i(65135),o=i(65337);function s(){const e=window&&window.navigator;if(!e)return!1;const t=e.deviceMemory,i=e.hardwareConcurrency,r=t<=n._L&&i<=n.o1;return function(e){l(e?n.AU:n.kn)}(r),r}function a(){(0,o.$o)().setItem(n.F9,"true")}function c(){return null!==(0,o.$o)().getItem(n.F9)}function d(){const e=null===(0,o.$o)().getItem(n.F9);return s()&&e}function l(e){r.M.addOrUpdateTmplProperty(e,"1")}function u(){(0,o.$o)().removeItem(n.F9)}function g(){(0,o.$o)().removeItem(n.lv)}},33768:function(e,t,i){"use strict";i.d(t,{NU:function(){return h},R:function(){return p},jt:function(){return g}});var n=i(53899),r=i(75970),o=i(77331),s=i(68364),a=i(26415),c=i(66213),d=i(65337);let l,u;function g(e,t,i){if(t&&(u=t),e){const e=p(i);e&&(u=e)}}function p(e){var t,i;try{const n=(0,r._)(c.jG.AppType,c.jG.CurrentRequestTargetScope),{treatments:s}=(0,d.$o)().getObject(n)||{};if(!s)return null;let a=s.filter((e=>(null==e?void 0:e.type)===o._h.topSites));e&&(a=s.filter((e=>(null==e?void 0:e.type)===o._h.topsitesCollapse)));const l=(null==a?void 0:a.length)>0&&(null===(i=null===(t=a[0])||void 0===t?void 0:t.properties)||void 0===i?void 0:i.topSitesCollapsibleControlConfig);if(l)return l}catch(e){const t="Error in getting wpo topSites config";(0,s.H)(a.Od5,t,`error:${e}`)}return null}function h(e){const t=(0,d.$o)().getItem("tsCollapsed");if(t||!u)return"1"===t;if(void 0!==l)return l;let i=u.collapsibleControlIsDefaultCollapsed;return i&&u.collapseForDefaultInformational&&(i=e.currentLayout===n.nP.informational),l=!!i,l}},28817:function(e,t,i){"use strict";i.d(t,{N:function(){return a}});var n=i(33940),r=i(26415),o=i(65135),s=i(33379);class a{constructor(e,t,i,n){this.prefSettingKey=e,this.searchForKeyName=t,this.targetKeyName=i,this.defaultItem=n}getPreferenceSetting(e){return(0,n.mG)(this,void 0,void 0,(function*(){try{const t=yield this.getPreferenceSettingValueArray(),i=t.findIndex((t=>t[this.searchForKeyName]===e));return i>-1?t[i]:null}catch(t){const i=`Failed to find user preference key: ${e}`;return this.logAppError(r.Aps,i,t),null}}))}savePreferenceSetting(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){try{const i=(yield this.getPreferenceSettingValueArray())||[],n=i.findIndex((t=>t[this.searchForKeyName]===e));if(n>-1){const e=Object.assign(Object.assign({},i[n]),t);i[n]=e}else{const n=Object.assign(Object.assign({},this.defaultItem),t);n[this.searchForKeyName]=e,i.push(n)}return this.setAndSavePreferenceSetting(i)}catch(t){const i="Failed to store user preference setting";return this.logAppError(r.nS9,i,`Key:${e}.Error:${t}`),!1}}))}isApiAvailableToUse(){return new Promise((e=>{const t="Error in isApiAvailableToUse";try{this.isGoodToUseNtpSettingsPrivate("getAllPrefs")?void 0===this.isPrefSettingKeyAvailable?window.chrome.ntpSettingsPrivate.getAllPrefs((i=>{if(this.isPrefSettingKeyAvailable=i&&i.findIndex((e=>e.key===this.prefSettingKey))>-1,!this.isPrefSettingKeyAvailable){let e="";try{i&&i.forEach((t=>e+=`${t.key}+`))}catch(e){this.logAppError(r.Aps,"Error: Can not log keylist from preference setting",e)}this.logAppError(r.me0,t,`missing preference key: ${this.prefSettingKey}, available keys: ${e}`)}e(this.isPrefSettingKeyAvailable)})):e(this.isPrefSettingKeyAvailable):(this.logAppError(r.MFQ,t,"getAllPrefs not present"),e(!1))}catch(t){this.logAppError(r.MFQ,"Error: Unexpected throw in isApiAvailableToUse",t),e(!1)}}))}logAppError(e,t,i){o.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:i})}))}getPreferenceSettingValueArray(){return(0,n.mG)(this,void 0,void 0,(function*(){try{if(this.settingValuesArray)return this.settingValuesArray;{const e=yield this.getPreferenceValueFromBrowser();return this.settingValuesArray=this.settingValuesArray||e||[],this.settingValuesArray}}catch(e){const t=`Failed to read ${this.prefSettingKey} preference setting`;return this.logAppError(r.k8J,t,e),[]}}))}setAndSavePreferenceSetting(e){try{if(this.isGoodToUseNtpSettingsPrivate("setPref"))return this.settingValuesArray=e,window.chrome.ntpSettingsPrivate.setPref(this.prefSettingKey,this.settingValuesArray),!0;{const e="window.chrome.ntpSettingsPrivate.setPref does not exist.";return this.logAppError(r.T5b,e,`Key:${this.prefSettingKey}`),!1}}catch(e){return!1}}isGoodToUseNtpSettingsPrivate(e){return(0,s.N)()&&window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[e]}getPreferenceValueFromBrowser(){return new Promise(((e,t)=>{if(this.isGoodToUseNtpSettingsPrivate("getPref"))window.chrome.ntpSettingsPrivate.getPref(this.prefSettingKey,(function(t){t&&t.value?e(t.value):e(null)}));else{const e="window.chrome.ntpSettingsPrivate.getPref does not exist.";this.logAppError(r.pCD,e,""),t(e)}}))}}},39439:function(e,t,i){"use strict";i.d(t,{F:function(){return c}});var n=i(65135),r=i(93853),o=i(66213);const s=`reloadCount_${"undefined"!=typeof window?window.location.href:""}`;function a(e,t,i){if(n.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:"Navigating to local ntp page on exception.",pb:Object.assign(Object.assign({},e.pb),{customMessage:t,stack:i&&i.stack})})),o.jG.IsDebug)return;const r=new URLSearchParams;e&&r.set("ntperror",e.id);const s=n.M.getRequestId();s&&r.set("rid",s),n.M.flush(!0,"AppError"),setTimeout((()=>{location.replace("chrome-search://local-ntp/local-ntp.html?"+r.toString())}),2e3)}const c={tryReloadNtpPage:function(e,t,i,o){if(!r.y7.supported)return void a(t,`sessionStorage is not supported. ${i}`);if(r.y7.getItem(s)){const e=r.y7.getItem(s),n=e&&parseInt(e)||0;if(!(n<2))return void a(t,`Max reload count (2) reached. ${i}`,o);r.y7.setItem(s,n+1+"")}else r.y7.setItem(s,"1");n.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:"Reloading NTP page on exception.",pb:Object.assign(Object.assign({},e.pb),{customMessage:i,stack:o&&o.stack})})),n.M.flush(!0,"AppError"),setTimeout((()=>{location.reload()}),2e3)},redirectToLocalNtp:a}},98864:function(e,t,i){"use strict";i.d(t,{N:function(){return u}});var n=i(33940),r=i(65135),o=i(75192),s=i(17440),a=i(54804),c=i(66213),d=i(12108),l=i(26415);const u=new class{constructor(e){this.userNurturingManager=e,this.feedLayoutItem=void 0}get getPslFeedLayoutType(){return this.feedLayoutItem?this.feedLayoutItem&&this.feedLayoutItem.type:null}loadPslFeedLayout(e=!1){return(0,n.mG)(this,void 0,void 0,(function*(){if(void 0!==this.feedLayoutItem)return this.getPslFeedLayoutType;if(!(yield this.userNurturingManager.isApiAvailableToUse()))return this.feedLayoutItem=null,null;const t=yield this.userNurturingManager.getPreferenceSetting(o.Xm.renderSingleColumn);if(t&&"boolean"==typeof t.value){const e=t.value?o.sj.SingleColumn:o.sj.MultiColumn;return this.saveFeedLayoutSetting(e,o.oj.Wpo),this.feedLayoutItem=null,this.isSingleColumnAllowed()&&(this.feedLayoutItem={type:o.sj.SingleColumn,source:o.oj.Wpo,time:(new Date).getTime()}),this.userNurturingManager.deleteKeyValueFromPSL(o.Xm.renderSingleColumn),this.sendClientLogEvent("Reformatted single column data"),this.getPslFeedLayoutType}const i=yield this.userNurturingManager.getPreferenceSetting(o.Xm.feedLayout);if(this.feedLayoutItem=i&&i.value,a.Al.CurrentFlightSet.has("prg-newpc-lininfo")||a.Al.CurrentFlightSet.has("prg-newpc-lininsp")){const t=yield this.getAllPreferenceValuesFromBrowser(),i=t&&t.find((e=>"new_device_fre.has_user_seen_new_fre"===e.key));if(i&&i.value&&!e)return this.saveFeedLayoutSetting(o.sj.SingleColumn,o.oj.Wpo),this.feedLayoutItem=null,this.isSingleColumnAllowed()&&(this.feedLayoutItem={type:o.sj.SingleColumn,source:o.oj.Wpo,time:(new Date).getTime()}),this.getPslFeedLayoutType}return this.isSingleColumnAllowed()||(this.feedLayoutItem=null),this.getPslFeedLayoutType}))}getAllPreferenceValuesFromBrowser(){return new Promise((e=>{window.chrome.ntpSettingsPrivate.getAllPrefs((function(t){e(t||null)}))}))}saveFeedLayoutSetting(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(!(yield this.userNurturingManager.isApiAvailableToUse()))return void this.sendClientLogEvent("User's column feed selection did not save.");const i=yield this.userNurturingManager.getPreferenceSetting(o.Xm.feedLayout);if((i&&i.value&&i.value.source)===o.oj.Ntp&&t!==o.oj.Ntp)return void this.sendClientLogEvent("Error: Tried to apply wpo recommendation when there is an explicit choice");const n=i&&i.value&&i.value.targettedCount||0;if(e===o.sj.SingleColumn&&t===o.oj.Wpo&&n>=1)return;if(e===o.sj.MultiColumn&&t===o.oj.Wpo&&n>=2)return;const r={type:e,source:t,time:(new Date).getTime(),targettedCount:t===o.oj.Ntp?n:n+1,version:1.1};this.feedLayoutItem=r,this.userNurturingManager.savePreferenceSetting(o.Xm.feedLayout,r)}))}tryLoggingWpoPromotionInfo(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield this.userNurturingManager.getPreferenceSetting(o.Xm.wpo);e&&this.sendClientLogEvent(JSON.stringify(e),"wpo promotion")}))}isSingleColumnAllowed(){const e=c.jG.CurrentRequestTargetScope.audienceMode;return e===d.F.Adult||e===d.F.Enterprise}sendClientLogEvent(e,t){const i={message:e,type:"information",pb:Object.assign(Object.assign({},(0,l.mnt)()),{customMessage:t})};r.M.sendClientLogEvent(i)}}(s.U)},34955:function(e,t,i){"use strict";var n;i.d(t,{H:function(){return r},v:function(){return n}}),function(e){e[e.NTP_ALL_TILES_LOADED=11]="NTP_ALL_TILES_LOADED",e[e.NTP_ALL_TILES_RECEIVED=12]="NTP_ALL_TILES_RECEIVED",e[e.NTP_SHORTCUT_CUSTOMIZED=39]="NTP_SHORTCUT_CUSTOMIZED",e[e.NTP_CUSTOMIZE_ADD_SHORTCUT_CLICKED=44]="NTP_CUSTOMIZE_ADD_SHORTCUT_CLICKED",e[e.NTP_CUSTOMIZE_SHORTCUT_REMOVE=53]="NTP_CUSTOMIZE_SHORTCUT_REMOVE",e[e.NTP_CUSTOMIZE_SHORTCUT_CANCEL=54]="NTP_CUSTOMIZE_SHORTCUT_CANCEL",e[e.NTP_CUSTOMIZE_SHORTCUT_DONE=55]="NTP_CUSTOMIZE_SHORTCUT_DONE",e[e.NTP_CUSTOMIZE_SHORTCUT_ADD=58]="NTP_CUSTOMIZE_SHORTCUT_ADD",e[e.NTP_CUSTOMIZE_SHORTCUT_UPDATE=59]="NTP_CUSTOMIZE_SHORTCUT_UPDATE",e[e.NTP_BACKGROUND_IMAGE_LOADED=60]="NTP_BACKGROUND_IMAGE_LOADED",e[e.NTP_VISUALLY_READY=62]="NTP_VISUALLY_READY",e[e.NTP_SMARTLIST_ENABLED=63]="NTP_SMARTLIST_ENABLED",e[e.NTP_SMARTLIST_DISABLED=64]="NTP_SMARTLIST_DISABLED"}(n||(n={}));const r={logEvent:function(e){const t=window.chrome,i=t&&t.embeddedSearch&&t.embeddedSearch.newTabPage;i&&i.logEvent(e)}}},11765:function(e,t,i){"use strict";i.d(t,{L:function(){return o}});var n=i(28817);class r extends n.N{constructor(){super("ntp.record_user_choices","setting","value",{setting:"default",source:"default layout",timestamp:0,value:-1})}}const o=new r},59706:function(e,t,i){"use strict";i.d(t,{i:function(){return c}});var n=i(33940),r=i(9586),o=i(65135),s=i(17440),a=i(75192);const c=new class{constructor(e){this.numberOfDaysToStoreTmpl=90,this.layoutTmplDataKey=a.Xm.wpoLytTmpl,this.userNurturingManager=e}persistTmplValueToNurturingPref(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(e){const t=yield this.userNurturingManager.getPreferenceSetting(this.layoutTmplDataKey),i=t&&t.value||[];if(this.findTmpl(i,e))return;i.push({value:e,expiryDate:this.getExpirationTimestamp(this.numberOfDaysToStoreTmpl)}),yield s.U.savePreferenceSetting(this.layoutTmplDataKey,i)}}))}persistTmplValueToNurturingPrefAndStampToTelemetry(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(e){const t=yield this.userNurturingManager.getPreferenceSetting(this.layoutTmplDataKey),i=t&&t.value||[];this.findTmpl(i,e)||i.push({value:e,expiryDate:this.getExpirationTimestamp(this.numberOfDaysToStoreTmpl)});const n=[...new Set(i)];yield this.userNurturingManager.savePreferenceSetting(this.layoutTmplDataKey,n),o.M.addOrUpdateTmplProperty(e,"1")}}))}stampExistingTmplValueToTelemetry(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield this.userNurturingManager.getPreferenceSetting(this.layoutTmplDataKey),t=e&&e.value||[];if(!t.length)return;let i=!1;const n=this.getExpirationTimestamp(this.numberOfDaysToStoreTmpl),r=t.map((e=>"string"==typeof e?(i=!0,{value:e,expiryDate:n}):e)),s=(new Date).getTime(),a=r.filter((e=>e.expiryDate>s));a.forEach((e=>{e.value&&o.M.addOrUpdateTmplProperty(e.value,"1")})),(i||r.length!=a.length)&&(yield this.userNurturingManager.savePreferenceSetting(this.layoutTmplDataKey,a))}))}findTmpl(e,t){return e&&-1!=e.findIndex((e=>e===t||e&&e.value===t))}getExpirationTimestamp(e){let t;try{t=(0,r.Z)(new Date,e)}catch(i){const n=new Date;t=n.setDate(n.getDate()+e)}return t.getTime()}}(s.U)},17440:function(e,t,i){"use strict";i.d(t,{U:function(){return a}});var n=i(33940),r=i(28817),o=i(26415);class s extends r.N{constructor(){super("ntp.user_nurturing","key","value",{key:"default",value:"none"})}savePreferenceSetting(e,t,i=!1){return(0,n.mG)(this,void 0,void 0,(function*(){try{let n=(yield this.getPreferenceSettingValueArray())||[];if(i)n=n.filter((t=>t&&t[this.searchForKeyName]!==e));else{const i=n.findIndex((t=>t[this.searchForKeyName]===e));if(i>-1)n[i].value=t;else{const i={key:e,value:t};n.push(i)}}return this.setAndSavePreferenceSetting(n)}catch(t){const i="Failed to store user nurturing preference";return this.logAppError(o.nS9,i,`Key:${e}.Error:${t}`),!1}}))}deleteKeyValueFromPSL(e){this.savePreferenceSetting(e,null,!0)}}const a=new s},75192:function(e,t,i){"use strict";i.d(t,{Xm:function(){return n},oj:function(){return r},sj:function(){return o}});const n={wpo:"wpo",wpoLytTmpl:"wpo_lyt_tmpl",campaigns:"campaigns",renderSingleColumn:"render_single_column",feedLayout:"feed_layout"};var r,o;!function(e){e.Wpo="wpo",e.Ntp="ntp"}(r||(r={})),function(e){e.SingleColumn="single",e.MultiColumn="multi"}(o||(o={}))},94800:function(e,t,i){"use strict";i.d(t,{f:function(){return r}});var n=i(55067);class r{}r.voiceSearchLoaded=new n.C("VoiceSearchLoaded"),r.imageSearchLoaded=new n.C("ImageSearchLoaded")},22746:function(e,t,i){"use strict";i.d(t,{D:function(){return o}});var n=i(63439),r=i(94800);class o extends n.e{voiceSearchLoaded(){r.f.voiceSearchLoaded.getActionSender(this).send()}imageSearchLoaded(){r.f.imageSearchLoaded.getActionSender(this).send()}}},26540:function(e,t,i){"use strict";i.d(t,{d:function(){return o}});var n=i(30856),r=i(94800);class o{reduce(e,t){if(!e)return{voiceSearchIsLoaded:!1,imageSearchIsLoaded:!1};if(!t)return e;let i;return n.G.handleAction(t,r.f.voiceSearchLoaded,(()=>{i=Object.assign(Object.assign({},e),{voiceSearchIsLoaded:!0})})),n.G.handleAction(t,r.f.imageSearchLoaded,(()=>{i=Object.assign(Object.assign({},e),{imageSearchIsLoaded:!0})})),i||e}}},72358:function(e,t,i){"use strict";i.r(t),i.d(t,{ExperienceTrackerEdgeNextDataConnector:function(){return D},ExperienceTrackerEdgeNextDataReducer:function(){return R},ToolingInfo:function(){return N}});var n,r=i(33940),o=i(53899),s=i(53076),a=i(82890),c=i(83227),d=i(12108),l=i(68917),u=i(4734),g=i(53301),p=i(19388),h=i(2820);!function(e){e.VISUALLY_READY_WILL_FIRE="visuallyReadyWillFire",e.VISUALLY_READY_DID_FIRE="visuallyReadyDidFire",e.PAGE_REVEAL_START_WILL_FIRE="pageRevealStartWillFire",e.PAGE_REVEAL_START_DID_FIRE="pageRevealStartDidFire",e.PAGE_REVEAL_COMPLETE_WILL_FIRE="pageRevealCompleteWillFire",e.PAGE_REVEAL_COMPLETE_DID_FIRE="pageRevealCompleteDidFire"}(n||(n={}));var f=i(63439),m=i(55067);class v{}v.addVisuallyReadyDependencies=new m.C("AddVisuallyReadyDependencies"),v.markVisuallyReadyComplete=new m.C("MarkVisuallyReadyComplete");class b extends f.e{constructor(){super(...arguments),this.ttvrMarkers=[],this.getIncompleteVisualDependencies=()=>{const{visuallyReadyDependencies:e}=this.getCurrentState(),t=[];return e.forEach((e=>{e.visuallyReady||t.push(e.experienceType)})),t}}addVisuallyReadyDependencies(e){v.addVisuallyReadyDependencies.getActionSender(this).send(e),e.forEach((e=>{this.ttvrMarkers.push(e),(0,h.w)(e,!0)}))}registerVisuallyReadyObserver(){g.g.updateVisuallyReadyTiming.registerObserver((e=>{const t=e.params[0];if(!t)return;const{experienceType:i,endTime:n}=t;if(null!=n){this.getCurrentState().visuallyReadyDependencies.has(i)&&this.markVisuallyReadyComplete(i)}}))}registerMarkersIfNecessary(e,t,i=!1){if(!(this.ttvrMarkers&&0!==this.ttvrMarkers.length||e&&0!==e.length||t&&0!==t.length))return;const n={};n.TTVR=t?[...this.ttvrMarkers,...t]:this.ttvrMarkers,e&&(n.TTF=e),i&&(n.TTPR=[...this.ttvrMarkers],n.TTPR.push("OverlayRemoval")),(0,p.IO)(n)}registerSecondaryPerfMarkers(e){(0,p.Xl)(e)}registerFeedPerfMarker(e){(0,p.tW)(e)}markVisuallyReadyComplete(e){return(0,r.mG)(this,void 0,void 0,(function*(){const{visuallyReadyDependencies:t}=this.getCurrentState();if(t.get(e).visuallyReady)return;v.markVisuallyReadyComplete.getActionSender(this).send(e);for(const e of t.values())if(!e.visuallyReady)return;const i=(0,u.S0)();i&&(yield(0,u.FQ)(n.VISUALLY_READY_WILL_FIRE),performance.measure("VisuallyReady"),g.g.updateAboveTheFoldVisuallyReady.getActionSender(i).send(performance.now()),yield(0,u.FQ)(n.VISUALLY_READY_DID_FIRE))}))}}var y=i(93450);const C=()=>{const e=y._.getInstance().rootReducer.connectors().find((e=>e.namespace.indexOf("ExperienceTracker")>=0));if(!e)return null;const t=e.getCurrentState().visuallyReadyDependencies;return t&&0!==t.size?[...t.keys()]:null};var S=i(98864),w=i(75192),T=i(54804),k=i(66213),O=i(15213),E=i(91470),I=i(62661),A=i(85663),P=i(2312),x=i(82423);const M={eventType:l.Gg.aboveTheFoldVisuallyReady},L={eventType:l.Gg.belowTheFoldTransitionStart};class D extends b{constructor(e,t,i,n,r,o,s){super(e,t,i,n,r,o,s),this.initializePromise=this.initialize()}waitForInitialize(){return this.initializePromise}initialize(){var e;return(0,r.mG)(this,void 0,void 0,(function*(){const t=yield(0,x.oU)(s.z.ChromiumPageSettings),i=yield t.getLayoutStateAsync();this.milestoneDataConnector=(0,u.S0)();const n=[],r=[],p=[],h=[a.p.searchBox];let{renderCacheConfig:f,renderSingleColumn:m,disableSingleColumnForInformational:v,feedContentSourceMap:b,useCommonFeed:y,useLegacyLinearFeed:D}=this.config||{};f=f||{};m=null===S.N.getPslFeedLayoutType&&m||S.N.getPslFeedLayoutType===w.sj.SingleColumn,v&&"always"===i.selectedFeedDisplaySetting&&(m=!1);const F=!(0,A.isNullOrUndefined)(i.customBackgroundImageInfo)&&i.customBackgroundImageInfo.hasImage,R=i.imageOfTheDayEnabled&&i.currentBackgroundImageType!==o.HX.custom||i.currentBackgroundImageType===o.HX.custom&&F,N={eventType:l.Gg.visuallyReady,experienceType:c.x.searchBoxEdgeNextWC};r.push(c.x.edgeChromiumPageWC),r.push(c.x.searchBoxEdgeNextWC),i.quickLinksEnabled&&r.push(c.x.topSitesEdgeNextWC),R&&r.push(c.x.backgroundImageWC),n.push((0,u.Qz)(N,c.x.topSitesEdgeNextWC)),n.push((0,u.Qz)(N,c.x.backgroundImageWC)),this.config.measureWatchTTVR&&r.push(c.x.watch);const j=(null===(e=null===T.Al||void 0===T.Al?void 0:T.Al.ClientSettings)||void 0===e?void 0:e.audienceMode)===d.F.Enterprise,B="always"===i.selectedFeedDisplaySetting||"peek"===i.selectedFeedDisplaySetting&&!j,$=b&&(0,E.f)(b)===o.iz.Office365;let H=!1;if(k.jG&&k.jG.CurrentRequestTargetScope&&k.jG.CurrentRequestTargetScope.os&&"xbox"===k.jG.CurrentRequestTargetScope.os.toLowerCase()){const e={myfeed:o.iz.MicrosoftNews,gaming:o.iz.Gaming};H=e&&(0,E.f)(e)===o.iz.Gaming}if(B)if($){r.push(c.x.officeDocumentsTableWC);(yield k.jG.isGccModUser)||(r.push(c.x.productivityHub),r.push(c.x.frequentSitesCardWC),r.push(c.x.microsoftFeedCard),r.push(c.x.calendarCard),n.push((0,u.Qz)(N,c.x.productivityHub)))}else if(H)r.push(c.x.xboxFeedWC);else{let e;e=y?m?D?c.x.desktopFeedSingleColumnWC:c.x.linearViewFeed:c.x.gridViewFeed:m?c.x.desktopFeedSingleColumnWC:c.x.desktopFeedEdgeNextWC,r.push(e),this.registerFeedPerfMarker(e),this.config.disableAdsPerfMarkers||(p.push(O.q.TimeToRequestAd),p.push(O.q.TimeToServeAd),p.push(O.q.ApiDuration),p.push(O.q.RenderReady),p.push(O.q.TimeToRenderAd))}const U=$&&f.includeOfficeFeed;(0,I.l)().delayLoadDynamicPivotsOverride=!U&&B;const W={eventType:l.Gg.visuallyReady,experienceType:c.x.desktopFeedEdgeNextWC},_={eventType:l.Gg.visuallyReady,experienceType:c.x.desktopFeedSingleColumnWC},z={eventType:l.Gg.visuallyReady,experienceType:c.x.gridViewFeed},V={eventType:l.Gg.visuallyReady,experienceType:c.x.linearViewFeed};let G;G=y?m?D?_:V:z:m?_:W;const q={eventType:l.Gg.startLoading,experienceType:c.x.voiceSearch};switch(i.selectedFeedDisplaySetting){case"headingsonly":case"onscroll":case"off":n.push((0,u.Qz)(L,c.x.pivotContentWC)),n.push((0,u.Qz)(L,c.x.breakingNewsWC)),n.push((0,u.Qz)(L,c.x.cardActionWC));break;default:n.push((0,u.Qz)(G,c.x.breakingNewsWC)),n.push((0,u.Qz)(G,c.x.cardActionWC))}let Z,Q;if(B?(n.push((0,u.Qz)(N,c.x.pivotContentWC)),n.push((0,u.Qz)(N,c.x.pivotsNavEdgeNext)),n.push((0,u.Qz)(N,c.x.feedNavigationHeader)),n.push((0,u.Qz)(N,c.x.horizontalNav)),Z=N,Q=$?M:G):(n.push((0,u.Qz)(M,c.x.pivotsNavEdgeNext)),n.push((0,u.Qz)(M,c.x.feedNavigationHeader)),n.push((0,u.Qz)(L,c.x.horizontalNav)),Z=M,Q=M),this.config.delayLoadPoweredByLegend){const e=B?M:L;n.push((0,u.Qz)(e,c.x.poweredByLegendWC))}const K=[c.x.contentGroupCard,c.x.enterpriseRightRail,c.x.esportsCard,c.x.esportsStreamsCard,c.x.gamingCompeteCard,c.x.gamingRecentlyPlayedCard,c.x.gamingRedditCard,c.x.gamingRewardsCard,c.x.gamingTournamentCard,c.x.gamingUpcomingCard,c.x.generalElections,c.x.horoscopeAnswerCardWC,c.x.moneyInfoCardWC,c.x.officeLeftRail,c.x.onThisDayCardWC,c.x.prismSdCard,c.x.qna,c.x.shoppingCardWC,c.x.sportsCardWC,c.x.sportsOlympicCardWC,c.x.travelDestination,c.x.trendingNowWC,c.x.weatherCardWC];for(const e of K)n.push((0,u.Qz)(Z,e));const J=[c.x.articleTopComment,c.x.bingHealth,c.x.bingVideoCarousel,c.x.videoCardWC,c.x.coachmarkWC,c.x.conditionalBannerWC,c.x.dailyBriefWC,c.x.defaultBrowserReclaimBanner,c.x.devTools,c.x.feedbackLinkWC,c.x.feedToggleWC,c.x.layoutToggle,c.x.signInControlWC,c.x.signInFlyoutWC,c.x.msRewardsWC,c.x.newsbarToggle,c.x.notificationBellWC,c.x.outlookEmailPreview,c.x.personalizeNavButton,c.x.pillWC,c.x.recommendedSitesWC,c.x.settingsDialogEdgeNextWC,c.x.shoppingSmartListWC,c.x.socialBarWC,c.x.stickyPeek,c.x.themePickerWC,c.x.waffleWC,c.x.welcomeGreetingWC];for(const e of J)n.push((0,u.Qz)(Q,e));m||n.push((0,u.Qz)(M,c.x.toastWC)),this.config&&this.config.delayLoadVoiceSearch?n.push((0,u.Qz)(q,c.x.voiceSearchWC)):n.push((0,u.Qz)(M,c.x.voiceSearchWC)),n.push((0,u.Qz)(M,c.x.searchHistoryEdgeNextWC)),n.push((0,u.Qz)(M,c.x.recommendedSearchCarouselWC)),n.push((0,u.Qz)(M,c.x.coldStart)),this.addVisuallyReadyDependencies(r),(0,P.Qc)(C(),this.config.prerenderForceRefresh),this.registerSecondaryPerfMarkers(p),g.g.updateExperienceLoadDeferralState.getActionSender(this.milestoneDataConnector).send(n),this.registerVisuallyReadyObserver(),this.registerMarkersIfNecessary([a.p.searchBox],h,T.Al.IsPrerender)}))}isFlightActive(e){var t;for(const i of e)if(null===(t=null===T.Al||void 0===T.Al?void 0:T.Al.CurrentFlightSet)||void 0===t?void 0:t.has(i))return!0;return!1}}var F=i(30856);class R{reduce(e,t){if(!e)return{visuallyReadyDependencies:new Map};if(!t)return e;let i=!1;const n=Object.assign({},e);return i=i||F.G.handleAction(t,v.addVisuallyReadyDependencies,(e=>{e&&e.forEach((e=>{e&&!n.visuallyReadyDependencies.has(e)&&n.visuallyReadyDependencies.set(e,{experienceType:e,visuallyReady:!1})}))})),i=i||F.G.handleAction(t,v.markVisuallyReadyComplete,((e,t)=>{if(e){const t=n.visuallyReadyDependencies.get(e);t&&(t.visuallyReady=!0)}})),i?n:e}}const N={experienceConfigSchema:{}}},18544:function(e,t,i){"use strict";i.d(t,{P5:function(){return d},Ve:function(){return c},Yc:function(){return l},Yw:function(){return a},dw:function(){return s},m0:function(){return o}});var n=i(97164),r=i(52708);const o="#000000",s="#FFFFFF",a=(0,n.l$)((()=>o))(r.ZP),c=(0,n.s5)((()=>o))(r.ZP),d=(0,n.$B)((()=>s))(r.ZP);function l(){if(!window.matchMedia)return;const e=window.matchMedia("(prefers-color-scheme: dark)");return e?!!e.matches:void 0}},14989:function(e,t,i){"use strict";i.d(t,{K$:function(){return n},SX:function(){return g},_A:function(){return l},eH:function(){return v},hg:function(){return d},q7:function(){return c},vW:function(){return m}});var n,r=i(14165),o=i(70694),s=i(42166);let a;function c(e){a=e}function d(){if(o.p.fiveColSupported()&&4===g.length){const e=new u(n.c5,r.sc);g.push(e),p[n.c5]=e}}function l(){if(o.p.sixColSupported()&&5===g.length){const e=new u(n.c6,r.OE);g.push(e),p[n.c6]=e}}!function(e){e.c1="c1",e.c2="c2",e.c3="c3",e.c4="c4",e.c5="c5",e.c6="c6"}(n||(n={}));class u{constructor(e,t,i){this.arrangement=e,this.contentSizePx=t,this.isFirstBreakpoint=i}get minViewportWidthPx(){if(this.isFirstBreakpoint)return 0;if(a){const e=a.get(this.arrangement);if(e)return e}return this.contentSizePx+h}}const g=[new u(n.c1,r.xs,!0),new u(n.c2,r._3),new u(n.c3,r.Xn),new u(n.c4,r.xX)];o.p.fiveColSupported()&&g.push(new u(n.c5,r.sc));const p={};for(const e of g)p[e.arrangement]=e;const h=32;!function(){var e;const t=[0];for(let i=1;i<g.length;i++)t.push(null===(e=g[i])||void 0===e?void 0:e.minViewportWidthPx)}();function f(e,t){var i;const n=[];if(e){const t=p[e],i=null==t?void 0:t.minViewportWidthPx;i>0&&n.push(`(min-width: ${(0,s.a)(i)})`)}if(t){const e=p[t],r=g.indexOf(e);r<g.length-1&&n.push(`(max-width: ${(0,s.a)((null===(i=g[r+1])||void 0===i?void 0:i.minViewportWidthPx)-1)})`)}return n.join(" and ")}function m(e,t){const i=f(e,t);return i?"@media "+i:""}function v(e){return m(e,e)}},51953:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});const n=1<<24,r=/\s+/g;const o=new class{rgbNumberToCssHexColor(e){let t=null;return"number"==typeof e&&e>=0&&e<n&&(t=this.rgbNumberToCssHexColorCore(e)),t}parseColor(e){if(e)return this.parseHexColor(e)||this.parseRgbaColor(e)}parsedColorToNumber(e,t){return e&&e.r<<16|e.g<<8|e.b||t}grayScale(e){const t=e.r,i=e.g,n=e.b;return this.isValidColorValue(t)&&this.isValidColorValue(i)&&this.isValidColorValue(n)?Math.min(255,Math.round(.299*t+.587*i+.114*n)):255}isValidColorValue(e){return!isNaN(e)&&null!=e&&e>=0&&e<=255}rgbNumberToCssHexColorCore(e){return"#"+(n|e).toString(16).slice(1)}parseHexColor(e){const t=e&&e.replace("#",""),i=parseInt(t,16);if(isNaN(i))return null;const n=t.length;return 3===n?{r:17*(i>>8),g:17*(i>>4&15),b:17*(15&i),a:1}:6===n||8===n?{r:i>>16&255,g:i>>8&255,b:255&i,a:6===n?1:(i>>24&255)/255}:null}parseRgbaColor(e){if(!e)return null;const t=e.replace(r,"").match(/^(?:rgba?)\(((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?),((?:\d+\.)?\d+%?)(?:,((:?\d*\.)?\d+))?\)$/);if(t){const e=t[4];return{r:this.normalizeColor(t[1],255,!0),g:this.normalizeColor(t[2],255,!0),b:this.normalizeColor(t[3],255,!0),a:e?this.normalizeColor(e,1,!1):1}}return null}normalizeColor(e,t,i){let n=parseFloat(e);return isNaN(n)?0:(n=e.indexOf("%")>=0?Math.max(0,Math.min(100,n))*t/100:Math.max(0,Math.min(t,n)),i?Math.round(n):Math.round(100*n)/100)}}},14165:function(e,t,i){"use strict";i.d(t,{OE:function(){return c},Xn:function(){return o},_3:function(){return r},iN:function(){return d},jU:function(){return l},lE:function(){return u},sc:function(){return a},xX:function(){return s},xs:function(){return n}});const n=300;let r=624,o=948,s=1272,a=1596,c=1900,d=24;function l(e){d=e;const t=function(e){return{Size1ColumnWidth:n,Size2ColumnWidth:2*n+e,Size3ColumnWidth:3*n+2*e,Size4ColumnWidth:4*n+3*e,Size5ColumnWidth:5*n+4*e,Size6ColumnWidth:6*n+5*e}}(e);c=t.Size6ColumnWidth,a=t.Size5ColumnWidth,s=t.Size4ColumnWidth,o=t.Size3ColumnWidth,r=t.Size2ColumnWidth}function u(){d=24,r=624,o=948,s=1272,a=1596,c=1900}},88828:function(e,t,i){"use strict";i.d(t,{Bn:function(){return u},vi:function(){return p}});var n=i(14989),r=i(20654),o=i(80329),s=i(44979),a=i(26415),c=i(65135);class d{constructor(e){this.callbackMap=new Map,this.refreshBreakpoints(e)}get currentColumnArrangement(){return this.indexToStandardConverter(r.Z.currentBreakpoint())}refreshBreakpoints(e){var t;const i=[0];(0,n.hg)(),(0,n._A)();for(let e=1;e<n.SX.length;e++)i.push(null===(t=n.SX[e])||void 0===t?void 0:t.minViewportWidthPx);r.Z.breakpoints=i,r.Z.defaultBreakpoint=void 0!==e?(0,s.Nd)(e.data.breakpoint,"breakpoint"):0}set breakpoints(e){if(r.Z.breakpoints=e,o.R1&&Array.isArray(o.R1)){const t=o.R1.length;for(let e=0;e<t;e++)o.R1.pop();e.forEach((e=>o.R1.push(e)))}}get breakpoints(){return r.Z.breakpoints}static resetCallbacks(){if(l&&l.callbackMap.size>0)for(const[e,t]of l.callbackMap)l.unsubscribe(e),l.callbackMap.delete(e)}subscribe(e){const t=t=>{e(this.indexToStandardConverter(t))};this.callbackMap.set(e,t),r.Z.subscribe(t)}unsubscribe(e){r.Z.unsubscribe(this.callbackMap.get(e)),this.callbackMap.delete(e)}indexToStandardConverter(e){return n.SX&&n.SX[e]?n.SX[e].arrangement:(c.M.sendAppErrorEvent(Object.assign(Object.assign({},a.rax),{message:"Cannot read property arrangement of undefined",pb:Object.assign(Object.assign({},a.rax.pb),{customMessage:"columnArrangements["+e+"] is undefined.columnArrangements: "+JSON.stringify(n.SX)+"; breakpoints: "+JSON.stringify(this.breakpoints)})})),n.SX&&e>=n.SX.length&&n.SX[n.SX.length-1]?n.SX[n.SX.length-1].arrangement:n.K$.c1)}}let l;const u=(e,t)=>(l&&!t||(d.resetCallbacks(),l=new d(e)),l);let g=null;const p=()=>{switch(u().currentColumnArrangement){case n.K$.c1:g="size1column";break;case n.K$.c2:g="size2column";break;case n.K$.c3:g="size3column";break;case n.K$.c4:g="size4column";break;case n.K$.c5:g="size5column";break;case n.K$.c6:g="size6column"}return g}},9879:function(e,t,i){"use strict";i.d(t,{BP:function(){return o},Cy:function(){return l},Gp:function(){return s},L9:function(){return d},Md:function(){return g},Mj:function(){return c},OO:function(){return a},R6:function(){return r},SN:function(){return p},ij:function(){return n},vE:function(){return u}});let n=612,r=600;const o=284,s=300,a=16,c=32;let d=n,l=n+s+a,u=o+n+s+2*a,g=o+n+s+2*c;function p(e){n*=e,r*=e,d=n,l=n+s+a,u=o+n+s+2*a,g=o+n+s+2*c}},87538:function(e,t,i){"use strict";i.d(t,{Z:function(){return s},l:function(){return a}});var n=i(33940),r=i(33379);let o={};function s(e){e=e||{},(()=>{(0,n.mG)(this,void 0,void 0,(function*(){const{newUrl:t,invalidatePageCache:i=!0}=e;if(i){const{invalidatePageCacheHandler:e}=o;if(e){const t=e();t&&t.then&&(yield t)}}t?window.location.replace(t):window.location.reload(i)}))})()}const a={resetHandlers:function(){o={}},setHandlers:function(e){(0,r.N)()&&e&&(o=e)}}},59294:function(e,t,i){"use strict";i.d(t,{o:function(){return n}});class n{constructor(){this.promise=new Promise(((e,t)=>{this.resolver=e}))}set(e){this.resolver(e)}getResultAsync(){return this.promise}}},87711:function(e,t,i){"use strict";i.d(t,{Kb:function(){return o}});var n=i(33940);setTimeout;let r=setTimeout;function o(e){return(0,n.mG)(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{r(t,e)}))}))}},83097:function(e,t,i){"use strict";var n,r;i.d(t,{EW:function(){return n},IR:function(){return r}}),function(e){e.Anon="ANON",e.AppAnon="APP_ANON",e.Unknown=""}(n||(n={})),function(e){e.AnonCookieExists="ace",e.AppAnonCookieExists="aace"}(r||(r={}))},53076:function(e,t,i){"use strict";var n;i.d(t,{z:function(){return n}}),function(e){e.AdminPortalData="AdminPortalData",e.AdService="AdService",e.AdsManager="AdsManager",e.BingImageData="BingImageData",e.CategoryData="CategoryData",e.ChromiumPageSettings="ChromiumPageSettings",e.CoachmarkData="CoachmarkData",e.ConditionalBannerData="ConditionalBannerData",e.DailyBriefServiceClient="DailyBriefServiceClient",e.DefaultBrowserReclaimData="DefaultBrowserReclaimData",e.DisplayAdsManager="DisplayAdsManager",e.Esports="Esports",e.ExperienceLoadedData="ExperienceLoadedData",e.ExperienceLoadedDataConnector="ExperienceLoadedDataConnector",e.ExperienceTrackerCommunityData="ExperienceTrackerCommunityData",e.ExperienceTrackerContentToolsData="ExperienceTrackerContentToolsData",e.ExperienceTrackerData="ExperienceTrackerData",e.ExperienceTrackerEdgeData="ExperienceTrackerEdgeData",e.ExperienceTrackerEdgeNextData="ExperienceTrackerEdgeNextData",e.ExperienceTrackerFinanceData="ExperienceTrackerFinanceData",e.ExperienceTrackerFirstPartyData="ExperienceTrackerFirstPartyData",e.ExperienceTrackerHomePageData="ExperienceTrackerHomePageData",e.ExperienceTrackerHubData="ExperienceTrackerHubData",e.ExperienceTrackerMicrosoftNewsData="ExperienceTrackerMicrosoftNewsData",e.ExperienceTrackerMMXData="ExperienceTrackerMMXData",e.ExperienceTrackerPrismData="ExperienceTrackerPrismData",e.ExperienceTrackerQnaData="ExperienceTrackerQnaData",e.ExperienceTrackerRecipesData="ExperienceTrackerRecipesData",e.ExperienceTrackerWidgets="ExperienceTrackerWidgets",e.ExperienceTrackerShoppingData="ExperienceTrackerShoppingData",e.ExperienceTrackerSportsData="ExperienceTrackerSportsData",e.ExperienceTrackerTrafficData="ExperienceTrackerTrafficData",e.ExperienceTrackerTravelData="ExperienceTrackerTravelData",e.ExperienceTrackerHealthData="ExperienceTrackerHealthData",e.ExperienceTrackerUgcData="ExperienceTrackerUgcData",e.ExperienceTrackerViewsData="ExperienceTrackerViewsData",e.ExperienceTrackerWeatherData="ExperienceTrackerWeatherData",e.ExperienceTrackerWeatherDataConnector="ExperienceTrackerWeatherDataConnector",e.ExperienceTrackerWindowsNewsAndInterestsData="ExperienceTrackerWindowsNewsAndInterestsData",e.ExperienceTrackerWindowsData="ExperienceTrackerWindowsData",e.ExperienceTrackerWindowsShellData="ExperienceTrackerWindowsShellData",e.FeedbackData="FeedbackData",e.HubPageSettings="HubPageSettings",e.IrisData="IrisData",e.LayoutPreferenceData="LayoutPreferenceData",e.LocationFeed="LocationFeed",e.MarketSelector="MarketSelector",e.MilestoneData="MilestoneData",e.MsccCookieBannerData="MsccCookieBannerData",e.MsNewsPageSettings="MsNewsPageSettings",e.NavigationData="NavigationData",e.OfficeSharedData="OfficeSharedData",e.OneTrustCookieConsentData="OneTrustCookieConsentData",e.PageClickTrackerData="PageClickTrackerData",e.PageLayout="PageLayout",e.PageSettingsData="PageSettingsData",e.PlacementManager="PlacementManager",e.PollsService="PollsService",e.PoweredByData="PoweredByData",e.Preload="Preload",e.QnaFeedService="QnaFeedService",e.RewardsData="RewardsData",e.SharedState="SharedState",e.SignInData="SignInData",e.SportsData="SportsData",e.SportsDataUtils="SportsDataUtils",e.SportsOlympicData="SportsOlympicData",e.SportsAroundTheLeagueData="SportsAroundTheLeagueData",e.SportsPersonalizationData="SportsPersonalizationData",e.Telemetry="Telemetry",e.ShellNewTabData="ShellNewTabData",e.SmartListSharedData="SmartListSharedData",e.TelemetryData="TelemetryData",e.TelemetryDataEdgeChromium="TelemetryDataEdgeChromium",e.TelemetryEdgeChromium="TelemetryEdgeChromium",e.TopicData="TopicData",e.TopSitesLayoutData="TopSitesLayoutData",e.TravelData="TravelData",e.VerticalPropertyData="VerticalPropertyData",e.VideoDataManager="VideoDataManager",e.ViewsNativeAd="ViewsNativeAdConnector",e.ViewsFullPage="ViewsFullPage",e.WeatherData="WeatherData",e.WeatherMapData="WeatherMapData",e.FinanceData="FinanceData",e.SocialData="SocialData",e.WindowsNewsAndInterestsData="WindowsNewsAndInterestsData",e.WindowsShellData="WindowsShellData",e.WindowsPageSettings="WindowsPageSettings",e.HyperLocalPromotionCardClosedKey="weather-map-hyper-local-promotion-card-closed"}(n||(n={}))},8371:function(e,t,i){"use strict";var n;i.d(t,{g:function(){return n}}),function(e){e.backgroundThemeColorChange="backgroundThemeColorChange",e.trackValuesUpdated="trackvaluesupdated",e.desktopFeedFetchFailed="desktopFeedFetchFailed"}(n||(n={}))},83227:function(e,t,i){"use strict";var n;i.d(t,{x:function(){return n}}),function(e){e.aiCharacterCard="AiCharacterCard",e.animator="Animator",e.articlePage="ArticlePage",e.articleTopComment="ArticleTopComment",e.autosCard="AutosCard",e.autosEntityCardWC="AutosEntityCardWC",e.autosMarketplaceCard="AutosMarketplaceCard",e.backToTopButton="BackToTopButton",e.backgroundGradient="BackgroundGradient",e.backgroundImageCommon="BackgroundImageCommon",e.backgroundImageEdge="BackgroundImageEdge",e.backgroundImageWC="BackgroundImageWC",e.bannerManager="BannerManager",e.baseHeader="BaseHeader",e.bingAnswers="BingAnswers",e.bingCards="BingCardsExperience",e.bingHealth="BingHealth",e.bingHealthCard="BingHealthCard",e.bingHealthFitnessCard="BingHealthFitnessCard",e.bingHomepageFeed="BingHomepageFeed",e.bingMiniShopping="BingMiniShopping",e.bingShopping="BingShopping",e.bingShoppingLifestyleCard="BingShoppingLifestyleCard",e.bingShoppingMeStripe="BingShoppingMeStripe",e.bingVideoCard="BingVideoCard",e.bingVideoCarousel="BingVideoCarousel",e.bingWebSSO="BingWebSSO",e.breakingNews="BreakingNews",e.breakingNewsWC="BreakingNewsWC",e.calendarCard="CalendarCard",e.cardAction="CardAction",e.cardActionV2="CardActionV2",e.cardActionWC="CardActionWC",e.casualGamesHub="CasualGamesHub",e.clarity="Clarity",e.coachmark="Coachmark",e.coachmarkWC="CoachmarkWC",e.coldStart="ColdStart",e.coldStartUpsellCard="ColdStartUpsellCard",e.coldStartWC="ColdStartWC",e.comments="Comments",e.commonHeader="CommonHeader",e.commonHeaderWC="CommonHeaderWC",e.complexContentPreview="ComplexContentPreview",e.conditionalBanner="ConditionalBanner",e.conditionalBannerHpWC="ConditionalBannerHpWC",e.conditionalBannerWC="ConditionalBannerWC",e.contentActionsToolbar="ContentActionsToolbar",e.contentGroupCard="ContentGroupCard",e.contentPreview="ContentPreview",e.contentPreviewSlide="ContentPreviewSlide",e.contentProvider="ContentProvider",e.contentRelated="ContentRelated",e.contentSharingToolbar="ContentSharingToolbar",e.contentTts="ContentTts",e.covidChatBot="CovidChatBot",e.cpcMonetizationDashboard="CpcMonetizationDashboard",e.dailyBrief="DailyBrief",e.dailyBriefWC="DailyBriefWC",e.dashboardFallback="DashboardFallback",e.dashboardSettings="DashboardSettings",e.defaultBrowserReclaimBanner="DefaultBrowserReclaimBanner",e.denseCard="DenseCard",e.desktopFeed="DesktopFeed",e.desktopFeedEdgeNextWC="DesktopFeedEdgeNextWC",e.desktopFeedHubWC="DesktopFeedHubWC",e.desktopFeedSingleColumnWC="DesktopFeedSingleColumnWC",e.desktopFeedViewsWC="DesktopFeedViewsWC",e.desktopFeedWC="DesktopFeedWC",e.devTools="DevTools",e.didYouKnowImageWCExperience="DidYouKnowImageWCExperience",e.didYouKnowWCExperience="DidYouKnowWCExperience",e.displayAds="DisplayAds",e.displayAdsWC="DisplayAdsWC",e.displayAdsWithContentFallback="DisplayAdsWithContentFallback",e.distributionFeed="DistributionFeed",e.distributionHeader="DistributionHeader",e.distributionPage="DistributionPage",e.distributionPivotsNav="DistributionPivotsNav",e.edgeChromiumPageWC="EdgeChromiumPageWC",e.edgeHeader="EdgeHeader",e.edgeNextPage="EdgeNextPage",e.edgePage="EdgePage",e.edgePageSettings="PageSettings",e.editorsChoicePromoCard="EditorsChoicePromoCard",e.elections="Elections",e.enterpriseComplianceBanner="EnterpriseComplianceBanner",e.enterpriseFeedContainerWC="EnterpriseFeedContainerWC",e.enterpriseRightRail="EnterpriseRightRail",e.entertainmentCard="EntertainmentCard",e.entryPoint="EntryPoint",e.entryPointEdgeNext="EntryPointEdgeNext",e.entryPointHpMobile="EntryPointHpMobile",e.entryPointHpWC="EntryPointHpWC",e.esportsCard="EsportsCard",e.esportsCasualGamesCard="EsportsCasualGamesCard",e.esportsLiveStreamCard="EsportsLiveStreamCard",e.esportsLivestreamCarouselWC="EsportsLivestreamCarouselWC",e.esportsStreamsCard="EsportsStreamsCard",e.eventHubHeroNav="EventHubHeroNav",e.eventHubPage="EventHubPage",e.externalContentPreview="ExternalContentPreview",e.externalNativeAd="ExternalNativeAd",e.familyCard="FamilyCard",e.feedNavigationHeader="FeedNavigationHeader",e.feedNavigationHp="FeedNavigationHp",e.feedToggle="FeedToggle",e.feedToggleWC="FeedToggleWC",e.feedbackCard="FeedbackCard",e.feedbackDialog="FeedbackDialog",e.feedbackDialogWC="FeedbackDialogWC",e.feedbackLink="FeedbackLink",e.feedbackLinkWC="FeedbackLinkWC",e.financeAnalyticsCard="FinanceAnalyticsCard",e.financeCardCommon="FinanceCardCommon",e.financeCompanyProfileCard="FinanceCompanyProfileCard",e.financeCurrencyConverter="FinanceCurrencyConverter",e.financeDetailComposition="FinanceDetailComposition",e.financeDetailHeader="FinanceDetailHeader",e.financeDetailNavigation="FinanceDetailNavigation",e.financeDetailPageV2="FinanceDetailPageV2",e.financeDetailsCard="FinanceDetailsCard",e.financeDetailsCardV2="FinanceDetailsCardV2",e.financeDianomiAds="FinanceDianomiAds",e.financeDiscoverySection="FinanceDiscoverySection",e.financeEarningChart="FinanceEarningChart",e.financeEarningGameCard="FinanceEarningGameCard",e.financeEarningsCalendarCard="FinanceEarningsCalendarCard",e.financeEarningsCard="FinanceEarningsCard",e.financeEarningsEventCard="FinanceEarningsEventCard",e.financeEarningsForecast="FinanceEarningsForecast",e.financeEarningsReport="FinanceEarningsReport",e.financeEventsCalendarCard="FinanceEventsCalendarCard",e.financeFeeds="FinanceFeeds",e.financeFeedsSection="FinanceFeedsSection",e.financeFinancialsCard="FinanceFinancialsCard",e.financeFollowButton="FinanceFollowButton",e.financeGamificationCard="FinanceGamificationCard",e.financeGradeChart="FinanceGradeChart",e.financeIndicesCard="FinanceIndicesCard",e.financeInsiderTrades="FinanceInsiderTrades",e.financeInvestorBioCard="FinanceInvestorBioCard",e.financeInvestorDetailPage="FinanceInvestorDetailPage",e.financeInvestorHoldingsHighlight="FinanceInvestorHoldingsHighlight",e.financeInvestorHoldingsTable="FinanceInvestorHoldingsTable",e.financeInvestorNavigationRail="FinanceInvestorNavigationRail",e.financeInvestorPerformanceCard="FinanceInvestorPerformanceCard",e.financeInvestorPerformanceGraph="FinanceInvestorPerformanceGraph",e.financeInvestorPortfolioSectors="FinanceInvestorPortfolioSectors",e.financeInvestorProfileHeader="FinanceInvestorProfileHeader",e.financeKeyFactsCard="FinanceKeyFactsCard",e.financeL1TopStories="FinanceL1TopStories",e.financeL3OwnershipEventsList="FinanceL3OwnershipEventsList",e.financeL3OwnershipGraph="FinanceL3OwnershipGraph",e.financeL3OwnershipHoldersTable="FinanceL3OwnershipHoldersTable",e.financeL3PageComposition="FinanceL3PageComposition",e.financeLandingPageV2="FinanceLandingPageV2",e.financeListDetailHeader="FinanceListDetailHeader",e.financeListDetailPage="FinanceListDetailPage",e.financeListLandingPage="FinanceListLandingPage",e.financeMarketCard="FinanceMarketCard",e.financeMarketMoversCard="FinanceMarketMoversCard",e.financeMarketStatus="FinanceMarketStatus",e.financeNewsCard="FinanceNewsCard",e.financeNewsContent="FinanceNewsContent",e.financeNewsLandingpage="FinanceNewsLandingpage",e.financeNotificationBar="FinanceNotificationBar",e.financePortfolioList="FinancePortfolioList",e.financeRecentlyViewedCard="FinanceRecentlyViewedCard",e.financeRecommendationCard="FinanceRecommendationCard",e.financeRecommendationCardV2="FinanceRecommendationCardV2",e.financeRelatedEarnings="FinanceRelatedEarnings",e.financeSearchBox="FinanceSearchBox",e.financeSentimentChart="FinanceSentimentChart",e.financeSentimentWizard="FinanceSentimentWizard",e.financeTopRated="FinanceTopRated",e.financeTrendCard="FinanceTrendCard",e.financeTrendingRelated="FinanceTrendingRelated",e.financeUserNavigation="FinanceUserNavigation",e.financeWatchlistCard="FinanceWatchlistCard",e.financeWatchlistListView="FinanceWatchlistListView",e.financeWatchlistManagement="FinanceWatchlistManagement",e.financeWatchlistMiniView="FinanceWatchlistMiniView",e.financeWatchlistPage="FinanceWatchlistPage",e.financeWatchlistPageV2="FinanceWatchlistPageV2",e.financeWatchlistSuggestion="FinanceWatchlistSuggestion",e.financeWatchlistSummary="FinanceWatchlistSummary",e.firstPartyPage="FirstPartyPage",e.fitnessCard="FitnessCard",e.fitnessSingleVideo="FitnessSingleVideo",e.flyoutCard="FlyoutCard",e.footerWindowsShell="FooterWindowsShell",e.freMarketSelector="FreMarketSelector",e.frequentSitesCardWC="FrequentSitesCardWC",e.galleryPage="GalleryPage",e.gameCard="GameCard",e.gamingCompeteCard="GamingCompeteCard",e.gamingRecentlyPlayedCard="GamingRecentlyPlayedCard",e.gamingRedditCard="GamingRedditCard",e.gamingRewardsCard="GamingRewardsCard",e.gamingStreamCard="GamingStreamCard",e.gamingTournamentCard="GamingTournamentCard",e.gamingUpcomingCard="GamingUpcomingCard",e.gamingVideoCard="GamingVideoCard",e.generalElections="GeneralElections",e.gmailEmailPreview="GmailEmailPreview",e.gridViewFeed="GridViewFeed",e.groceryCouponSdCard="GroceryCouponSdCard",e.headerNavigationLogo="HeaderNavigationLogo",e.headerMenuWindowsShell="HeaderMenuWindowsShell",e.headerWindowsShell="HeaderWindowsShell",e.healthFitnessCarousel="HealthFitnessCarousel",e.healthFitnessChallengePage="HealthFitnessChallengePage",e.healthFoodAtoz="HealthFoodAtoz",e.healthFoodHealtheffectsWC="HealthFoodHealtheffectsWC",e.healthFoodRecipesWC="HealthFoodRecipesWC",e.healthHub="HealthHub",e.healthHubAskProfessionals="HealthHubAskProfessionals",e.healthHubCondition="HealthHubCondition",e.healthQnAWCExperience="HealthQnAWCExperience",e.healthTipWC="HealthTipWC",e.hiddenContent="HiddenContent",e.holidayEffects="HolidayEffects",e.homePage="HomePage",e.homepageFooter="HomepageFooter",e.homepageHeader="HomepageHeader",e.horizontalNav="HorizontalNav",e.horoscopeAnswerCard="HoroscopeAnswerCard",e.horoscopeAnswerCardWC="HoroscopeAnswerCardWC",e.iframe="IFrame",e.imageSearch="ImageSearch",e.imageSearchWC="ImageSearchWC",e.industryNewsCard="IndustryNewsCard",e.infopane="Infopane",e.inspirationCard="InspirationCard",e.interests="Interests",e.interestsLeftRail="InterestsLeftRail",e.interestsSearch="InterestsSearch",e.interestsV1Wrapper="InterestsV1Wrapper",e.interestsV2="InterestsV2",e.interestsV3="InterestsV3",e.interestsWC="InterestsWC",e.languageToggle="LanguageToggle",e.languageToggleWC="LanguageToggleWC",e.layoutSwitcher="LayoutSwitcher",e.layoutToggle="LayoutToggle",e.legacySharingToolbar="LegacySharingToolbar",e.linearViewFeed="LinearViewFeed",e.linkedInCard="LinkedInCard",e.linkedInNewsCard="LinkedInNewsCard",e.localGuideCard="LocalGuideCard",e.localHubHeader="LocalHubHeader",e.localNews="LocalNews",e.localNewsViewCard="LocalNewsViewCard",e.locationContentCard="LocationContentCard",e.locationEditorDialog="LocationEditorDialog",e.locationSelector="LocationSelector",e.locationTime="LocationTime",e.lottery="Lottery",e.mailSignoutBanner="MailSignoutBanner",e.mangaHub="MangaHub",e.marketAggregator="MarketAggregator",e.marketSelector="MarketSelector",e.marketplaceCardWC="MarketplaceCardWC",e.meControl="MeControl",e.meStripe="MeStripe",e.meStripeWC="MeStripeWC",e.mediaServices="MediaServices",e.meetNow="MeetNow",e.microsoftEdgeWidget="MicrosoftEdgeWidget",e.microsoftFeedCard="MicrosoftFeedCard",e.microsoftLogo="MicrosoftLogo",e.microsoftNewsPage="MicrosoftNewsPage",e.migrationConsent="MigrationConsent",e.miniCardContainer="MiniCardContainer",e.mmxPage="MMXPage",e.mns="Mns",e.mnsCreatorDashboard="MnsCreatorDashboard",e.mobileFeed="MobileFeed",e.mobileWidget="MobileWidget",e.modernRightRail="ModernRightRail",e.moneyCard="MoneyCard",e.moneyInfoCard="MoneyInfoCard",e.moneyInfoCardWC="MoneyInfoCardWC",e.msRewards="MsRewards",e.msRewardsWC="MsRewardsWC",e.msaAddressForm="MsaAddressForm",e.msnSettingMenu="MsnSettingMenu",e.myBriefRiverCard="MyBriefRiverCard",e.nativeAd="NativeAd",e.nativeAdWC="NativeAdWC",e.newsFlipperCard="NewsFlipperCard",e.newsSegmentCarousel="NewsSegmentCarousel",e.newsbarFeedFooter="NewsbarFeedFooter",e.newsbarFeedWC="NewsbarFeedWC",e.newsbarToggle="NewsbarToggle",e.newsbarUpsell="NewsbarUpsell",e.newsbarUpsellWC="NewsbarUpsellWC",e.nextdoorPage="NextdoorPage",e.notificationBell="NotificationBell",e.notificationBellWC="NotificationBellWC",e.nudgeSpotlightCard="NudgeSpotlightCard",e.office="Office",e.officeDocumentsTableWC="OfficeDocumentsTableWC",e.officeLeftRail="OfficeLeftRail",e.onThisDayCard="OnThisDayCard",e.onThisDayCardSmall="OnThisDayCardSmall",e.onThisDayCardWC="OnThisDayCardWC",e.oneFooter="OneFooter",e.outlookEmailPreview="OutlookEmailPreview",e.overlay="Overlay",e.overlayWC="OverlayWC",e.pageRefresh="PageRefresh",e.pageRefreshWC="PageRefreshWC",e.partnerUpsellCard="PartnerUpsellCard",e.partnerWidget="PartnerWidget",e.personalizeNavButton="PersonalizeNavButton",e.photoCard="PhotoCard",e.pillWC="PillWC",e.pivotContent="PivotContent",e.pivotContentV2="PivotContentV2",e.pivotContentWC="PivotContentWC",e.pivotsNav="PivotsNav",e.pivotsNavEdgeNext="PivotsNavEdgeNext",e.pivotsNavV2="PivotsNavV2",e.pollsCard="PollsCard",e.pollsCardWC="PollsCardWC",e.portugueseElectionExperience="PortugueseElectionExperience",e.poweredByLegend="PoweredbyLegend",e.poweredByLegendWC="PoweredbyLegendWC",e.preconsumptionArticleCardWC="PreconsumptionArticleCardWC",e.premiumProfilePromoCard="PremiumProfilePromoCard",e.prismCards="PrismCards",e.prismFeed="PrismFeed",e.prismSdCard="PrismSdCard",e.proactiveCanvas="ProactiveCanvas",e.productivityHub="ProductivityHub",e.profilePromoCard="ProfilePromoCard",e.promoBanner="PromoBanner",e.publisherCarousel="PublisherCarousel",e.publishersManagement="PublishersManagement",e.qna="Qna",e.qnaFeed404Page="QnaFeed404Page",e.qnaFeedCard="QnaFeedCard",e.qnaFeedCardMenu="QnaFeedCardMenu",e.qnaFeedCarousel="QnaFeedCarousel",e.qnaFeedCategoriesMenu="QnaFeedCategoriesMenu",e.qnaFeedExploreTopics="QnaFeedExploreTopics",e.qnaFeedList="QnaFeedList",e.qnaFeedMyTopics="QnaFeedMyTopics",e.qnaFeedPage="QnaFeedPage",e.qnaFeedRelatedQuestions="QnaFeedRelatedQuestions",e.qnaFeedReportCard="QnaFeedReportCard",e.qnaFeedSuggestedTopics="QnaFeedSuggestedTopics",e.qnaFeedTopicDetail="QnaFeedTopicDetail",e.qnaFeedTrendingQuestions="QnaFeedTrendingQuestions",e.quizCard="QuizCard",e.reactionBreakdownDialog="ReactionBreakdownDialog",e.recipesCards="RecipesCards",e.recipesFeed="RecipesFeed",e.recipesSdCard="RecipesSdCard",e.recipesSearch="RecipesSearch",e.recipesSingleDetail="RecipesSingleDetail",e.recipesSingleVideo="RecipesSingleVideo",e.recommendedCardFeed="RecommendedCardFeed",e.recommendedCardWC="RecommendedCardWC",e.recommendedInterests="RecommendedInterests",e.recommendedInterestsModal="RecommendedInterestsModal",e.recommendedSearch="RecommendedSearch",e.recommendedSearchBelowSearchBox="RecommendedSearchBelowSearchBox",e.recommendedSearchCarousel="RecommendedSearchCarousel",e.recommendedSearchCarouselWC="RecommendedSearchCarouselWC",e.recommendedSites="RecommendedSites",e.recommendedSitesWC="RecommendedSitesWC",e.recommendedTopics="RecommendedTopics",e.relatedArticleBlock="RelatedArticleBlock",e.relatedSearchesCard="RelatedSearchesCard",e.rewardsCardWC="RewardsCardWC",e.rightRail="RightRail",e.rightRailCards="RightRailCards",e.rightRailCarousel="RightRailCarousel",e.river="River",e.riverPlaceholder="RiverPlaceholder",e.scrollableGallery="ScrollableGallery",e.sdCardMaskWC="SdCardMaskWC",e.searchBoxCommon="SearchBoxCommon",e.searchBoxEdge="SearchBoxEdge",e.searchBoxEdgeNextWC="SearchBoxEdgeNextWC",e.searchBoxWC="SearchBoxWC",e.searchBoxWindowsShell="SearchBoxWindowsShell",e.searchHistoryCommon="SearchHistoryCommon",e.searchHistoryEdge="SearchHistoryEdge",e.searchHistoryEdgeNextWC="SearchHistoryEdgeNextWC",e.seeMoreButtonWindowsShell="SeeMoreButtonWindowsShell",e.selectCarousel="SelectCarousel",e.settingsDialogEdgeNextWC="SettingsDialogEdgeNextWC",e.settingsDialogMsNews="SettingsDialogMsNews",e.sharedLinks="SharedLinks",e.sharedState="SharedState",e.sharepointNewsCard="SharepointNewsCard",e.shopContentCarousel="ShopContentCarousel",e.shoppingAllStoresPage="ShoppingAllStoresPage",e.shoppingCardWC="ShoppingCardWC",e.shoppingCarousel="ShoppingCarousel",e.shoppingCarouselWC="ShoppingCarouselWC",e.shoppingCart="ShoppingCart",e.shoppingCheckoutPage="ShoppingCheckoutPage",e.shoppingColdStart="ShoppingColdStart",e.shoppingContentCard="ShoppingContentCard",e.shoppingCouponsPage="ShoppingCouponsPage",e.shoppingDealsHomePage="ShoppingDealsHomePage",e.shoppingForumHome="ShoppingForumHome",e.shoppingForumLandingPage="ShoppingForumLandingPage",e.shoppingForumOrderCancelPage="ShoppingForumOrderCancelPage",e.shoppingForumOrderConfirmation="ShoppingForumOrderConfirmation",e.shoppingForumOrderDetails="ShoppingForumOrderDetails",e.shoppingForumOrdersPage="ShoppingForumOrdersPage",e.shoppingForumReturnDetailsPage="ShoppingForumReturnDetailsPage",e.shoppingForumReturnOrderPage="ShoppingForumReturnOrderPage",e.shoppingGrid="ShoppingGrid",e.shoppingHomepage="ShoppingHomepage",e.shoppingLiveDetailsPage="ShoppingLiveDetailsPage",e.shoppingLiveProductDetailsPage="ShoppingLiveProductDetailsPage",e.shoppingLiveVideoPlayer="ShoppingLiveVideoPlayer",e.shoppingModal="ShoppingModal",e.shoppingMomentInTimePage="ShoppingMomentInTimePage",e.ShoppingCategoryPage="ShoppingCategoryPage",e.shoppingPage="ShoppingPage",e.shoppingPageBase="ShoppingPageBase",e.shoppingPageContent="ShoppingPageContent",e.shoppingProductPage="ShoppingProductPage",e.shoppingSearchResultPage="ShoppingSearchResultPage",e.shoppingShippingAddress="ShoppingShippingAddress",e.shoppingShopTheLookPage="ShoppingShopTheLookPage",e.shoppingSmartList="ShoppingSmartList",e.shoppingSmartListWC="ShoppingSmartListWC",e.showFeed="ShowFeed",e.sideBar="SideBar",e.signInBannerWC="SignInBannerWC",e.signInControlWC="SignInControlWC",e.signInFlyoutWC="SignInFlyoutWC",e.simpleBanner="SimpleBanner",e.slideShow="SlideShow",e.smartList="SmartList",e.social="Social",e.socialAvatar="SocialAvatar",e.socialBar="SocialBar",e.socialBarV2="SocialBarV2",e.socialBarWC="SocialBarWC",e.socialComment="SocialComment",e.socialGiveSupportButton="SocialGiveSupportButton",e.socialProfile="SocialProfile",e.socialProfileCard="SocialProfileCard",e.socialProfilePromotion="SocialProfilePromotion",e.socialRelatedSources="SocialRelatedSources",e.socialReportMenu="SocialReportMenu",e.socialRewardsMedal="SocialRewardsMedal",e.socialRewardsPromotion="SocialRewardsPromotion",e.socialSubscriptionBanner="SocialSubscriptionBanner",e.socialSubscriptionNotification="SocialSubscriptionNotification",e.socialSubscriptionOverlay="SocialSubscriptionOverlay",e.socialSubscriptionOverlaySummary="SocialSubscriptionOverlaySummary",e.socialSubscriptionPaywall="SocialSubscriptionPaywall",e.socialSubscriptionUpsell="SocialSubscriptionUpsell",e.socialSupportResult="SocialSupportResult",e.socialTipHistory="SocialTipHistory",e.socialTipIntroduction="SocialTipIntroduction",e.socialTipPromotion="SocialTipPromotion",e.socialTipPromotionInArticle="SocialTipPromotionInArticle",e.socialTipSelection="SocialTipSelection",e.sportsAroundTheLeague="SportsAroundTheLeague",e.sportsCard="SportsCard",e.sportsCardWC="SportsCardWC",e.sportsEntityHeader="SportsEntityHeader",e.sportsMatchupCard="SportsMatchupCard",e.sportsOlympicCard="SportsOlympicCard",e.sportsOlympicCardWC="SportsOlympicCardWC",e.sportsPage="SportsPage",e.sportsPageContent="SportsPageContent",e.sportsPersonalizationStrip="SportsPersonalizationStrip",e.starterKit="StarterKit",e.starterKitWC="StarterKitWC",e.stickyPeek="StickyPeek",e.storyPage="StoryPage",e.storySnippet="StorySnippet",e.stripe="Stripe",e.stripeFeed="StripeFeed",e.stripeView="StripeView",e.stripeWC="StripeWC",e.summaryCardWC="SummaryCardWC",e.superAppPage="SuperAppHomepage",e.tabbedInfopane="TabbedInfopane",e.tabbedInfopaneTabPreview="TabbedInfopaneTabPreview",e.taboolaRiver="TaboolaRiver",e.themePicker="ThemePicker",e.themePickerWC="ThemePickerWC",e.tipsCard="TipsCard",e.toast="Toast",e.toastWC="ToastWC",e.todoCardWC="TodoCardWC",e.topSites="TopSites",e.topSitesCommon="TopSitesCommon",e.topSitesEdge="TopSitesEdge",e.topSitesEdgeNextWC="TopSitesEdgeNextWC",e.topSitesNewsbar="TopSitesNewsbar",e.topicsHub="TopicsHub",e.trafficCard="TrafficCard",e.trafficCardWC="TrafficCardWC",e.trafficMap="TrafficMap",e.trafficPage="TrafficPage",e.travelArticlePageCard="TravelArticlePageCard",e.travelCollectionCard="TravelCollectionCard",e.travelDestination="TravelDestination",e.travelDestinationBanner="TravelDestinationBanner",e.travelDestinationDetailsBanner="TravelDestinationDetailsBanner",e.travelFeed="TravelFeed",e.travelInspirationCard="TravelInspirationCard",e.travelInspirationCardWC="TravelInspirationCardWC",e.travelLandingPage="TravelLandingPage",e.travelPage="TravelPage",e.trendingNews="TrendingNews",e.trendingNow="TrendingNow",e.trendingNowWC="TrendingNowWC",e.trendingTopics="TrendingTopics",e.tripleCard="TripleCard",e.ugcCreator="UgcCreator",e.ugcCreatorHomepage="UgcCreatorHomepage",e.upnextPaddle="UpnextPaddle",e.userInitiatedPageRefresh="UserInitiatedPageRefresh",e.userProfileDisplay="UserProfileDisplay",e.verticalLeftNav="VerticalLeftNav",e.videoCard="VideoCard",e.videoCardWC="VideoCardWC",e.videoContent="VideoContent",e.videoList="VideoList",e.viewsArticle="ViewsArticle",e.viewsCoachmark="ViewsCoachmark",e.viewsContentHeader="ViewsContentHeader",e.viewsGallery="ViewsGallery",e.viewsNativeAd="ViewsNativeAd",e.viewsPaddles="ViewsPaddles",e.viewsRail="ViewsRail",e.voiceSearch="VoiceSearch",e.voiceSearchWC="VoiceSearchWC",e.waffleWC="WaffleWC",e.walletPersonalizedOfferSdCardWC="WalletPersonalizedOfferSdCardWC",e.watch="Watch",e.watchlistCard="WatchlistCard",e.watchlistView="WatchlistView",e.weatherAds="WeatherAds",e.weatherCard="WeatherCard",e.weatherCardWC="WeatherCardWC",e.weatherCarousel="WeatherCarousel",e.weatherDailyTrendChart="WeatherDailyTrendChart",e.weatherData="WeatherData",e.weatherEplant="WeatherEplant",e.weatherFeedback="WeatherFeedback",e.weatherFloatButtons="WeatherFloatButtons",e.weatherForecast="WeatherForecast",e.weatherHolidayEffects="WeatherHolidayEffects",e.weatherInfoCard="WeatherInfoCard",e.weatherInfoMini="WeatherInfoMini",e.weatherLifeIndexEntry="WeatherLifeIndexEntry",e.weatherLocationPanel="WeatherLocationPanel",e.weatherLocationPopup="WeatherLocationPopup",e.weatherLocationSearch="WeatherLocationSearch",e.weatherMap="WeatherMap",e.weatherMapAlertCard="WeatherMapAlertCard",e.weatherMapAnimationBox="WeatherMapAnimationBox",e.weatherMapCarousel="WeatherMapCarousel",e.weatherMapContentModal="WeatherMapContentModal",e.weatherMapControlBox="WeatherMapControlBox",e.weatherMapGroupSwitcher="WeatherMapGroupSwitcher",e.weatherMapHurricanePane="WeatherMapHurricanePane",e.weatherMapLayerChooser="WeatherMapLayerChooser",e.weatherMapLegendIndicator="WeatherMapLegendIndicator",e.weatherMapMini="WeatherMapMini",e.weatherMapNews="WeatherMapNews",e.weatherMapPopup="WeatherMapPopup",e.weatherMapPromotionCard="WeatherMapPromotionCard",e.weatherMapSidebar="WeatherMapSidebar",e.weatherMapTimeline="WeatherMapTimeline",e.weatherMapV2="WeatherMapV2",e.weatherMapWeatherCard="WeatherMapWeatherCard",e.weatherMonthCalendar="WeatherMonthCalendar",e.weatherMonthlyForecastSummary="WeatherMonthlyForecastSummary",e.weatherMonthlyTrendChart="WeatherMonthlyTrendChart",e.weatherOverviewV2="WeatherOverviewV2",e.weatherPageV2="WeatherPageV2",e.weatherPollenCityList="WeatherPollenCityList",e.weatherPollenDailyInfo="WeatherPollenDailyInfo",e.weatherPollenImages="WeatherPollenImages",e.weatherPollenNodata="WeatherPollenNodata",e.weatherPollenTeaser="WeatherPollenTeaser",e.weatherRecommendation="WeatherRecommendation",e.weatherSettingCenter="WeatherSettingCenter",e.weatherSlideDrawer="WeatherSlideDrawer",e.weatherToast="WeatherToast",e.weatherForecastTab="WeatherForecastTab",e.weatherLifeCurrent="WeatherLifeCurrent",e.weatherTodayCard="WeatherTodayCard",e.weatherTodayMini="WeatherTodayMini",e.weatherTodayMiniWC="WeatherTodayMiniWC",e.weatherLifeFactsCard="WeatherLifeFactsCard",e.weatherLifeHolidayCard="WeatherLifeHolidayCard",e.weatherLifeQuizCard="WeatherLifeQuizCard",e.weatherLifeSpecialToday="WeatherLifeSpecialToday",e.weatherLifeNews="WeatherLifeNews",e.welcomeGreetingWC="WelcomeGreetingWC",e.widgets="Widgets",e.windowsOfficeFeed="WindowsOfficeFeed",e.windowsPage="WindowsPage",e.windowsShellAccountManager="WindowsShellAccountManager",e.windowsShellBannerManager="WindowsShellBannerManager",e.windowsShellColdStartBanner="WindowsShellColdStartBanner",e.windowsShellContentPreview="WindowsShellContentPreview",e.windowsShellNotificationBanner="WindowsShellNotificationBanner",e.windowsShellRecommendedInterests="WindowsShellRecommendedInterests",e.windowsShellRiver="WindowsShellRiver",e.windowsShellShoppingBanner="WindowsShellShoppingBanner",e.xboxFeedWC="XboxFeedWC",e.xfeed="Xfeed",e.xfeedWC="XfeedWC",e.yandexSearchBoxWC="YandexSearchBoxWC"}(n||(n={}))},82890:function(e,t,i){"use strict";var n;i.d(t,{p:function(){return n}}),function(e){e.searchBox="SearchBox",e.riverFirstSection="RiverFirstSection",e.desktopFeedStart="DesktopFeedStart",e.wpoCallStart="WpoCallStart",e.wpoResponseBack="WpoResponseBack",e.firstSectionRenderStart="FirstSectionRenderStart",e.secondSectionRenderStart="SecondSectionRenderStart",e.discoverCarouselSection="FinanceDiscoverSection_carouselCard",e.discoverFollowedSection="FinanceDiscoverSection_followedCard",e.discoverFirstSection="FinanceDiscoverSection_first",e.discoverSecondSection="FinanceDiscoverSection_second",e.feed="Feed",e.feedRequestFG="FeedRequest.FG",e.feedBasicRender="FeedBasicRender",e.feedSDRender="FeedSDRender",e.basicFeed="BasicFeed",e.feedRequest="FeedRequest",e.sdCards="SDCards",e.viewCards="ViewCards"}(n||(n={}))},15213:function(e,t,i){"use strict";var n,r;i.d(t,{q:function(){return n}}),function(e){e.TimeToRequestAd="TTNativeAd.Request",e.TimeToServeAd="TTNativeAd.Serve",e.TimeToRenderAd="TTVR.NativeAd",e.TimeToAdResponse="TTNativeAd.Response",e.ApiDuration="NativeAd.ApiDuration",e.RenderReady="NativeAd.RenderReady",e.RequestInitiated="NAdInitiate",e.RequestSent="NAdInitiateToReq",e.AdFetched="NAdFetch",e.AdServerLatency="NAdServerLatency",e.AdProcessed="NAdProcess",e.RespToAdCallback="NAdRespToCallback",e.AdCallbackProcessed="NAdCallbackProcess",e.AdRendered="NAdRender"}(n||(n={})),function(e){e.TimeToAdScriptRequest="TTDisplayAd.ScriptRequest",e.TimeToAdScriptLoaded="TTDisplayAd.ScriptLoaded",e.TimeToAdFetchStarted="TTDisplayAd.FetchStarted",e.TimeToAdFetchCompleted="TTDisplayAd.FetchCompleted",e.TimeToAdRenderCompleted="TTDisplayAd.RenderCompleted"}(r||(r={}))},12108:function(e,t,i){"use strict";var n,r;i.d(t,{F:function(){return r},G:function(){return n}}),function(e){e.Article="article",e.ArticleFullScreen="articlefullscreen",e.DHP="dhp",e.Gallery="gallery",e.GalleryFullScreen="galleryfullscreen",e.Homepage="hp",e.Launcher="launcher",e.MMX="mmx",e.NewsAndInterests="newsandinterestshp",e.Newsbar="newsbar",e.NewsbarUpsell="newsbarupsell",e.NewsCoronavirus="news::coronavirus",e.NewsVLP="news",e.NTP="ntp",e.Story="story",e.Shopping="shopping",e.ShoppingDealsCategory="shopping::deals-category",e.ShoppingProductDetails="shopping::product",e.ShoppingForumCheckout="shopping::buy-with-microsoft::checkout",e.ShoppingForumProductDetails="shopping::buy-with-microsoft::product",e.ShoppingForumCancelOrder="shopping::buy-with-microsoft::cancel-order",e.ShoppingForumReturnDetails="shopping::buy-with-microsoft::return-details",e.ShoppingForumReturnOrder="shopping::buy-with-microsoft::return-orders",e.ShoppingLiveDetails="shoppinglivedetails",e.ShoppingMomentInTime="shopping::mit",e.shoppingCategory="shopping::category",e.ShoppingExplore="shopping::explore",e.ShoppingExploreHalloween="shopping::explore::halloween",e.ShoppingCouponsPage="shopping::coupons",e.ShoppingDealsHomePage="shopping::deals",e.ShoppingStoreCouponsPage="shopping::store-coupons",e.ShoppingStyles="shopping::styles",e.ShoppingStylesHomePage="shopping::style-ideas",e.ShoppingLanding="shopping::buy-with-microsoft",e.ShoppingSearchResult="shopping::buy-with-microsoft::search",e.ShoppingCart="shopping::buy-with-microsoft::cart",e.ShoppingOrders="shopping::buy-with-microsoft::orders",e.ShoppingForumOrderConfirmation="shopping::buy-with-microsoft::order-confirmation",e.ShoppingForumOrderDetails="shopping::buy-with-microsoft::order-details",e.ShoppingForumHome="shopping::buy-with-microsoft::home",e.Sports="sports",e.Travel="travel",e.TravelPlaces="travel::places",e.TravelCollections="travel::collections",e.Video="video",e.WebContent="webcontent",e.Windows="windowshp",e.WindowsShellHP="windowsshellhp",e.ShoppingAllStoresPage="shopping::stores::popular",e.ShoppingLiveProductDetailsPage="shopping::live::product"}(n||(n={})),function(e){e.Adult="adult",e.Enterprise="enterprise",e.Kids="kids"}(r||(r={}))},33799:function(e,t,i){"use strict";var n,r,o;i.d(t,{Hy:function(){return n},Qm:function(){return r},mv:function(){return o}}),function(e){e[e.Unknown=0]="Unknown",e[e.NotSignedIn=1]="NotSignedIn",e[e.SignedIn=2]="SignedIn"}(n||(n={})),function(e){e.MSA="MSA",e.AAD="AAD",e.UNSUPPORTED_SOVEREIGNTY="UNSUPPORTED_SOVEREIGNTY"}(r||(r={})),function(e){e[e.NonAadAccount=0]="NonAadAccount",e[e.AadAccount=1]="AadAccount",e[e.Unknown=2]="Unknown"}(o||(o={}))},95527:function(e,t,i){"use strict";i.d(t,{SD:function(){return r},fw:function(){return n}});const n="peregrine-widget-settings",r="prg-pw-"},25568:function(e,t,i){"use strict";i.d(t,{$s:function(){return l},GR:function(){return r},H0:function(){return d},I1:function(){return u},J8:function(){return a},LJ:function(){return v},LW:function(){return o},Mo:function(){return s},Mt:function(){return p},P$:function(){return f},SO:function(){return b},YU:function(){return m},_O:function(){return k},bx:function(){return g},di:function(){return C},hE:function(){return n},hM:function(){return h},hZ:function(){return c},lP:function(){return y},m8:function(){return S},os:function(){return T},vy:function(){return w}});const n={activityId:"activityId",apiKey:"apikey",audienceMode:"audienceMode",bypassTrigger:"bypass_trigger",complexInfoPaneEnabled:"cipenabled",contentType:"contentType",delta:"delta",disableTypeSerialization:"DisableTypeSerialization",infopaneCount:"infopaneCount",fdhead:"fdhead",feedLayoutRequestType:"t",filter:"$filter",ids:"ids",interestIds:"interestids",location:"location",market:"market",newsSkip:"newsSkip",newsTop:"newsTop",ocid:"ocid",pageConfiguration:"pgc",parentContentId:"parent-content-id",parentNamespace:"parent-ns",parentTitle:"parent-title",queryQ:"q",query:"query",queryType:"queryType",qScope:"qscope",requestId:"rid",responseSchema:"responseschema",select:"$select",session:"session",signInCookieName:"scn",skip:"$skip",source:"source",timeOut:"timeOut",top:"$top",type:"type",user:"user",wrapOData:"wrapodata",wpoitems:"wpoitems",wpoPageId:"wpopageid",wpoSchema:"wposchema",caller:"caller"},r="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM",o="optimizer/api/anaheim/feed",s="service/news/feed/pages/",a="wpoxfeed",c="news/feed/pages/",d="winxfeed",l="wpodhp",u="gamingfeed",g="ntp",p="news/feed/Segments",h="https://api.msn.com",f="wpo-usebasedomain",m="wpo-useintdomain",v="https://ppe-api.msn.com",b="news/feed/pages/wpoxfeed",y="news/feed/pages/",C=17,S="anaheim-ntp-feeds",w="msnkids",T="dy0rQcQaYj5cKZ2Cy0cdaRDJcC5maS5hPj9w2SbeRf";function k(e,t){t.set(n.wrapOData,"false").set(n.disableTypeSerialization,"true").set(n.queryType,e.queryType||"myfeed").set(n.timeOut,`${function(e){const{timeoutMs:t,query:i,customFeedTimeoutMs:n}=e;return i&&n?n:t}(e)}`).set(n.contentType,e.contentType).set(n.apiKey,r),(e.useDelta||e.sessionId)&&(t.set(n.delta,"true"),e.sessionId&&t.set(n.session,e.sessionId)),e.ocid&&t.set(n.ocid,e.ocid)}},65932:function(e,t,i){"use strict";i.d(t,{T3:function(){return a},Uo:function(){return s},tz:function(){return o}});const n={};let r;function o(e){r=e}function s(e,t,i=!0){let o=n[e];if(o||(o=[],n[e]=o),o.push(t),i){const i=r(e);if(i){const e=i.getCurrentState();e&&t(e)}}}function a(e,t){const i=n[e];if(i&&t)for(const e of i)e(t)}},93450:function(e,t,i){"use strict";i.d(t,{_:function(){return b}});var n=i(27670),r=i(93303),o=i(44446),s=i(90351),a=i(25514),c=i(46728),d=i(33379);const l=new Map;function u(e){return e+"."+r.B.connectorStateKey}const g={registerInjection:function(e,t){let i=l.get(t);i||(i=new Set,l.set(t,i)),i.add(u(e))},initializeExperience:function(e,t,i){const n=u(t),r=(0,s.Z)(e,n,void 0),o=(0,s.Z)(e,u(i),void 0),c=Object.assign(Object.assign({},r),{[i]:o});(0,a.Z)(e,n,c)},reportStateChange:function(e,t,i){const n=l.get(t);if(n)for(const r of n){const n=(0,s.Z)(e,r,void 0);n&&(0,a.Z)(e,r,Object.assign(Object.assign({},n),{[t]:i}))}}};var p=i(85663),h=i(65932);class f{constructor(){this._connectorMap={},this._globalConnectors=[],this._allConnectors=[],this._getDataConnectorPendingPromises=new Map,this.reduce=this.reduce.bind(this)}connectors(){return this._allConnectors}connector(e){return this._connectorMap[e]}globalConnectors(){return this._globalConnectors}getDataConnector(e){const t=this.connector(e);if(t)return Promise.resolve(t);const i=this._getDataConnectorPendingPromises.get(e);if(i)return i.promise;let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return this._getDataConnectorPendingPromises.set(e,{promise:o,resolve:n,reject:r}),o}reduce(e,t){(0,p.isNullOrUndefined)(e)&&(e={});let i=Object.assign({},e),n=!1;const l=t.key;if(void 0!==t&&void 0!==l){const u="string"==typeof t.type;if(u&&t.type.endsWith(r.B.renderAction)){const t=l+"."+r.B.connectorStateKey,c=(0,o.Z)({},(0,s.Z)(e,t,void 0));(0,a.Z)(i,t,c),n=!0}else if(u&&t.type.endsWith(r.B.dataConnectorMergeInitAction)){const e=l,r=t.params[0];r&&(g.initializeExperience(i,e,r),n=!0)}else{const e=this._connectorMap[l];if(e){e.isGlobal&&(i=(0,c.Z)({},i));const r=this.computeNextStateForConnector(i,l,t);n=r.stateChanged,n&&(g.reportStateChange(i,l,r.newState),(0,d.N)()&&(0,h.T3)(l,r.newState))}else if(!(0,d.N)())throw new Error("Reducer for: "+l+" must not return undefined.")}}else Object.keys(this._connectorMap).forEach((e=>{this.computeNextStateForConnector(i,e,t).stateChanged&&(n=!0)}));return n?i:e}addSubReducerForConnector(e){if(!e)throw new Error("The parameter 'connector' cannot be null.");const t=e.fullNamespace;if(this._connectorMap[t]=e,this._allConnectors.push(e),e.isGlobal&&this._globalConnectors.push(e),this._getDataConnectorPendingPromises.has(e.namespace)){const t=this._getDataConnectorPendingPromises.get(e.namespace);try{t.resolve(e)}catch(e){t.reject(e)}this._getDataConnectorPendingPromises.delete(e.namespace)}e.store.dispatch({key:t,type:"@@connector-view/INIT"})}computeNextStateForConnector(e,t,i){const n=this._connectorMap[t],o=t+"."+r.B.connectorStateKey,c=(0,s.Z)(e,o,void 0),d=this.subReduce(n.reducer,c,i);if(void 0===d)throw new Error("Reducer for: "+t+" must not return undefined.");const l=d!==c;return l&&(0,a.Z)(e,o,d),{newState:d,stateChanged:l}}subReduce(e,t,i){const n=e.reduce(t,i);return n!==t?n:t}}var m=i(11365),v=i(33954);class b{constructor(e){let t;const i=[];if(void 0!==v.k&&v.k&&v.k.isDebug()){t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||n.qC)((0,m.md)(...i))}else t=(0,m.md)(...i);this._rootReducer=new f,this._store=(0,n.MT)(this.rootReducer.reduce,e,t)}static resetPageBaseInstance(e){this._instance=new b(e)}static deletePageBaseInstance(){this._instance=void 0}get store(){return this._store}get rootReducer(){return this._rootReducer}static getInstance(e){return this._instance||(this._instance=new this(e))}start(){this.rootReducer.connectors().forEach((e=>e.onApplicationStart()))}}},93303:function(e,t,i){"use strict";var n;i.d(t,{B:function(){return n}}),function(e){e.connectorStateKey="_@STATE@_",e.renderAction="@@connector-view/RENDER",e.dataConnectorMergeInitAction="@@data-connector/MERGE-INIT"}(n||(n={}))},63439:function(e,t,i){"use strict";i.d(t,{e:function(){return d}});var n=i(65932),r=i(93303),o=i(21050),s=i(11365),a=i(25514),c=i(82423);(0,n.tz)(c.K0);class d{constructor(e,t,i,n,r,o,a,c=!1){this.namespace=e,this.parentNamespace=t,this.rootReducer=i,this.reducer=n,this.config=o,this.requestContext=a,this.isGlobal=c,this._fullNamespace=void 0!==t&&""!==t?t+"."+e:e,this.selectState=this.selectState.bind(this),this._subspace=(0,s.Z)(this.selectState,this.namespace)(r),this._perfTimeline=this.tryGetPerfTimeline(e),i.addSubReducerForConnector(this)}get store(){return this._subspace}get fullNamespace(){return this._fullNamespace}get perfTimeline(){return this._perfTimeline}get configHref(){return this._configHref}set configHref(e){this._configHref=e}getCurrentState(){const e=this.store.getState()[r.B.connectorStateKey];if(!this.isGlobal){const t=this.rootReducer.globalConnectors();0!==t.length&&t.forEach((t=>{(0,a.Z)(e,t.namespace,t.getCurrentState())}))}return e}onApplicationStart(){}selectState(e){return e[this.namespace]}tryGetPerfTimeline(e){const t=e.split("_"),[i]=t,n=t[t.length-1];return(0,o.oA)(i,n)}}},30856:function(e,t,i){"use strict";i.d(t,{G:function(){return o}});var n=i(58043),r=i(32771);class o{static handleAction(e,t,i){return!!o.endsWith(e.type+"",t.type)&&(i.apply(i,e.params),!0)}static handleActions(e,t,i){const r=e.type+"";return!!(0,n.Z)(t,(e=>o.endsWith(r,e.type)))&&(i.apply(i,e.params),!0)}static safeHandleAction(e,t,i){if(!o.endsWith(e.type+"",t.type))throw"The action payload does not match the action type.";return i.apply(i,e.params),!0}}o.endsWith=String.prototype.endsWith?function(e,t){return e.endsWith(t)}:r.Z},55067:function(e,t,i){"use strict";i.d(t,{C:function(){return u}});var n=i(93450);function r(e,t,i,n){let r;return e&&(r=e.parentNamespace?e.parentNamespace+"."+e.namespace:e.namespace),{key:r,experienceInstanceId:n,type:t,params:i}}function o(e,t){return e?e.store.dispatch(t):n._.getInstance().store.dispatch(t)}var s=i(93303);class a{constructor(e,t,i){this.type=e,this.observers=t,this.connector=i}get send(){return this.dispatchAction()}dispatchAction(){return function(...e){const t=this.tryGetPerfTimeline(),i=t&&t.startMeasure("action",this.type).endMeasure,{payload:n,result:a}=this.getDispatchResult(e);return this.observers.forEach((e=>{try{e.filterConnector&&this.connector!==e.filterConnector||e.observer(n)}catch(t){console.log(`Error calling observer: ${JSON.stringify(e.observer)}, with error: ${t}`)}if(e.dispatchConnector){const t=r(e.dispatchConnector,s.B.renderAction,[],void 0);o(e.dispatchConnector,t)}})),i&&i(),a}}}class c extends a{constructor(e,t,i){super(e,t,i)}getDispatchResult(e){const t=r(this.connector,this.type,e,void 0);return{payload:t,result:o(this.connector,t)}}tryGetPerfTimeline(){return this.connector.perfTimeline}}var d=i(21050);class l extends a{constructor(e,t,i){super(e,t,null),this.experienceInstanceId=i}getDispatchResult(e){const t=r(void 0,this.type,e,this.experienceInstanceId);return{payload:t,result:o(void 0,t)}}tryGetPerfTimeline(){return(0,d.oA)("GlobalActionSender",this.experienceInstanceId||"unknown")}}class u{constructor(e){this.type=e,this.observers=[]}getActionSender(e){let t;if(t="string"==typeof e?n._.getInstance().rootReducer.connector(e):e,t)return new c(this.type,this.observers,t)}getGlobalActionSender(e){return new l(this.type,this.observers,e)}registerObserver(e,t){const{dispatchConnector:i,filterConnector:n}=t||{};this.observers.push({observer:e,dispatchConnector:i,filterConnector:n})}unregisterObserver(e){const t=this.observers.findIndex((t=>t.observer===e));t>-1&&this.observers.splice(t,1)}unregisterObservers(){this.observers=[]}}},82423:function(e,t,i){"use strict";i.d(t,{K0:function(){return f},Ki:function(){return m},oU:function(){return h}});var n=i(33940),r=i(32181),o=i(48799),s=i(8158),a=i(44979),c=i(26415),d=i(68364),l=i(93450),u=i(33379),g=i(65932);let p={};function h(e){return(0,n.mG)(this,void 0,void 0,(function*(){return e?yield l._.getInstance().rootReducer.getDataConnector(e):null}))}function f(e){return l._.getInstance().rootReducer.connector(e)}function m(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=(0,r.M)(e);let i=p[t];return i||(i=new Promise(((t,i)=>(0,n.mG)(this,void 0,void 0,(function*(){try{const t=(0,r.M)(e),i=(0,r.Fr)(e),n=o.U.getConfig(i),c=s.n.loadExperience(t),d=yield Promise.all([n,c]),p=d[0].properties,h=d[1],f=h[t+"Connector"],m=h[t+"Reducer"],v=l._.getInstance(),b=new f(t,"",v.rootReducer,new m(p),v.store,p,new a.fH);(0,u.N)()&&(0,g.T3)(t,b.getCurrentState())}catch(e){const t=Object.assign({},c.NGC);(0,d.OO)(e,t,"Loading data connector failed.")}t()})))),p[t]=i,i)}))}},41710:function(e,t,i){"use strict";i.d(t,{s:function(){return r}});var n=i(55067);class r{}r.signedInStatus=new n.C("SignedInStatus"),r.signedInStatusConfirmed=new n.C("SignedInStatusConfirmed"),r.useEnterpriseCompliance=new n.C("UseEnterpriseCompliance"),r.useHistory=new n.C("UseHistory"),r.updateLocation=new n.C("UpdateLocation")},92082:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var n=i(63439);class r extends n.e{constructor(e,t,i,n,r,o,s){super(e,t,i,n,r,o,s,!0)}}},70009:function(e,t,i){"use strict";i.d(t,{P:function(){return g}});var n=i(33799),r=i(83097),o=i(90846),s=i(66213),a=i(33379),c=i(2140),d=i(30856),l=i(41710),u=i(9344);class g{reduce(e,t){if(!e){return{signedIn:this.getSignInStatus(),useEnterpriseCompliance:!1,useHistory:!1}}if(!t)return e;let i,n=!1;return n=d.G.handleAction(t,l.s.signedInStatus,(t=>{i=Object.assign(Object.assign({},e),{signedIn:t})})),n=n||d.G.handleAction(t,l.s.useEnterpriseCompliance,(t=>{i=Object.assign(Object.assign({},e),{useEnterpriseCompliance:t})})),n=n||d.G.handleAction(t,l.s.useHistory,(t=>{i=Object.assign(Object.assign({},e),{useHistory:t})})),n=n||d.G.handleAction(t,l.s.updateLocation,(t=>{i=Object.assign(Object.assign({},e),{location:t})})),i||e}getSignInStatus(){if(!(0,a.N)()){const{oneServiceHeaders:e}=(0,c.s)();if(e&&Object.keys(e).length>0&&e.authorization&&e.userIdToken)return n.Hy.SignedIn}if((0,o.hk)())return n.Hy.Unknown;if((0,o.G5)())return(0,o.x6)()?n.Hy.SignedIn:n.Hy.NotSignedIn;const e=s.jG.AuthCookieName;if(e===r.EW.Unknown)return n.Hy.NotSignedIn;const t=e===r.EW.AppAnon?r.IR.AppAnonCookieExists:r.IR.AnonCookieExists;return(0,u.ej)(t)?n.Hy.SignedIn:n.Hy.NotSignedIn}}},82128:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(32181);function r(e){return"string"==typeof(t=(0,n.Fr)(e))?t:t.instanceSrc;var t}},76950:function(e,t,i){"use strict";i.d(t,{ITY:function(){return r}});const n={ArticleTopComment:"article-top-comment",AutosEntityCardWC:"autos-entity-card-wc",AutosMarketplaceCard:"autos-marketplace-card",BackToTopButton:"back-to-top-button",BackgroundImageWC:"background-image",BingHealth:"bing-health",BingHealthCard:"bing-health-card",BingHealthFitnessCard:"bing-health-fitness-card",BingHomepageFeed:"bing-homepage-feed",BingVideoCarousel:"bing-video-carousel",BreakingNewsWC:"breaking-news-wc",CalendarCard:"calendar-card",CardActionWC:"card-action",CasualGamesHub:"casual-games-hub",CoachmarkWC:"coachmark-elem",ColdStartWC:"cold-start",CommonHeaderWC:"common-header",ConditionalBannerHpWC:"conditional-banner-hp-wc",ConditionalBannerWC:"conditional-banner-wc",ContentGroupCard:"content-group-card",ContentTts:"content-tts",CpcMonetizationDashboard:"cpc-monetization-dashboard",DailyBriefWC:"daily-brief",DashboardFallback:"dashboard-fallback",DashboardSettings:"dashboard-settings",DefaultBrowserReclaimBanner:"default-browser-reclaim-banner",DenseCard:"dense-card",DesktopFeedEdgeNextWC:"desktop-feed-edgenext",DesktopFeedHubWC:"desktop-feed-hub",DesktopFeedSingleColumnWC:"desktop-feed-single-column-wc",DesktopFeedViewsWC:"desktop-feed-views",DesktopFeedWC:"desktop-feed",DevTools:"dev-tools",DidYouKnowImageWCExperience:"did-you-know-image-wc-experience",DidYouKnowWCExperience:"did-you-know-wc-experience",DisplayAdsWC:"display-ads",DistributionFeed:"distribution-feed",DistributionHeader:"distribution-header",DistributionPage:"distribution-page",DistributionPivotsNav:"distribution-pivots-nav",EdgeChromiumPageWC:"edge-chromium-page",EnterpriseFeedContainerWC:"enterprise-feed-container",EnterpriseRightRail:"enterprise-right-rail",EntertainmentCard:"entertainment-card",EntryPointHpMobile:"entry-point-hp-mobile",EntryPointHpWC:"entry-point",EsportsCard:"esports-card",EsportsLivestreamCarouselWC:"esports-livestream-carousel-wc",EsportsStreamsCard:"esports-streams-card",FamilyCard:"family-card",FeedNavigationHeader:"feed-navigation-header",FeedNavigationHp:"feed-navigation-hp",FeedToggleWC:"feed-toggle",FeedbackCard:"feedback-card",FeedbackDialogWC:"feedback-dialog",FeedbackLinkWC:"feedback-link",FrequentSitesCardWC:"frequent-sites-card",GameCard:"game-card",ShoppingLiveProductDetailsPage:"shopping-live-product-details-page",GamingCompeteCard:"gaming-compete-card",GamingRecentlyPlayedCard:"gaming-recentlyplayed-card",GamingRedditCard:"gaming-reddit-card",GamingRewardsCard:"gaming-rewards-card",GamingStreamCard:"gaming-stream-card",GamingTournamentCard:"gaming-tournament-card",GamingUpcomingCard:"gaming-upcoming-card",GamingVideoCard:"gaming-video-card",GeneralElections:"general-elections",GridViewFeed:"grid-view-feed",GroceryCouponSdCard:"grocery-coupon-sd-card",HealthFitnessCarousel:"health-fitness-carousel",HealthFoodHealtheffectsWC:"health-food-healtheffects",HealthFoodRecipesWC:"health-food-recipes",HealthQnAWCExperience:"health-qna-card-wc",HealthTipWC:"health-tip-wc",HolidayEffects:"holiday-effects",HomepageFooter:"homepage-footer",HomepageHeader:"homepage-header",HorizontalNav:"horizontal-nav",HoroscopeAnswerCardWC:"horoscope-answer-card",ImageSearchWC:"image-search-wc",IndustryNewsCard:"industry-news-card",InspirationCard:"inspiration-card",InterestsWC:"interests-wc",LanguageToggleWC:"language-toggle",LayoutToggle:"layout-toggle",LinearViewFeed:"linear-view-feed",LinkedInCard:"linked-in-card",LocalHubHeader:"local-hub-header",Lottery:"lottery-card",MailSignoutBanner:"mail-signout-banner",MarketplaceCardWC:"marketplace-card",MeStripeWC:"me-stripe",MicrosoftEdgeWidget:"microsoft-edge-widget",MicrosoftFeedCard:"microsoft-feed-card",MobileWidget:"mobile-widget",MoneyInfoCardWC:"money-info-card",MsRewardsWC:"ms-rewards",MsaAddressForm:"msa-address-form",NativeAdWC:"native-ad-wc",NewsSegmentCarousel:"news-segment-carousel",NewsbarFeedFooter:"newsbar-feed-footer",NewsbarFeedWC:"newsbar-feed",NewsbarToggle:"newsbar-toggle",NewsbarUpsellWC:"newsbar-upsell",NextdoorPage:"nextdoor-page",NotificationBellWC:"notification-bell",NudgeSpotlightCard:"nudge-spotlight-card",OfficeDocumentsTableWC:"office-documents-table",OfficeLeftRail:"office-leftrail",OnThisDayCardSmall:"on-this-day-card-small",OnThisDayCardWC:"on-this-day-card",OutlookEmailPreview:"outlook-email-preview",OverlayWC:"overlay-wc",PageRefreshWC:"page-refresh",PartnerUpsellCard:"partner-upsell-card",PersonalizeNavButton:"personalize-nav-button",PhotoCard:"photo-card",PillWC:"pill-wc",PivotContentWC:"pivot-content",PivotsNavEdgeNext:"pivots-nav-edgenext",PollsCardWC:"polls-card",PoweredbyLegendWC:"poweredby-legend",PreconsumptionArticleCardWC:"preconsumption-article-card",PrismCards:"prism-cards",PrismFeed:"prism-feed",PrismSdCard:"prism-sd-card",ProductivityHub:"productivity-hub",PublisherCarousel:"publisher-carousel",Qna:"qna-card",QnaFeed404Page:"qna-feed-404-page",QnaFeedCard:"qna-feed-card",QnaFeedCardMenu:"qna-feed-card-menu",QnaFeedCarousel:"qna-feed-carousel",QnaFeedCategoriesMenu:"qna-feed-categories-menu",QnaFeedExploreTopics:"qna-feed-explore-topics",QnaFeedList:"qna-feed-list",QnaFeedMyTopics:"qna-feed-my-topics",QnaFeedRelatedQuestions:"qna-feed-related-questions",QnaFeedReportCard:"qna-feed-report-card",QnaFeedSuggestedTopics:"qna-feed-suggested-topics",QnaFeedTopicDetail:"qna-feed-topic-detail",QnaFeedTrendingQuestions:"qna-feed-trending-questions",QuizCard:"quiz-card",ReactionBreakdownDialog:"reaction-breakdown-dialog",RecipesSdCard:"recipes-sd-card",RecommendedCardFeed:"recommended-card-feed",RecommendedCardWC:"recommended-card",RecommendedInterests:"recommended-interests",RecommendedInterestsModal:"recommended-interests-modal",RecommendedSearchCarouselWC:"recommended-search-carousel",RecommendedSitesWC:"recommended-sites",RewardsCardWC:"rewards-card",RightRailCards:"right-rail-cards",SdCardMaskWC:"sd-card-mask",SearchBoxEdgeNextWC:"search-box-edgenext",SearchBoxWC:"search-box-wc",SearchHistoryEdgeNextWC:"search-history-edgenext",SelectCarousel:"select-carousel",SettingsDialogEdgeNextWC:"settings-dialog-edgenext",SharedLinks:"shared-links",SharepointNewsCard:"sharepoint-news-card",ShoppingAllStoresPage:"shopping-all-stores-page",ShoppingCardWC:"shopping-card-wc",ShoppingCarouselWC:"shopping-carousel",ShoppingCart:"shopping-cart",ShoppingCheckoutPage:"shopping-checkout-page",ShoppingColdStart:"shopping-cold-start",ShoppingCouponsPage:"shopping-coupons-page",ShoppingDealsHomePage:"shopping-deals-home-page",ShoppingForumHome:"shopping-forum-home",ShoppingForumLandingPage:"shopping-forum-landing-page",ShoppingForumOrderCancelPage:"shopping-forum-order-cancel-page",ShoppingForumOrderConfirmation:"shopping-forum-order-confirmation",ShoppingForumOrderDetails:"shopping-forum-order-details",ShoppingForumOrdersPage:"shopping-forum-orders-page",ShoppingForumReturnDetailsPage:"shopping-forum-return-details-page",ShoppingForumReturnOrderPage:"shopping-forum-return-order-page",ShoppingGrid:"shopping-grid",ShoppingHomepage:"shopping-homepage",ShoppingLiveDetailsPage:"shopping-live-details-page",ShoppingLiveVideoPlayer:"shopping-live-video-player",ShoppingModal:"shopping-modal",ShoppingCategoryPage:"shopping-category-page",ShoppingMomentInTimePage:"shopping-moment-in-time-page",ShoppingPageBase:"shopping-page-base",ShoppingPageContent:"shopping-page-content",ShoppingProductPage:"shopping-product-page",ShoppingSearchResultPage:"shopping-search-result-page",ShoppingShippingAddress:"shopping-shipping-address",ShoppingShopTheLookPage:"shopping-shopthelook-page",ShoppingSmartListWC:"shopping-smart-list",SideBar:"side-bar",SignInBannerWC:"sign-in-banner",SignInControlWC:"sign-in-control",SignInFlyoutWC:"sign-in-flyout",SocialAvatar:"social-avatar",SocialBarWC:"social-bar-wc",SocialProfileCard:"social-profile-card",ProfilePromoCard:"profile-promo-card",PremiumProfilePromoCard:"premium-profile-promo-card",SocialProfilePromotion:"social-profile-promotion",SocialRelatedSources:"social-related-sources",SocialReportMenu:"social-report-menu",SocialRewardsMedal:"social-rewards-medal",SocialRewardsPromotion:"social-rewards-promotion",SocialSubscriptionBanner:"social-subscription-banner",SocialSubscriptionNotification:"social-subscription-notification",SocialSubscriptionOverlay:"social-subscription-overlay",SocialSubscriptionOverlaySummary:"social-subscription-overlay-summary",SocialSubscriptionPaywall:"social-subscription-paywall",SocialSubscriptionUpsell:"social-subscription-upsell",SocialSupportResult:"social-support-result",SocialTipHistory:"social-tip-history",SocialTipIntroduction:"social-tip-introduction",SocialTipPromotion:"social-tip-promotion",SocialTipPromotionInArticle:"social-tip-promotion-in-article",SocialTipSelection:"social-tip-selection",SportsAroundTheLeague:"sports-around-the-league",SportsCardWC:"sports-card",SportsEntityHeader:"sports-entity-header",SportsOlympicCardWC:"sports-olympic-card",SportsPersonalizationStrip:"sports-personalization-strip",StarterKitWC:"starter-kit",StickyPeek:"sticky-peek",StripeWC:"stripe-wc",SummaryCardWC:"summary-card-wc",ThemePickerWC:"theme-picker",TipsCard:"tips-card",ToastWC:"ms-toast",TodoCardWC:"todo-card",TopSitesEdgeNextWC:"top-sites-edgenext",TopSitesNewsbar:"top-sites-newsbar",TrafficCardWC:"traffic-card",TravelArticlePageCard:"travel-article-page-card",TravelCollectionCard:"travel-collection-card",TravelDestination:"travel-destination",TravelDestinationBanner:"travel-destination-banner",TravelDestinationDetailsBanner:"travel-destination-details-banner",TravelFeed:"travel-feed",TravelInspirationCardWC:"travel-inspiration-card-wc",TravelLandingPage:"travel-landing-page",TrendingNowWC:"trending-now-card",TrendingTopics:"trending-topics-card",UgcCreatorHomepage:"ugc-creator-homepage",UpnextPaddle:"upnext-paddle",VerticalLeftNav:"vertical-left-nav",VideoCardWC:"video-card",ViewsCoachmark:"views-coachmark",ViewsNativeAd:"views-native-ad",ViewsRail:"views-rail",VoiceSearchWC:"voice-search-wc",WaffleWC:"waffle-wc",WalletPersonalizedOfferSdCardWC:"wallet-personalized-offer-sd-card-wc",WeatherCardWC:"weather-card",WeatherTodayMiniWC:"weather-today-mini",WelcomeGreetingWC:"welcome-greeting",WindowsOfficeFeed:"windows-office-feed",XboxFeedWC:"xbox-feed-wc",XfeedWC:"xfeed-wc",YandexSearchBoxWC:"yandex-search-box"};function r(e){return n[e]}},1103:function(e,t,i){"use strict";i.d(t,{Fg:function(){return O},pE:function(){return E}});var n,r,o,s,a=i(33940),c=i(21050),d=i(26415),l=i(68364),u=i(32181),g=i(8158),p=i(48799);!function(e){e.OneColumn="OneColumn",e.TwoColumn="TwoColumn",e.ThreeColumn="ThreeColumn",e.FourColumn="FourColumn",e.FiveColumn="FiveColumn",e.SixColumn="SixColumn",e.Any="Any"}(n||(n={})),function(e){e.grid="grid",e.horizontalStack="horizontalStack",e.layout="layout",e.verticalStack="verticalStack",e.customExperience="customExperience"}(r||(r={})),function(e){e.actionTrigger="ActionTrigger",e.button="Button",e.heading="Heading",e.peregrineExperience="PeregrineExperience",e.typography="Typography",e.webComponentExperience="WebComponentExperience"}(o||(o={})),function(e){e.riverGridChildren="riverGridChildren"}(s||(s={}));var h=i(88828),f=i(14989),m=i(52965),v=i(85663);class b{static registerAppValidator(e){this.expValidatorMap=e.getAllValidators()}static processConfig(e,t){if(!this.expValidatorMap||this.expValidatorMap.size<1||!e||!e.childExpValidatorMap)return e;const i=e.childExpValidatorMap;let n=null,r=null;for(const o in i){const s=i[o];if(this.expValidatorMap.has(o)){this.expValidatorMap.get(o)(s.validationArgs)&&(null===r&&(r=this.expConfigMap.get(t)||e),null===n&&(n=(0,m.Z)(r)),e=this.filterConfig(s,r))}}return n?this.expConfigMap.set(t,n):null===r&&this.expConfigMap.has(t)&&(e=this.expConfigMap.get(t)),e}static removeFromRiverGridChildren(e,t){const i=t.riverGridChildren;return i&&i.forEach((t=>{const i=t.children;if(i){const n=e.childExperienceConfigInfo,r=(0,u.M)(n);t.children=i.filter((e=>{const t=e.childExperienceConfigInfo;return!t||!n||n.instanceId!==t.instanceId||r!==(0,u.M)(t)}))}})),t}static getChildrenDataConnectorConfigInfos(e){const t=[];if(e&&e.dataConnectors&&e.dataConnectors.length>0){const i=b.getOrdinalObjectForCurrentBreakpoint(e.dataConnectors);i&&i.children&&i.children.length>0&&i.children.forEach((e=>{t.push(e)}))}return t}static getMetadataByScreenWidth(e,t){return t.find((t=>t.screenWidth===e))||t.find((e=>e.screenWidth===n.Any))}static getOrdinalObjectForCurrentBreakpoint(e){switch((0,h.Bn)().currentColumnArrangement){case f.K$.c1:return b.getMetadataByScreenWidth(n.OneColumn,e);case f.K$.c2:return b.getMetadataByScreenWidth(n.TwoColumn,e);case f.K$.c3:return b.getMetadataByScreenWidth(n.ThreeColumn,e);case f.K$.c4:return b.getMetadataByScreenWidth(n.FourColumn,e);case f.K$.c5:return b.getMetadataByScreenWidth(n.FiveColumn,e);default:return b.getMetadataByScreenWidth(n.Any,e)}}static compositionOverrideResolver(e,t){const{getCompositionIdOverride:i}=t||{},{composition:n,compositionOverrides:r}=e;return r&&(0,v.isFunction)(i)&&r[i()]||n}static getChildrenExperienceConfigInfos(e,t){const i=[];if(e&&e.composition){const n=b.compositionOverrideResolver(e,t);switch(n.type){case r.horizontalStack:case r.layout:n.page.children.forEach((e=>{void 0!==e.children&&e.children.forEach((e=>{if(!e.children)return;const{childType:t}=e.children;t?t===o.peregrineExperience&&i.push(e.children.child):i.push(e.children)}))}));break;case r.grid:n.grid.rows.forEach((e=>{void 0!==e.columns&&e.columns.forEach((e=>{const{itemType:t}=e.item;t&&t===o.peregrineExperience&&i.push(e.item.child)}))}));break;case r.customExperience:{const e=n;i.push(e.experience);break}}}return i}static filterConfig(e,t){return e&&"string"==typeof e.sectionName&&e.sectionName.toLowerCase()===s.riverGridChildren.toLowerCase()?this.removeFromRiverGridChildren(e,t):t}static resetValidatorMap(){this.expValidatorMap.clear()}static resetConfigMap(){this.expConfigMap.clear()}}b.expValidatorMap=new Map,b.expConfigMap=new Map;var y=i(4734),C=i(76950),S=i(82423),w=i(9791);const T=new Set;let k={};const O=(0,w.Z)((function(e){return(0,a.mG)(this,void 0,void 0,(function*(){try{const{configRef:t,configRef:{experienceType:n}}=e,r=(0,y.gy)(n);r&&r.shouldResolve&&(yield r.shouldResolve());const o=(0,c.oA)(n,e.instanceId),s=function(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const i=yield(0,c.fW)((()=>p.U.getConfig(e)),"config",t);if(!i)return;const n=i.properties;if(!n||!n.dataConnectors||n.dataConnectors.length<=0)return;const r=t&&t.startMeasure("loadDataConnectors").endMeasure,o=b.getChildrenDataConnectorConfigInfos(n).map((e=>(0,S.Ki)(e)));yield Promise.all(o),r&&r()}))}(t,o),d=function(e,t){let i=k[e];if(i)return i;return i=(0,c.fW)((()=>g.n.loadExperience(e)),"scripts",t),k[e]=i,i}(n,o),l=(yield Promise.all([s,d]))[1];yield function(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){T.has(e)||(T.add(e),yield function(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=t[e],r=t[e+"Template"],o=t[e+"Styles"];(yield Promise.resolve().then(i.bind(i,99404))).FASTElement.define(n,Object.assign({name:(0,C.ITY)(e),template:r,styles:o},n.definition))}))}(e,t))}))}(n,l)}catch(e){const t=Object.assign({},d.gzO);(0,l.OO)(e,t,"Loading web component experience failed.")}}))}),(e=>(0,u.B5)(e.configRef)));function E(e){return(0,a.mG)(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>O(e))))}))}},33090:function(e,t,i){"use strict";i.d(t,{l:function(){return w}});var n=i(33940),r=i(66213),o=i(48799),s=i(69979),a=i(29163),c=i(53301),d=i(4734),l=i(38156),u=i(49786),g=i(79278),p=i(22704),h=i(68364),f=i(26415),m=i(19388),v=i(14675),b=i(60483);const y={};var C=i(76858);const S="props-token";class w extends s.H{connectedCallback(){this.initializeAsync()}initializeAsync(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.getExperienceType(),i=this.perfTimeline=(0,g.Dd)(t,this.instanceId),n=i&&i.startMeasure("init").endMeasure;(0,p.O8)("WCE.Count"),this.reportStartTimeToMilestoneConnector(c.g.updateVisuallyReadyTiming);try{let s;if(s=r.jG.IsGitConfigs?{instanceSrc:this.instanceSrc,experienceType:t,sharedNs:this.sharedNs}:this.instanceSrc,!this.config){const e=yield o.U.getConfig(s);this.config=e.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const e=this.getTelemetryContract();this.telemetryObject=new b.D(e)}const{stalenessInfo:a}=this.config;a&&a.isStaleCheckRequired&&(0,u.MV)({experienceType:t,thresholdMinutes:a.staleThreshold,criticalCallback:this.prerenderRefreshCritical.bind(this),delayCallback:this.prerenderRefresh.bind(this)});const c=this.experienceConnected();c&&(yield c),e.connectedCallback.call(this),this.shadowDomPopulated(),this.perfTimeline&&(0,g.Z)(this,this.perfTimeline,C.y)}catch(e){(0,h.OO)(e,f.xuo,"Exception web component experience initializeAsync."),n&&n("error")}finally{n&&n(),this.initToVisuallyReadyEndMeasure=i&&i.startMeasure("ready").endMeasure}}))}experienceConnected(){}shadowDomPopulated(){}prerenderRefreshCritical(){return Promise.resolve(void 0)}prerenderRefresh(){}getTelemetryContract(){return{type:l.c9.Module,name:this.getExperienceType()}}markVisuallyReady(){const e=(0,m.o_)(this.getExperienceType());return this.reportEndTimeToMilestoneConnector(c.g.updateVisuallyReadyTiming),this.initToVisuallyReadyEndMeasure&&this.initToVisuallyReadyEndMeasure(),e}markVisuallyReadyRaf(){(0,v.c)((()=>this.markVisuallyReady()))}reportStartTimeToMilestoneConnector(e){this.reportTimeToMilestoneConnector(e,performance.now())}reportEndTimeToMilestoneConnector(e){this.reportTimeToMilestoneConnector(e,void 0,performance.now())}reportTimeToMilestoneConnector(e,t,i){const n=(0,d.S0)();n&&e.getActionSender(n).send({experienceType:this.getExperienceType(),experienceInstance:this.instanceId,startTime:t,endTime:i})}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),e===S){const e=function(e){const t=y[e];return delete y[e],t}(i);Object.assign(this,e)}}}(0,n.gn)([(0,a.Lj)({attribute:"config-instance-src"})],w.prototype,"instanceSrc",void 0),(0,n.gn)([(0,a.Lj)({attribute:"config-shared-ns"})],w.prototype,"sharedNs",void 0),(0,n.gn)([(0,a.Lj)({attribute:"instance-id"})],w.prototype,"instanceId",void 0),(0,n.gn)([(0,a.Lj)({attribute:S})],w.prototype,"propsToken",void 0)},81563:function(e,t,i){"use strict";i.d(t,{O:function(){return h}});var n=i(49278),r=i(90563),o=i(32181),s=i(82128),a=i(76950),c=i(1103),d=i(38156),l=i(60483);const u={};function g(e,t){if(!t)return;const{properties:i,attributes:n}=t;if(i&&Object.assign(e,i),n)for(const[t,i]of Object.entries(n))e.setAttribute(t,i)}class p{constructor(e,t){this.target=e,this.options=t,this.events=null==t?void 0:t.events}bind(){var e,t;if(Object.assign(this.target,null===(e=this.options)||void 0===e?void 0:e.properties),this.events)for(const[e,t]of Object.entries(this.events))this.target.addEventListener(e,t);const i=null===(t=this.options)||void 0===t?void 0:t.instanceKey;if(i){const e=u[i];e&&(e.elements.push(this.target),g(this.target,e.options))}}unbind(){var e;if(this.events)for(const[e,t]of Object.entries(this.events))this.target.removeEventListener(e,t);const t=null===(e=this.options)||void 0===e?void 0:e.instanceKey;if(t){const e=u[t];if(e){const t=e.elements.indexOf(this.target);t>=0&&e.elements.splice(t,1)}}}}function h(e,t){if(!e)return;const i=function(e,t){const{configRef:i}=e,n=function(e){const t=null==e?void 0:e.properties;return null==t?void 0:t.cardLayout}(t);return`${i.experienceType}_${i.instanceSrc}_${i.sharedNs||""}_${e.instanceId}_${n||""}`}(e,t);if(!1===(null==t?void 0:t.memoize))return f(e,i,t);{const n=u[i];let r;if(n){if(t)for(const e of n.elements)g(e,t);n.options=t,r=n.template}else r=f(e,i,t),u[i]={template:r,options:t,elements:[]};return r}}function f(e,t,i){let u=null==i?void 0:i.telemetryObject;if(!u){const t={type:d.c9.Module,name:e.configRef.experienceType};u=new l.D(t)}const g=Object.assign(Object.assign({},null==i?void 0:i.properties),{telemetryObject:u});let h;!1!==(null==i?void 0:i.includeTelemetryTag)&&(h=u.getMetadataTag());const f={instanceKey:t,events:null==i?void 0:i.events,properties:g},m=(0,o.M)(e),v=(0,s.g)(e),b=(0,a.ITY)(m);(0,c.Fg)(e);const y=(null==i?void 0:i.attributes)?Object.entries(i.attributes).map((([e,t])=>`${e}=${t}`)).join(" "):"";return r.d`<${b} config-instance-src=${v} config-shared-ns=${t=>{var i;return null===(i=e.configRef)||void 0===i?void 0:i.sharedNs}} instance-id=${e.instanceId} data-t=${e=>h} ${function(e){return e?new n.ON("options",p,e):""}(f)} ${y}></${b}>`}},76858:function(e,t,i){"use strict";i.d(t,{y:function(){return r}});var n=i(45930);function r(){return new Promise((e=>n.SO.queueUpdate((()=>e()))))}},92162:function(e,t,i){"use strict";i.d(t,{uG:function(){return a},Mx:function(){return o},Kd:function(){return c},LB:function(){return s}});var n=i(95527);const r=new Map([["edge","prg-gitcfgs-edge"],["finance","prg-gitcfgs-fi"],["superApp","prg-gitcfgs-t"],["traffic","prg-gitcfgs-traf"],["weather","prg-gitcfgs-wea"]]);function o(e){if(!e||0===e.length)return e;const t=[];return e.forEach((e=>{const i=e.toLocaleLowerCase().trim();i.startsWith("prg-")&&t.push(i)})),t.sort()}function s(e,t,i,n){return!(!n||!e||"v3"!==e)&&(!i||function(e,t){const i=r.get(e);if(i){const e=o(t);return!!(e&&e.length&&e.includes(i))}return!1}(n,t))}function a(e){const t=o(e);return!!(t&&t.length&&t.includes("prg-displayloc-t"))}function c(e){if(!e||!e.length)return e;const t=[];return e.forEach((e=>{const i=e.trim();i.startsWith(n.SD)&&t.push(i)})),t.sort()}},81555:function(e,t,i){"use strict";i.d(t,{_:function(){return n}});const n={addTopSiteButton:"addTopSiteButton",backgroundInnerHolder:"backgroundInnerHolder",backgroundOuterHolder:"backgroundOuterHolder",cardAction:"cardAction",complianceHyperlink:"complianceHyperlink",feedToggle:"feedToggle",gaming:"gaming",headerSpaceHolder:"headerSpaceHolder",marketSelector:"marketSelector",myFeed:"myFeed",navBar:"navBar",newsbarToggle:"newsbarToggle",notificationBell:"notificationBell",office365:"office365",overlayArticleReader:"overlayArticleReader",personalizeButton:"personalizeButton",pillWC:"pillWC",recommendedSites:"recommendedSites",rewardsIcon:"rewardsIcon",rightRailSectionKey:"rightRailSectionKey",searchBox:"search-box-edgenext",searchBoxVoiceButton:"searchBoxVoiceButton",searchHistory:"searchHistoryEdgeNext",settingsButton:"SettingsButton",settingsCloseButton:"settingsCloseButton",settingsInformationalButton:"settingsInformationalButton",singleColumnFeedRoot:"singleColumnFeedRoot",topSitePlaceHolder:"topSitePlaceHolder",topSites:"topSites",topSitesFirstLink:"quicklinksFirstLink",waffle:"waffle"}},9533:function(e,t,i){"use strict";i.d(t,{FY:function(){return s},b_:function(){return a},h_:function(){return c}});var n=i(59294);const r=new Map,o=new Map;function s(e,t){r.set(e,t);const i=o.get(e);i&&i.set(t)}function a(e){return e?r.get(e):null}function c(e){if(!e)return Promise.reject(null);const t=a(e);if(a(e))return Promise.resolve(t);if(o.has(e))return o.get(e).getResultAsync();const i=new n.o;return o.set(e,i),i.getResultAsync()}},10619:function(e,t,i){"use strict";i.d(t,{i:function(){return r}});var n=i(65135);class r{static registerTrackAppErrorEventCallback(e){e&&(this.trackAppErrorEventCallback=e)}static trackAppErrorEvent(e){this.trackAppErrorEventCallback&&this.trackAppErrorEventCallback(e)}}r.trackAppErrorEventCallback=e=>{n.M.sendAppErrorEvent(e)}},59630:function(e,t,i){"use strict";i.r(t),i.d(t,{IrisDataConnector:function(){return N},IrisDataReducer:function(){return j},IrisImageHotSpotsDataValidator:function(){return $},IrisSurfaceName:function(){return g._l},RegisterErrorTrackingCallback:function(){return v.i},ToolingInfo:function(){return U},irisStorageUtility:function(){return n.Vv},isAadAccount:function(){return n.Jw},isNurturingAccepted:function(){return n.XA}});var n=i(12574),r=i(97475),o=i(33940),s=i(33954),a=i(26415),c=i(66213),d=i(65337),l=i(88352),u=i(58155),g=i(91881),p=i(6660),h=i(70260),f=i(6751),m=i(63439),v=i(10619),b=i(53076),y=i(12108),C=i(65974),S=i(20126);const w={[C.A.Edge]:"1",[C.A.Chrome]:"2",[C.A.InternetExplorer]:"3",[C.A.Firefox]:"4",[C.A.Safari]:"5",[C.A.Chromium]:"6",[C.A.EdgeChromium]:"6"},T={homePage:"1",["edge"+y.G.DHP]:"2",["edgeChromium"+y.G.DHP]:"2",["edge"+y.G.NTP]:"3",["edgeChromium"+y.G.NTP]:"3",windows:"7",windowsShell:"7",finance:"8",hub:"8",weather:"8",views:"9",microsoftNews:"11",["mmx"+y.G.Launcher]:"12"},k={[S.Q.Windows]:"WIN10",[S.Q.Macos]:"MACOS",[S.Q.Linux]:"LINUX",[S.Q.Xbox]:"OTHER",[S.Q.Android]:"OTHER",[S.Q.Ios]:"OTHER"};var O=i(7009),E=i(54804),I=i(30490),A=i(90351),P=i(9344),x=i(85663),M=i(82423);class L{static runValidation(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){switch(e){case g._l.MSNAnaheimNewsNTPImages:case g._l.MSNAnaheimNewsNTPImages+g.Yq:{const i=!(0,x.isNullOrUndefined)(t)&&t,r=g.S5[e],o=n.Vv.hasUpdateTimeExpired(r,24),a=n.Vv.hasMarketChanged(r);if(!a&&!o&&!i||c.jG.IsFrePage)return void s.k.log(`IrisDataConnector: Image surface blocked: market changed - ${a}, has image expired - ${o}, dislike triggered - ${i}, FRE - ${c.jG.IsFrePage}.`);let d=null;const l=n.Vv.getImageInfo(r);if(i&&l){d={xSdkIaf:n.Vv.getDislikeList(l.dislikedCreatives)}}const u={addToCall:!0,headers:Object.assign({},d),parameters:Object.assign({},yield this.getCallParametersWithSessionContext(e,"1"))};return s.k.log(`IrisDataConnector: Image surface validated: market changed - ${a}, has image expired - ${o}, dislike triggered - ${i}, FRE - ${c.jG.IsFrePage}.`),u}case g._l.MSNNewsCoachmark:case g._l.MSNNewsCoachmark+g.Yq:{const t=n.Vv.hasUpdateTimeExpired(g.S5[e],24),i=n.Vv.hasMarketChanged(g.S5[e]);if(!t&&!i)return void s.k.log(`IrisDataConnector: Coachmark surface blocked: last update time expired - ${t}, market changed - ${i}.`);const r={addToCall:!0,parameters:Object.assign({},yield this.getCallParametersWithSessionContext(e,"0"))};return s.k.log(`IrisDataConnector: Coachmark surface validated: last update time expired - ${t}, market changed - ${i}.`),r}case g._l.ConditionalBanner:case g._l.ConditionalBanner+g.Yq:{const t=n.Vv.hasUpdateTimeExpired(g.S5[e],24),i=n.Vv.hasMarketChanged(g.S5[e]);if(!t&&!i)return void s.k.log(`IrisDataConnector: Conditional Banner surface blocked: last update time expired - ${t}, market changed - ${i}.`);const r={addToCall:!0,parameters:Object.assign(Object.assign({},yield this.getCallParametersWithSessionContext(e,"0")),L.getConditionalBannerIrisCallParameters(e))};return s.k.log(`IrisDataConnector: Conditional Banner surface validated: last update time expired - ${t}, market changed - ${i}.`),r}case g._l.MSNewsRewards:case g._l.MSNewsRewards+g.Yq:{const t=n.Vv.hasUpdateTimeExpired(g.S5[e],24),i=n.Vv.hasMarketChanged(g.S5[e]);if(!t&&!i)return void s.k.log(`IrisDataConnector: Rewards surface blocked: last update time expired - ${t}, market changed - ${i}.`);const r={addToCall:!0,parameters:Object.assign({},yield this.getCallParametersWithSessionContext(e,"0"))};return s.k.log(`IrisDataConnector: Rewards surface validated: last update time expired - ${t}, market changed - ${i}.`),r}default:return void v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.i29),{message:"Subscriber validation function not found.",pb:Object.assign(Object.assign({},a.i29.pb),{customMessage:"Subscriber: "+e})}))}}))}static getCallParametersWithSessionContext(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){const i={},r=[];i.nocookie="0"===t||"1"===t?t:"0";if("edgeChromium"===c.jG.AppType)for(const e in g.uS){const t=yield n.Vv.getIrisSessionContextAttribute(g.uS[e]);(0,x.isNullOrUndefined)(t)||""===t?g.uS[e]!==g.uS.AcquisitionPath&&g.uS[e]!==g.uS.ConsumerVsEnterprise&&g.uS[e]!==g.uS.PrimaryBrowser&&g.uS[e]!==g.uS.DefaultBrowser&&r.push(g.uS[e]):i[g.uS[e]]=t}const o=this.getPageConfiguration();return""!==o&&(i.pageConfig=o),c.jG&&"edgeChromium"===c.jG.AppType&&""===o&&r.push("pg.c"),r.length>0&&v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.UX3),{message:"Missing parameters for subscriber",pb:Object.assign(Object.assign({},a.UX3.pb),{customMessage:`parameters ${r.toString()} for subscriber ${e}`})})),i}))}static getConditionalBannerIrisCallParameters(e){var t;const i={nocookie:"0"},n=(0,P.ej)(E.Al.AnonCookieName);i.ISSIGNEDIN=n?"1":"0";const r=(0,A.Z)(E.Al,"ClientSettings.apptype"),o=(0,A.Z)(E.Al,"ClientSettings.pagetype"),s=L.mapCanvasId(r,o),d=null===(t=null===c.jG||void 0===c.jG?void 0:c.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.os;s&&(i.MSN_CANVAS=s),d&&("edge"===r&&d===S.Q.Windows?i.OPSYS="WIN10":"homePage"===r&&(i.OPSYS=k[d]));const l=(0,A.Z)(E.Al,"ClientSettings.browser");if(l){const e=l.ismobile;e&&(i.ISMOBILE="TRUE"===e.toUpperCase()?"1":"0");const t=w[l.browserType];t&&(i.BROWSER=t)}const u=[];return"ISSIGNEDIN"in i||u.push("ISSIGNEDIN"),"MSN_CANVAS"in i||u.push("MSN_CANVAS"),"ISMOBILE"in i||u.push("ISMOBILE"),"BROWSER"in i||u.push("BROWSER"),u.length>0&&v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.MWq),{message:"Missing parameters for subscriber",pb:Object.assign(Object.assign({},a.MWq.pb),{customMessage:`parameters ${u.toString()} for subscriber ${e}`})})),i}static getPageConfiguration(){if(c.jG&&"edgeChromium"!==c.jG.AppType)return"";const e=(0,M.K0)(b.z.ChromiumPageSettings);if(!e)return"";const t=e.getCurrentState();if(!t)return"";let i=!1;"function"==typeof e.getPrimaryAccountInfoAsync&&e.getPrimaryAccountInfoAsync().then((e=>{i=e.accountType===O.l7.MSA}));const n=I.T.getPageConfiguration(t,i);return n&&!isNaN(n)?n.toString():void 0}static mapCanvasId(e,t){let i=null;switch(e){case"edge":case"edgeChromium":case"mmx":i=[e+t];break;default:i=e}return T[i]}}var D=i(65135),F=i(12884);function R(){return(0,o.mG)(this,void 0,void 0,(function*(){const e=yield new Promise((e=>{const t=window.chrome;if(t){const i=t.ntpSettingsPrivate;if(i&&"function"==typeof i.getConfigData)return void i.getConfigData((t=>{e(t&&t.enabledFeatures?t.enabledFeatures:null)}))}e(null)})),t=[];return e&&e.forEach((e=>{e.includes("msNtpExp")&&t.push(e)})),t}))}class N extends m.e{constructor(e,t,i,r,s,a,l){if(super(e,t,i,r,s,a,l),this.availableCreatives=new Map,this.headers=[void 0],this.queryParameters=[void 0],this.surfaceInfoMap=new Map,a.disableIrisCalls||!a.subscribers)return void(this.callWasMade=!1);this.irisDataPromise=new Promise((e=>(0,o.mG)(this,void 0,void 0,(function*(){yield n.Vv.configDataPromise,n.Vv.IrisDataConfig=a,this.appType=c.jG&&c.jG.AppType,this.internalPlacementUsed=(0,g.cF)(),this.appType?(this.isBlackoutPeriodOver="edgeChromium"!==this.appType||(yield n.Vv.isBlackoutPeriodOver()),yield n.Vv.populateCachedSurfaceMap(),Object.keys(this.config.subscribers).forEach((e=>(0,o.mG)(this,void 0,void 0,(function*(){const t=this.internalPlacementUsed?e+g.Yq:e,i=g.S5[t],r=n.Vv.getCachedSurface(i);r&&r.placement&&this.surfaceInfoMap.set(i,r)})))),yield this.prepareCallData(),!this.queryParameters||this.queryParameters.length<1?this.callWasMade=!1:(this.callIris(),this.callWasMade=!0),e()):this.callWasMade=!1})))),this.irisDataPromise;const u=this.config.subscribers;Object.keys(u).forEach((e=>{const t=u[e].captureInitialStateOfCampaigns;if(t)for(const e in t)(0,d.$o)().getObject(e)&&D.M.addOrUpdateTmplString(`userEligibleToSeeCoachmark_${e}:1`)}))}sendActionUpdate(e,t,i,r,o){let a;e&&t&&!this.isImagePlacement(e)&&(i===p.R.Impression?n.Vv.markCreativeAsSeenByUser(e,t):n.Vv.updateAction(e,t,o),n.Vv.persistAllSurfaces()),a=i===p.R.Impression?r.impressionUrl:h._.formatTelemetryActionUrl(r.actionUrl,o);try{f.c.sendActionUpdate(a)}catch(e){s.k.log(`IrisDataConnector: Failed to report iris action update beacon due to error: ${JSON.stringify(e)}`)}}getImagePayload(e){return(0,o.mG)(this,void 0,void 0,(function*(){return e&&(yield this.prepareCallData(!0),this.callIris(),this.callWasMade=!0),yield this.getPayload(g._l.MSNAnaheimNewsNTPImages)}))}getPayload(e){return(0,o.mG)(this,void 0,void 0,(function*(){yield this.irisDataPromise,this.callWasMade&&(yield this.callIrisPromise);let t=this.shouldUseRequestedIrisSurface();if(t&&t===e){this.internalPlacementUsed&&(t+=g.Yq);const e=g.S5[t];return yield this.tryGetSurfaceInfo(e)}const i=e&&this.internalPlacementUsed?e+g.Yq:e;if(!(0,x.isNullOrUndefined)(g.S5[i])){const e=g.S5[i];return yield this.tryGetSurfaceInfo(e)}return s.k.log(`IrisDataConnector: Surface requested ${i} was not found. `),null}))}tryGetSurfaceInfoInternal(e){return(0,o.mG)(this,void 0,void 0,(function*(){if(!this.surfaceInfoMap.has(e))return s.k.log(`IrisDataConnector: Placement: ${e} was not populated by local/persistent storage nor downloaded by network call.`),null;let t=this.surfaceInfoMap.get(e);return t=n.Vv.getSurfaceWithSelectedCreative(t),t}))}tryGetSurfaceInfo(e){return(0,o.mG)(this,void 0,void 0,(function*(){if(!this.surfaceInfoMap.has(e))return s.k.log(`IrisDataConnector: Placement: ${e} was not populated by local/persistent storage nor downloaded by network call.`),null;let t=this.surfaceInfoMap.get(e);return g.S5[g._l.MSNAnaheimNewsNTPImages]===e||g.S5[g._l.MSNAnaheimNewsNTPImages+g.Yq]===e||this.shouldBlockPsl()?t:(yield(0,n.Jw)())?(s.k.log(`IrisDataConnector: This is AAD user so not returning SurfaceInfo for: ${e} to experience.`),null):n.Vv.haveWeShownCurrentCreativeRecently(t)?(s.k.log(`IrisDataConnector: Already shown a campaign within 14 days so not returning SurfaceInfo for: ${e} to experience.`),null):n.Vv.haveWeShownCreativeTooManyTimes(t)?(s.k.log(`IrisDataConnector: Already shown a campaign too many times: ${e}.`),null):(t=n.Vv.getSurfaceWithSelectedCreative(t),t.creatives.length>0&&t.creatives[0].creativeId===this.creativeToShowUser?(s.k.log(`IrisDataConnector: Returning SurfaceInfo for: ${e} to experience.`),t):(s.k.log(`IrisDataConnector: Tried to return unselected campaign: ${e}.`),null))}))}prepareCallData(e){return(0,o.mG)(this,void 0,void 0,(function*(){this.queryParameters=[null],this.headers=[null];const t=[],i=[];let r,o,s=[];const c=yield(0,n.XA)();for(const n of Object.keys(this.config.subscribers)){let d;if(!this.config.subscribers[n].active)continue;const u=this.queryParameters.length,p=this.internalPlacementUsed?n+g.Yq:n,h=g.S5[p];if(!h){v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.LRf),{message:"Subscriber not found in iris placement dictionary",pb:Object.assign(Object.assign({},a.LRf.pb),{customMessage:`Subscriber ${p} not found in dictionary`})}));continue}const f=this.isImagePlacement(h),m=!(0,x.isNullOrUndefined)(e)&&e;if(!f&&(m||this.appType&&"edgeChromium"===this.appType&&!c||!this.isBlackoutPeriodOver))continue;const{creativeCount:b,performValidation:y,staticQueryParams:C,aflights:S}=this.config.subscribers[n];if(y&&(d=yield L.runValidation(p,m),!d||!d.addToCall))continue;let w=b||1;w=d&&d.parameters&&d.parameters.bcnt?d.parameters.bcnt:w,w<=0?v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.TVf),{message:"Creative count value is negative or zero",pb:Object.assign(Object.assign({},a.TVf.pb),{customMessage:`Creative count value is negative or zero : ${p}`})})):(f?this.queryParameters[u]={bcnt:w,placement:h}:(i.push(w),t.push(h)),l.b.isNotNullOrUndefined(C)&&(f?this.queryParameters[u]=Object.assign(Object.assign({},this.queryParameters[u]),C):o=Object.assign(Object.assign({},o),C)),d&&d.parameters&&l.b.isNotNullOrUndefined(d.parameters)&&(f?this.queryParameters[u]=Object.assign(Object.assign({},this.queryParameters[u]),d.parameters):o=Object.assign(Object.assign({},o),d.parameters)),d&&d.headers&&l.b.isNotNullOrUndefined(d.headers)&&(f?this.headers[u]=d.headers:this.headers[0]=Object.assign(Object.assign({},this.headers[0]),d.headers)),l.b.isNotNullOrUndefined(S)&&"object"==typeof S&&(f?this.queryParameters[u].aflights=S.join(";"):s=S),g.S5[g._l.MSNNewsCoachmark+g.Yq]===h&&(r=(0,g.M1)()))}if(l.b.isNotNullOrUndefined(this.config.dynamicQueryParams)){o=Object.assign(Object.assign({},o),this.config.dynamicQueryParams);for(let e=1;e<this.queryParameters.length;e++)this.queryParameters[e]=Object.assign(Object.assign({},this.queryParameters[e]),this.config.dynamicQueryParams)}t.length>0&&(this.queryParameters[0]=o||{placement:void 0},this.queryParameters[0].placement=t.join("|"),this.queryParameters[0].bcnt=i.join("|"),this.queryParameters[0].aflights=s.join(";"),r&&parseInt(r)>-1&&(this.queryParameters[0].testingNum=r));const d=(yield R()).join(";");for(let e=0;e<this.queryParameters.length;e++)this.queryParameters[e]&&(this.queryParameters[e].SCS_msNtpExp=d||"")}))}callIris(){this.callIrisPromise=new Promise((e=>(0,o.mG)(this,void 0,void 0,(function*(){try{for(let e=0;e<this.queryParameters.length;e++){if((0,x.isNullOrUndefined)(this.queryParameters[e]))continue;this.surfaceCollectionContext=yield f.c.requestSurfaceInfo(this.queryParameters[e],this.headers[e]);const t=this.getSurfacesFromCollection();yield n.Vv.addSurfacesToStorage(t)}}catch(e){this.callWasMade=!1,D.M.sendAppErrorEvent(Object.assign(Object.assign({},a.IrA),{message:"IrisDataConnector: Exception requesting iris surfaces from data connector.",pb:Object.assign(Object.assign({},a.IrA.pb),{customMessage:`Error: ${JSON.stringify(e)} requestUrl: ${this.config.irisEndpoint} queryParameters: ${JSON.stringify(this.queryParameters)} headers: ${JSON.stringify(this.headers)}`})}))}e()})))),this.callIrisPromise}getSurfacesFromCollection(){const e=this.config.subscribers;if(!(e&&this.surfaceCollectionContext&&this.surfaceCollectionContext.collection&&this.surfaceCollectionContext.reqContext&&this.surfaceCollectionContext.reqContext.queryParams&&this.surfaceCollectionContext.reqContext.queryParams.placement))return D.M.sendAppErrorEvent(Object.assign(Object.assign({},a.cZM),{message:`Surface collection context missing parameters. Surface Context: ${JSON.stringify(this.surfaceCollectionContext)}`})),null;const t=[];Object.keys(e).forEach((i=>{const n=this.getSurfaceFromCollection(i);n&&n.placement&&(s.k.log(`IrisDataConnector: Parsed response for ${n.placement} from Iris network call. Now adding to map.`),t.push(n),this.surfaceInfoMap.set(n.placement,n),this.captureInitialEligibilityStateOfCampaigns(n,e[i].captureInitialStateOfCampaigns))}));const i=this.shouldUseRequestedIrisSurface(),n=this.internalPlacementUsed&&i?i+g.Yq:i;if((0,x.isNullOrUndefined)(n)){const e=Math.floor(Math.random()*(t.length-1));let i=0;this.availableCreatives.forEach(((t,n)=>{e!==i?i++:this.creativeToShowUser=this.availableCreatives.get(n)}))}else this.creativeToShowUser=this.availableCreatives.get(g.S5[n]);return t}getSurfaceFromCollection(e){const t=this.internalPlacementUsed?e+g.Yq:e,i=g.S5[t];if(this.surfaceCollectionContext.collection.hasUnclaimedErrors()){this.surfaceCollectionContext.collection.getUnclaimedErrors().forEach((e=>{2040!=(e&&e.code?e.code:e.errors&&e.errors.length>0&&e.errors[0].code)&&v.i.trackAppErrorEvent(Object.assign(Object.assign({},a.jWk),{message:"Surface errors discovered",pb:Object.assign(Object.assign({},a.jWk.pb),{customMessage:`Error with surface: ${t} Code: ${e.code} Message: ${e.msg} queryParams: ${JSON.stringify(this.surfaceCollectionContext.reqContext.queryParams)}`})}))}))}const n=this.surfaceCollectionContext.collection.get(i);return n&&n.placement&&n.creatives&&n.creatives.length>0&&!this.isImagePlacement(n.placement)&&this.availableCreatives.set(n.placement,n.creatives[0].creativeId),n}captureInitialEligibilityStateOfCampaigns(e,t){e.creatives&&t&&"object"==typeof t&&e.creatives.forEach((i=>{let n=!1;for(const r in t)if(e.placement===t[r]&&i.creativeId===r){n=!0;break}const r=(0,d.$o)().getObject(i.creativeId);(0,x.isNullOrUndefined)(r)&&(0,d.$o)().setObject(i.creativeId,n)}))}shouldUseRequestedIrisSurface(){const e=(0,F.zp)();if(e){const t=u.c.getQueryParameterByName("irisSurface",e);if(t)return t}return null}shouldBlockPsl(){const e=(0,F.zp)();if(e){const t=u.c.getQueryParameterByName("blockPsl",e);if(t)return"true"===t.toLocaleLowerCase()}return!1}isImagePlacement(e){return g.S5[g._l.MSNAnaheimNewsNTPImages]===e||g.S5[g._l.MSNAnaheimNewsNTPImages+g.Yq]===e}fetchedNewImage(){const e=this.internalPlacementUsed?g._l.MSNAnaheimNewsNTPImages+g.Yq:g._l.MSNAnaheimNewsNTPImages,t=g.S5[e],i=this.surfaceCollectionContext&&this.surfaceCollectionContext.collection&&this.surfaceCollectionContext.collection.get(t);return!(0,x.isNullOrUndefined)(i)}resetImageLastUpdateTime(){const e=this.internalPlacementUsed?g._l.MSNAnaheimNewsNTPImages+g.Yq:g._l.MSNAnaheimNewsNTPImages,t=g.S5[e];n.Vv.resetSurfaceLastUpdateTime(t)}}class j{reduce(){return null}}var B=i(83760);class ${static hasCTASupportData(e){return!(0,x.isNullOrUndefined)(e)&&this.stringHasLength(e.cta)}static hasHotSpotData(e){return!(0,x.isNullOrUndefined)(e)&&e.hs&&"object"==typeof e.hs&&e.hs.length>0}static hasImageData(e){return!(0,x.isNullOrUndefined)(e)&&this.stringHasLength(e.LANDSCAPE)&&this.stringHasLength(e.PORTRAIT)}static hasImageRefreshData(e){return!(0,x.isNullOrUndefined)(e)&&this.stringHasLength(e.update_period)}static hasMuseumData(e){return!(0,x.isNullOrUndefined)(e)&&this.stringHasLength(e.title)&&this.stringHasLength(e.copyright)}static hasPositionData(e){return this.stringHasLength(e.x_percent)&&this.stringHasLength(e.y_percent)&&e.x_percent.length<=this.MaxPositionLength&&e.y_percent.length<=this.MaxPositionLength&&/^0?\.\d{1,3}$/.test(e.x_percent)&&/^0?\.\d{1,3}$/.test(e.y_percent)}static hasPositions(e){return!(0,x.isNullOrUndefined)(e.landscape)&&this.hasPositionData(e.landscape)&&!(0,x.isNullOrUndefined)(e.portrait)&&this.hasPositionData(e.portrait)}static hasTelemetryIndex(e){return this.stringHasLength(e.hs)}static hasTextComponents(e){return this.stringHasLength(e.title)}static hasValidCTAType(e){return!((0,x.isNullOrUndefined)(e)||!this.stringHasLength(e.cta_type)||e.cta_type!==B.W.offPageNavigation)}static hotSpotIsValid(e){return!(0,x.isNullOrUndefined)(e)&&this.hasTelemetryIndex(e)&&this.hasTextComponents(e)&&this.hasPositions(e)}static isValidImageHotSpotsCreative(e){return $.hasImageData(e)&&$.hasImageRefreshData(e)}static isValidStoredData(e){return!(0,x.isNullOrUndefined)(e)&&!(0,x.isNullOrUndefined)(e.imgExpiration)&&this.stringHasLength(e.imgLandURL)&&this.stringHasLength(e.imgPortURL)&&this.stringHasLength(e.reqMarket)}static stringHasLength(e){return!(0,x.isNullOrUndefined)(e)&&"string"==typeof e&&e.length>0}static hasValidCTASupportData(e,t){return!(!e||!t)&&(e===B.W.offPageNavigation&&this.isValidOffPageNavData(t))}static isValidOffPageNavData(e){return/^((microsoft-edge:)?https:\/\/((www)|(cn)|(go))\.((msn)|(bing)|(skype)|(microsoft))\.com)|(edge:\/\/)/.test(e)}}$.MaxPositionLength=5;var H=i(6489);const U={experienceConfigSchema:r.IrisDataConfigSchema,mockConfig:H.mockConfig}},12574:function(e,t,i){"use strict";i.d(t,{Vv:function(){return k},Jw:function(){return E},XA:function(){return O}});var n=i(33940),r=i(33954),o=i(26415),s=i(17440),a=i(65135);const c=new class{getAllCampaigns(){return new Promise((e=>(0,n.mG)(this,void 0,void 0,(function*(){try{(yield s.U.isApiAvailableToUse())?s.U.getPreferenceSetting("campaigns").then((t=>{const i=t&&t.value;i||r.k.logError("PSL: window.chrome.ntpSettingsPrivate.getPref does not have campaigns."),e(i||[])})):(a.M.sendAppErrorEvent(Object.assign(Object.assign({},o.f_s),{message:"PSL: Error fetching campaigns due to window.chrome.ntpSettingsPrivate.getPref api not available for this version of EDGE"})),r.k.logError("PSL: Error fetching campaigns due to window.chrome.ntpSettingsPrivate.getPref api not available for this version of EDGE"),e([]))}catch(t){a.M.sendAppErrorEvent(Object.assign(Object.assign({},o.CBf),{message:`PSL fetch error. ${JSON.stringify(t)}`})),r.k.logError(t),e([])}}))))}persistCampaigns(e){return new Promise((t=>(0,n.mG)(this,void 0,void 0,(function*(){try{(yield s.U.isApiAvailableToUse())?(yield s.U.savePreferenceSetting("campaigns",e),r.k.log(`PSL: Number of campaigns persisted: ${e.length||0}.`),t(!0)):(a.M.sendAppErrorEvent(Object.assign(Object.assign({},o.RLb),{message:"PSL: Error persisting campaigns due to window.chrome.ntpSettingsPrivate.getPref api not available for this version of EDGE"})),r.k.logError("PSL: Error persisting campaigns due to window.chrome.ntpSettingsPrivate.getPref api not available for this version of EDGE"))}catch(e){a.M.sendAppErrorEvent(Object.assign(Object.assign({},o.CBf),{message:`PSL persist error. ${JSON.stringify(e)}`})),r.k.logError(e)}t(!1)}))))}clearPersistentStorage(){return this.persistCampaigns([])}};var d=i(65337);const l=new class{constructor(){this.storageKey="irisNewsLocalStorage"}getAllCampaigns(){try{return(0,d.$o)().getObject(this.storageKey)}catch(e){return r.k.logError(`Exception ${e} occurred retrieving user nurturing campaigns from local storage`),[]}}storeCampaigns(e){try{return(0,d.$o)().setObject(this.storageKey,e),r.k.log(`Number of campaigns persisted in local storage: ${e.length||0}.`),!0}catch(e){return r.k.logError(`Exception ${e} occurred storing user nurturing campaigns in local storage`),!1}}clearLocalStorage(){return this.storeCampaigns([])}};var u=i(66213),g=i(58155),p=i(88352),h=i(2040),f=i(54804),m=i(33799),v=i(52144),b=i(91881),y=i(12884),C=i(33379),S=i(72344),w=i(10619),T=i(85663);const k=new class{constructor(){this.cachedSurfaceMap=new Map,this.enabledFeatures=[],this.irisSessionContextAttributes=new Map,this.millisecondsInADay=864e5,this.timeNow=(new Date).getTime(),this.appType=u.jG&&u.jG.AppType,"edgeChromium"===this.appType&&(this.configDataPromise=this.getConfigDataAsync()),this.currentURL=(0,y.zp)()}get isEnabled(){return!!this.shouldUseCache()||!(!this.irisDataConfig||!this.irisDataConfig.enableCaching)&&this.isCookieConsentNotRequired()}set IrisDataConfig(e){this.irisDataConfig=e}clearCachedSurfaceMap(){this.isEnabled&&this.cachedSurfaceMap.clear()}populateCachedSurfaceMap(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isEnabled)try{if(this.purgeCacheWithQsp())return yield this.clearCachedSurfacesFromStorage(),void r.k.log("Cache purged!");this.clearCachedSurfaceMap();let e=[];if(e="edgeChromium"===u.jG.AppType?yield c.getAllCampaigns():l.getAllCampaigns(),!e||0===e.length)return void r.k.log("Bulk read of surfaces from local/persistent storage didn't return a surface.");const{subscribers:t}=this.irisDataConfig,i=[];Object.keys(t).forEach((e=>{t[e].active||i.push(b.S5[e])})),e.forEach((e=>{e&&e.placement&&(0===i.length||-1===i.indexOf(e.placement))&&(this.cachedSurfaceMap.set(e.placement,e),r.k.log(`Populated ${e.placement} from local/persistent storage.`))}))}catch(e){r.k.logError(`Bulk read of surfaces from local/persistent storage threw error: ${e}`)}}))}getCachedSurface(e){if(!e||0===e.length||0===this.cachedSurfaceMap.size)return null;if(!this.cachedSurfaceMap.has(e))return null;const t=this.cachedSurfaceMap.get(e);return t&&t.creatives&&0!==t.creatives.length?t:null}addSurfaceToCachedSurfaceMap(e){if(!e||!e.placement)return;const t=e.placement,i=new Map;let n;if(this.cachedSurfaceMap.has(t)&&(n=this.cachedSurfaceMap.get(t),n.creatives.forEach((e=>{i.set(e.creativeId,e)}))),e.creatives&&e.creatives.length>0){const t=(0,b.cF)()?b._l.MSNAnaheimNewsNTPImages+b.Yq:b._l.MSNAnaheimNewsNTPImages,r=b.S5[t];if(e.placement===r){if(n&&n.imageInfo)e.imageInfo=n.imageInfo;else{const t={dislikedCreatives:[],dislikedCreativeCountCurrentPeriod:0};e.imageInfo=t}this.hasUpdateTimeExpired(r,24)&&(e.imageInfo.dislikedCreativeCountCurrentPeriod=0),i.clear(),i.set(e.creatives[0].creativeId,e.creatives[0])}e.creatives.forEach((e=>{const t=i.get(e.creativeId);if(t&&(t.content=e.content,i.set(e.creativeId,t)),!t){const t={lastAddedTime:this.timeNow,useCount:0,useTime:0};e.storageInfo=t,i.set(e.creativeId,e)}}))}e.creatives=[...i.values()],this.cachedSurfaceMap.set(t,e),r.k.log(`Adding/Updating SurfaceInfo ${t} in storage.`)}addSurfacesToStorage(e){return(0,n.mG)(this,void 0,void 0,(function*(){e&&e.length>0&&(e.forEach((e=>{this.addSurfaceToCachedSurfaceMap(e)})),yield this.persistAllSurfaces())}))}persistAllSurfaces(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isEnabled){if("edgeChromium"===u.jG.AppType)return void(yield c.persistCampaigns([...this.cachedSurfaceMap.values()]));l.storeCampaigns([...this.cachedSurfaceMap.values()])}}))}clearCachedSurfacesFromStorage(){return(0,n.mG)(this,void 0,void 0,(function*(){this.isEnabled&&(this.clearCachedSurfaceMap(),"edgeChromium"!==u.jG.AppType?l.clearLocalStorage():yield c.clearPersistentStorage())}))}resetSurfaceLastUpdateTime(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!this.isEnabled&&!this.cachedSurfaceMap.get(e))return;const t=this.cachedSurfaceMap.get(e);t.lastUpdatedTime=-1,this.cachedSurfaceMap.set(e,t),this.persistAllSurfaces()}))}getCachedSurfaceMap(){return this.cachedSurfaceMap}haveWeShownCurrentCreativeRecently(e){if((0,T.isNullOrUndefined)(e.currentCreativeId))return!0;if(this.ignoreCreativeUseTime())return!1;let t=!0;return e.creatives.forEach((i=>{i.creativeId===e.currentCreativeId&&i.storageInfo&&i.storageInfo.useTime+14*this.millisecondsInADay<this.timeNow&&(t=!1)})),t}haveWeShownCreativeTooManyTimes(e){if((0,T.isNullOrUndefined)(e)||(0,T.isNullOrUndefined)(e.currentCreativeId))return!0;if(this.ignoreMaxCapPerCreative())return!1;let t=!0;return e.creatives.forEach((i=>{e.currentCreativeId===i.creativeId&&i.storageInfo&&i.storageInfo.useCount<=2&&(t=!1)})),t}getSurfaceWithSelectedCreative(e){if((0,T.isNullOrUndefined)(e.currentCreativeId))return null;let t;return e.creatives.forEach((i=>{e.currentCreativeId===i.creativeId&&(t=i)})),Object.assign(Object.assign({},e),{creatives:[t]})}updateAction(e,t,i){if(e&&t&&this.cachedSurfaceMap.has(e)){const n=this.cachedSurfaceMap.get(e);n&&n.creatives&&n.creatives.forEach((e=>{e.creativeId===t&&e.storageInfo&&(e.storageInfo.irisAction=i)}))}}markCreativeAsSeenByUser(e,t){if(e&&t&&this.cachedSurfaceMap.has(e)){const i=this.cachedSurfaceMap.get(e);i&&i.creatives&&i.creatives.forEach((e=>{e&&e.creativeId&&e.creativeId===t&&e.storageInfo&&(e.storageInfo.useCount++,e.storageInfo.lastAddedTime=this.timeNow,e.storageInfo.useTime=this.timeNow)}))}}updateCreativeLatestAddedTime(e,t,i){if(!this.cachedSurfaceMap.has(e))return;const n=this.cachedSurfaceMap.get(e);n&&n.creatives&&0!==n.creatives.length&&n.creatives.forEach((e=>{e&&e.creativeId===t&&e.storageInfo&&e.storageInfo.lastAddedTime&&(e.storageInfo.lastAddedTime=i)}))}purgeCacheWithQsp(){if(this.currentURL){const e=g.c.getQueryParameterByName("purgeCache",this.currentURL);if(e&&"true"===e.toLocaleLowerCase())return!0}return!1}shouldUseCache(){if(this.currentURL){const e=g.c.getQueryParameterByName("useCache",this.currentURL);if(e)return"true"===e.toLocaleLowerCase()}return!1}ignoreMaxCapPerCreative(){if(this.currentURL){const e=g.c.getQueryParameterByName("ignoreMaxCapPerCreative",this.currentURL);if(e)return"true"===e.toLocaleLowerCase()}return!1}ignoreUpdateTimeExpiration(){if(this.currentURL){const e=g.c.getQueryParameterByName("ignoreUpdateTimeExpiration",this.currentURL);if(e)return"true"===e.toLocaleLowerCase()}return!1}ignoreCreativeUseTime(){if(this.currentURL){const e=g.c.getQueryParameterByName("ignoreCreativeUseTime",this.currentURL);if(e)return"true"===e.toLocaleLowerCase()}return!1}ignoreBlackout(){if(this.currentURL){const e=g.c.getQueryParameterByName("ignoreBlackout",this.currentURL);if(e)return"true"===e.toLocaleLowerCase()}return!1}isCookieConsentNotRequired(){return v.A.get(v.U.CookieConsentStatus)===S._.NotRequired}getConfigDataAsync(){return(0,n.mG)(this,void 0,void 0,(function*(){return this.getConfigDataPromise=new Promise((e=>{try{(0,C.N)()&&window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate.getConfigData?window.chrome.ntpSettingsPrivate.getConfigData((t=>{void 0!==t?(this.profileCreationTimeInMs=t.profileCreationTime,this.enabledFeatures=t.enabledFeatures,this.setIrisSessionContextAttributes(t.irisAttributes),this.configData=t,e()):(w.i.trackAppErrorEvent(Object.assign(Object.assign({},o.Zt_),{message:"Config data is undefined"})),e())})):(w.i.trackAppErrorEvent(Object.assign(Object.assign({},o.Ez4),{message:"Failed to fetch config data from chromium API"})),e())}catch(t){w.i.trackAppErrorEvent(Object.assign(Object.assign({},o._bN),{message:"Exception fetching config data from chromium API",pb:Object.assign(Object.assign({},o._bN.pb),{customMessage:`Exception: ${t}`})})),e()}})),this.getConfigDataPromise}))}isBlackoutPeriodOver(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.ignoreBlackout())return!0;if("edgeChromium"===this.appType){if(u.jG.IsFrePage)return!1;yield this.getConfigDataPromise}const e=this.irisDataConfig.blackoutPeriodInDays&&this.irisDataConfig.blackoutPeriodInDays*this.millisecondsInADay||7*this.millisecondsInADay;return!!this.profileCreationTimeInMs&&this.timeNow-this.profileCreationTimeInMs>e}))}getIrisSessionContextAttribute(e){return(0,n.mG)(this,void 0,void 0,(function*(){return"edgeChromium"===this.appType&&(yield this.getConfigDataPromise),this.irisSessionContextAttributes.has(e)?this.irisSessionContextAttributes.get(e):""}))}setIrisSessionContextAttributes(e){if(p.b.isNotNullOrUndefined(e)&&e.length>0){e.startsWith("&")&&e.length>=1&&(e=e.substring(1));e.split("&").map((e=>e.split("="))).forEach((e=>{this.irisSessionContextAttributes.set(e[0],e[1])}))}}getConfigData(){return this.configData}hasUpdateTimeExpired(e,t){if(this.ignoreUpdateTimeExpiration())return!0;const i=this.cachedSurfaceMap.get(e);if((0,T.isNullOrUndefined)(i))return r.k.log(`IrisDataConnector: Has update time expired. placement: ${e}. Placement not in PSL.`),!0;const n=(0,T.isNullOrUndefined)(i.lastUpdatedTime)?-1:i.lastUpdatedTime;if(n<0)return r.k.log(`IrisDataConnector: Has update time expired. placement: ${e}. Invalid lastUpdatedTime.`),!0;const o=n+36e5*t;return r.k.log(`IrisDataConnector: Has update time expired. placement: ${e}. Current time: ${this.timeNow}, lastUpdatedTime: ${o}. Result: ${o<this.timeNow}`),o<this.timeNow}getDislikeList(e){return e&&e.length>0?e.join(";"):""}hasMarketChanged(e){const t=this.cachedSurfaceMap.get(e);if((0,T.isNullOrUndefined)(t))return r.k.log(`IrisDataConnector: has market changed. placement: ${e}. Placement not in PSL.`),!0;const i=!!(0,T.isNullOrUndefined)(t.lastUpdatedMarket)||t.lastUpdatedMarket!==u.jG.CurrentMarket;return r.k.log(`IrisDataConnector: has market changed. placement: ${e} - ${i}.`),i}getImageInfo(e){const t=this.cachedSurfaceMap.get(e);return t&&t.imageInfo?t.imageInfo:null}addImageCreativeToDislikeList(){const e=(0,b.cF)()?b.S5[b._l.MSNAnaheimNewsNTPImages+b.Yq]:b.S5[b._l.MSNAnaheimNewsNTPImages],t=this.cachedSurfaceMap.get(e),i=t.creatives[0].creativeId;if((0,T.isNullOrUndefined)(t)||(0,T.isNullOrUndefined)(t.imageInfo))return!1;if(t.imageInfo.dislikedCreativeCountCurrentPeriod>=5)return!1;if((0,T.isNullOrUndefined)(t.imageInfo.dislikedCreatives))t.imageInfo.dislikedCreatives=[i];else{const e=t.imageInfo.dislikedCreatives.length;let n=!1;if(t.imageInfo.dislikedCreatives.forEach((e=>{e!==i||(n=!0)})),n)return!0;e>=20&&t.imageInfo.dislikedCreatives.shift(),t.imageInfo.dislikedCreatives.push(i)}return t.imageInfo.dislikedCreativeCountCurrentPeriod+=1,k.persistAllSurfaces(),!0}};function O(e=!1){return(0,n.mG)(this,void 0,void 0,(function*(){if(!e&&(yield E()))return!1;try{return!1!==(0,d.$o)().getObject(h.Ny)}catch(e){return w.i.trackAppErrorEvent(Object.assign(Object.assign({},o.Qhy),{message:"Failed to fetch nurturing accepted key from local storage",pb:Object.assign(Object.assign({},o.Qhy.pb),{customMessage:`Exception: ${e} occurred while reading key: ${h.Ny} from local storage.`})})),!1}}))}function E(){return(0,n.mG)(this,void 0,void 0,(function*(){yield u.jG.AccountInfoPromise;const e=u.jG.ResolvedAccountInfo;return(0,T.isNullOrUndefined)(f.Al.AadState)?m.Qm.AAD===(e&&e.account_type):f.Al.AadState}))}},70260:function(e,t,i){"use strict";i.d(t,{_:function(){return g}});var n=i(33940),r=i(26415),o=i(33954),s=i(84606),a=i(61857),c=i(91881),d=i(65135),l=i(66213),u=i(85663);class g{static createIrisRequestContext(e,t){return Object.assign({queryParams:e},t?{includedHeaders:t}:{})}static callIris(e){return(0,n.mG)(this,void 0,void 0,(function*(){if((0,u.isNullOrUndefined)(e))throw s.l.create(s.N.MissingContext,"IRIS: Request context undefined or null",r.YSG,`Request context: ${JSON.stringify(e)}`);const t=this.validateQParams(e.queryParams);if(t)throw s.l.create(s.N.QueryParametersInvalid,"IRIS: Invalid query parameters",r.LIN,`Error validating query parameters: ${t} query parameters: ${JSON.stringify(e.queryParams)}`);const i=g.generateGuid();e.queryParams.asid=i;const n=window.fetch.bind(window),l=this.assembleQParameters(e.queryParams),p=this.formatQParameters(l),h=new URL(c.TY+"?"+p),f=this.getHeaders(e.includedHeaders),m=this.getRequestInit(f);let v;const b=(0,a.zq)();setTimeout((()=>{v="Timeout occurred.",b.resolve()}),c.KI);const y=yield Promise.race([b.waiting,n(h,m).catch((e=>{v=`Fetch failure caused by ${JSON.stringify(e)}`}))]),C=y&&y.status;if(!y||C&&!(C>=200&&C<300))throw v&&(/^Timeout/.test(v)||/^Fetch/.test(v))&&(o.k.log(`Iris: Arc call failed due to ${v}`),d.M.sendAppErrorEvent(Object.assign(Object.assign({},r.S2e),{message:`Arc call failed due to ${v}`}))),s.l.create(s.N.ResponseFailure,"Iris: Arc call failed.",r._ig,`Request url: ${h} Response status code: ${C} Response: ${JSON.stringify(y)}`);let S;try{if(S=yield y.text(),!S)throw"empty response body";const t=JSON.parse(S);if(!t)throw"error parsing json response";return{parsedResponse:t,reqContext:e}}catch(e){throw s.l.create(s.N.ResponseFailure,`Iris: Unable to parse iris resposne due to ${e}`,r.hnc,`Request url: ${h} Response status code: ${C} Response: ${JSON.stringify(y)}`)}}))}static formatTelemetryActionUrl(e,t){return e&&t?e.replace(/\{ACTION\}/,t):null}static updateIris(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if((0,u.isNullOrUndefined)(e))throw s.l.create(s.N.ActionUrlInvalid,"Iris: Action beacon undefined or null",void 0,`Iris action url: ${e} headers: ${JSON.stringify(t)}`);const i=window.fetch.bind(window),n=new URL(e),l=this.getHeaders(t),g=this.getRequestInit(l);let p;const h=(0,a.zq)();setTimeout((()=>{p="Timeout occurred.",h.resolve()}),c.VT);const f=yield Promise.race([h.waiting,i(n,g).catch((e=>{p=`fetch failure caused by: ${JSON.stringify(e)}`}))]),m=f&&f.status;if(!f||m&&m<200&&m>=300)throw p&&(/^Timeout/.test(p)||/^Fetch/.test(p))&&(o.k.log(`Iris: Arc call failed due to ${p}`),d.M.sendAppErrorEvent(Object.assign(Object.assign({},r.s51),{message:`Arc call failed due to ${p}`}))),s.l.create(s.N.ActionResponseInvalid,"Iris: Arc call failed.",r.a2y,`Request url: ${n} Response status code: ${m} Response: ${JSON.stringify(f)}`);return f}))}static createPropertyBagErrorMessage(e,t,i,n){return`Placement=${e}, Asid=${t}, Market=${i}, ${n}`}static getHeaders(e){const t=new Headers;return e&&((0,u.isNullOrUndefined)(e.xSdkIaf)||t.set("x-sdk-iaf",e.xSdkIaf)),t}static formatQParameters(e){if((0,u.isNullOrUndefined)(e))return null;const t=/[^=]/,i=[];for(const n in e)!(0,u.isNullOrUndefined)(e[n])&&t.test(e[n])&&i.push(`${n}=${e[n]}`);return i.length>0?i.join("&"):null}static getDefaultAppParameters(e){if(!l.jG)return o.k.log(`Iris: Missing App Environment Object: ${l.jG}`),d.M.sendAppErrorEvent(Object.assign(Object.assign({},r.EXN),{message:`App environment undefined. Placement: ${JSON.stringify(e.placement)}`})),null;let t;const i={locale:l.jG.CurrentMarket,country:l.jG.CountryCode,muid:l.jG.UserId?l.jG.UserId.replace(/^m-/,""):null};return i.muid||(t=`UserId: ${i.muid}`),i.locale||(t=(t?", ":"")+`Market: ${i.locale}`),i.country||(t=(t?", ":"")+`CountryCode: ${i.country}`),t&&(o.k.log(`Iris: Missing ${t} from App Environment Object`),d.M.sendAppErrorEvent(Object.assign(Object.assign({},r.yyJ),{message:`Missing App environment properties. Placement: ${JSON.stringify(e.placement)}. Error: ${t}`}))),i}static getRequiredStaticParameters(){return{nct:"1",fmt:"json",nocookie:"1"}}static assembleQParameters(e){if((0,u.isNullOrUndefined)(e))return d.M.sendAppErrorEvent(Object.assign(Object.assign({},r.Vsq),{message:"Undefined query param for ARC request."})),null;const t=this.getRequiredStaticParameters(),i=this.getDefaultAppParameters(e),n=(0,c.bu)(),o=(0,c.rB)();return Object.assign({},t,i||{},n||{},o,e)}static validateQParams(e){if((0,u.isNullOrUndefined)(e))return"untargetable; no query params";if(!e.placement)return"untargetable; no placement";if(/\|/.test(e.placement)){if(!e.bcnt)return"untargetable; no bcnt for batch request";const t=e.placement.split("|").length,i=e.bcnt.split("|").length;if(t!==i)return"untargetable; batch size mismatch p="+t+" b="+i}}static getDigit(e){let t=(new Date).getTime();const i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:7&i|8).toString(16)}static generateGuid(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,g.getDigit)}static getRequestInit(e){return{method:"GET",headers:e,credentials:"include"}}}},6660:function(e,t,i){"use strict";var n,r;i.d(t,{M:function(){return r},R:function(){return n}}),function(e){e.Impression="imp",e.Action="act"}(n||(n={})),function(e){e.Click="click",e.Conversion="conversion",e.Dislike="dislike",e.Dismiss="dismiss",e.Like="like",e.Hover="hover"}(r||(r={}))},91881:function(e,t,i){"use strict";i.d(t,{KI:function(){return r},M1:function(){return u},S5:function(){return d},TY:function(){return s},VT:function(){return o},Yq:function(){return a},_l:function(){return c},bu:function(){return p},cF:function(){return l},rB:function(){return g},uS:function(){return h}});var n=i(58155);const r=5e3,o=1e4,s="https://arc.msn.com/v4/api/selection",a=".int";var c;!function(e){e.MSNAnaheimNewsNTPImages="MSNAnaheimNewsNTPImages",e.MSNNewsCoachmark="MSNNewsCoachmark",e.MSNewsRewards="MSNewsRewards",e.ConditionalBanner="ConditionalBanner"}(c||(c={}));const d={[c.MSNAnaheimNewsNTPImages]:"88000244",[c.MSNAnaheimNewsNTPImages+a]:"88000245",[c.MSNNewsCoachmark]:"88000308",[c.MSNNewsCoachmark+a]:"88000309",[c.MSNewsRewards]:"88000321",[c.MSNewsRewards+a]:"88000322",[c.ConditionalBanner]:"10837393",[c.ConditionalBanner+a]:"10837394"},l=()=>{const e=location.search;return!!e&&/(\?|&)irisInternal=true/.test(e)},u=()=>{const e=location.search,t=new URLSearchParams(e);return t.has("testingNum")?t.get("testingNum"):"-1"},g=()=>(()=>{const e=location.search;return!!e&&/(\?|&)irisStatic=true/.test(e)})()?{app:"anaheimstatic"}:{},p=()=>{const e=location.search;if(e&&/(\?|&)irisSegment=/.test(e)){const t=n.c.getQueryParameterByName("irisSegment",e);if(t)return{[t]:"1"}}return null};var h;!function(e){e.AcquisitionPath="AREF",e.BrowserChannel="ACHANNEL",e.BrowserVersion="ABUILD",e.Caller="clr",e.ClientID="edgeid",e.ConsumerVsEnterprise="ISU",e.DefaultBrowser="ADEFAB",e.DeviceOSVersion="devosver",e.OperatingSystem="OPSYS",e.PrimaryBrowser="APRIMB",e.TailoredExperiencesToggle="poptin",e.UITheme="UITHEME"}(h||(h={}))},84606:function(e,t,i){"use strict";i.d(t,{N:function(){return n},l:function(){return o}});var n,r=i(85663);!function(e){e[e.Unknown=0]="Unknown",e[e.MissingContext=1]="MissingContext",e[e.QueryParametersInvalid=2]="QueryParametersInvalid",e[e.FetchFailure=3]="FetchFailure",e[e.ResponseFailure=4]="ResponseFailure",e[e.Unparsable=5]="Unparsable",e[e.UnconvertableCreative=6]="UnconvertableCreative",e[e.ActionUrlInvalid=7]="ActionUrlInvalid",e[e.ActionCallFail=8]="ActionCallFail",e[e.ActionResponseInvalid=9]="ActionResponseInvalid"}(n||(n={}));class o{static create(e,t,i,n){return{appError:i,customMessage:n,errorMessage:t,irisErr:e}}static typeCheck(e){return e&&"object"==typeof e&&!(0,r.isNullOrUndefined)(e.irisErr)}}},83760:function(e,t,i){"use strict";var n;i.d(t,{W:function(){return n}}),function(e){e.offPageNavigation="nav-newtab",e.inPageNavigation="nav-inpage",e.executeAction="execute-action"}(n||(n={}))},6751:function(e,t,i){"use strict";i.d(t,{c:function(){return g}});var n=i(33940),r=i(70260),o=i(85663),s=i(36803),a=i(26415),c=i(65135);class d{static isError(e){return!(0,o.isNullOrUndefined)(e)&&"object"==typeof e&&!(0,o.isNullOrUndefined)(e.error)||!(0,o.isNullOrUndefined)(e.code)}static handleError(e,t){if(e&&"number"==typeof e.code)if(e.code>=1e3&&e.code<=1999)this.sendAppError(a.ZHI,e.code,t);else if(e.code>=3e3&&e.code<=3999)this.sendAppError(a.gAu,e.code,t);else switch(e.code){case 0:case 2e3:case 2040:break;case 2010:this.sendAppError(a.MRH,e.code,t);break;case 2020:this.sendAppError(a.CBH,e.code,t);break;default:this.sendAppError(a.CPU,e.code,t)}}static isValidSingleResponse(e){return!(0,o.isNullOrUndefined)(e)&&"object"==typeof e&&!(0,o.isNullOrUndefined)(e.prm)&&(0,s.R)(e.prm._id)&&(0,s.R)(e.prm._imp)&&!(0,o.isNullOrUndefined)(e.tracking)&&(0,s.R)(e.tracking.baseUri)&&!(0,o.isNullOrUndefined)(e.ad)&&!(0,o.isNullOrUndefined)(e.rdr)&&e.rdr.length>0&&(0,s.R)(e.rdr[0].c)&&(0,s.R)(e.rdr[0].u)&&(0,s.R)(e.f)&&(0,s.R)(e.v)}static isBatchResponse(e){return!(0,o.isNullOrUndefined)(e)&&"object"==typeof e&&!(0,o.isNullOrUndefined)(e.batchrsp)}static batchContainsItems(e){return e&&!(0,o.isNullOrUndefined)(e.items)&&"object"==typeof e.items&&e.items.length>0}static batchContainsErrors(e){return e&&!(0,o.isNullOrUndefined)(e.errors)&&"object"==typeof e.errors&&e.errors.length>0}static decodeSingleResponseString(e){if(!(0,s.R)(e))return null;try{return JSON.parse(e)}catch(t){return c.M.sendAppErrorEvent(Object.assign(Object.assign({},a.FQ3),{message:"Exception parsing JSON",pb:Object.assign(Object.assign({},a.FQ3.pb),{customMessage:`Error parsing json encodedString: ${e}`})})),null}}static sendAppError(e,t,i){c.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:`err: ${t}`,pb:Object.assign(Object.assign({},e.pb),{customMessage:i&&i.queryParams?r._.createPropertyBagErrorMessage(i.queryParams.placement,i.queryParams.asid,i.queryParams.locale):""})}))}}var l=i(62985),u=i(84606);class g{static requestSurfaceInfo(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){if(!e)return c.M.sendAppErrorEvent(Object.assign(Object.assign({},a.cL8),{message:"Attempted iris call without any params."})),Promise.reject("Attempted iris call without any params.");const i=r._.createIrisRequestContext(e,t);return yield r._.callIris(i).then(g.mapResponse).then(g.handleUnclaimedErrors).catch((e=>{let t,n,r;return u.l.typeCheck(e)&&(t=e.appError,n=e.customMessage,r=e.errorMessage),t=t||a.bUp,c.M.sendAppErrorEvent(Object.assign(Object.assign({},t),{message:r||"Unhandled error encountered requesting/processing iris call",pb:Object.assign(Object.assign({},t.pb),{customMessage:n||`Error: ${JSON.stringify(e)} requestContext: ${JSON.stringify(i)}`})})),Promise.reject(e)}))}))}static sendActionUpdate(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){try{return yield r._.updateIris(e,t)}catch(i){let n,r,o;return u.l.typeCheck(i)&&(n=i.appError,r=i.customMessage,o=i.errorMessage),n=n||a.bUp,c.M.sendAppErrorEvent(Object.assign(Object.assign({},n),{message:o||"Unhandled error encountered requesting/processing iris action update call",pb:Object.assign(Object.assign({},n.pb),{customMessage:r||`Error: ${JSON.stringify(i)} actionUrl: ${JSON.stringify(e)} includedHeaders: ${JSON.stringify(t)}`})})),Promise.reject(i)}}))}static handleUnclaimedErrors(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(e&&e.collection&&e.collection.hasUnclaimedErrors()){e.collection.getUnclaimedErrors().forEach((t=>{d.handleError(t,e.reqContext)}))}return e}))}static mapResponse(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(!e||!e.parsedResponse)return Promise.resolve(null);const t=e.parsedResponse,i=e.reqContext&&e.reqContext.queryParams&&/^[^|]*$/.test(e.reqContext.queryParams.placement)?e.reqContext.queryParams.placement:null,n=new l.S,r={collection:n,reqContext:e.reqContext};if(d.isError(t))return n.addError(i,Object.assign(Object.assign({},t),{placement:i})),Promise.resolve(r);if(d.isBatchResponse(t)){if(d.batchContainsItems(t.batchrsp)){t.batchrsp.items.forEach((e=>{const t=e.placement?e.placement:i;g.extractCreativesFromItem(e,t,n)}))}if(d.batchContainsErrors(t.batchrsp)){t.batchrsp.errors.forEach((e=>{n.addError(e.placement||i,e)}))}}else{const r=g.convertToCreative(t);if(n.addCreative(i,r),!r){const t=e.reqContext&&e.reqContext.queryParams&&e.reqContext.queryParams.asid;c.M.sendAppErrorEvent(Object.assign(Object.assign({},a.EhB),{message:"Iris: Attempt to convert iris response to creative failed",pb:Object.assign(Object.assign({},a.EhB.pb),{customMessage:`ASID: ${t} RequestContext: ${JSON.stringify(e.reqContext)} Response: ${JSON.stringify(e.parsedResponse)}`})}))}}return Promise.resolve(r)}))}static convertToCreative(e){const t=e&&"string"==typeof e?d.decodeSingleResponseString(e):e;if(t&&d.isValidSingleResponse(t))return{creativeName:t.rdr[0].c,creativeNamespace:t.rdr[0].u,content:t.ad,creativeId:t.prm._id,telemetry:{impressionUrl:t.prm._imp,actionUrl:t.tracking.baseUri}};const i=t&&t.prm&&t.prm._id;return c.M.sendAppErrorEvent(Object.assign(Object.assign({},a.N6m),{message:"Iris: Response format invalid - creativeId",pb:Object.assign(Object.assign({},a.N6m.pb),{customMessage:`Error converting response into creative due to invalid format creativeId: ${i}\n                    encodedString: ${"object"==typeof e?JSON.stringify(e):e}\n                    decodedString: ${"object"==typeof t?JSON.stringify(t):t}`})})),null}static addIrisEntityToCollection(e,t,i){if(!t||!i)return;const n=g.convertToCreative(t);n&&i.addCreative(e,n)}static extractCreativesFromItem(e,t,i){i&&e&&(e.items&&e.items.length>0&&e.items.forEach((e=>{g.addIrisEntityToCollection(t,e,i)})),e.item&&g.addIrisEntityToCollection(t,e.item,i))}}},62985:function(e,t,i){"use strict";i.d(t,{S:function(){return o}});var n=i(66213),r=i(85663);class o{constructor(){this._infoMap=new Map,this._unknown=[],this._errors=[]}static createSurfaceInfo(e,t,i,r){return{creatives:e||[],currentCreativeId:t,errors:i||[],lastUpdatedMarket:n.jG.CurrentMarket,lastUpdatedTime:(new Date).getTime(),placement:r}}static infoHasId(e){return e&&!(0,r.isNullOrUndefined)(e.placement)}static infoHasCreatives(e){return e&&!(0,r.isNullOrUndefined)(e.creatives)&&e.creatives.length>0}static infoHasErrors(e){return e&&!(0,r.isNullOrUndefined)(e.errors)&&e.errors.length>0}get(e){return!(0,r.isNullOrUndefined)(e)&&this._infoMap.has(e)?this._infoMap.get(e):null}add(e,t){e&&(t?this._infoMap.set(t,e):this._unknown.push(e))}addCreative(e,t){t&&"object"==typeof t?(0,r.isNullOrUndefined)(e)?this._unknown.push(o.createSurfaceInfo([t],null,null,null)):this.addData(e,t,!1):(0,r.isNullOrUndefined)(e)||this._infoMap.set(e,o.createSurfaceInfo(null,null,null,e))}addError(e,t){t&&"object"==typeof t&&0!==Object.keys(t).length&&((0,r.isNullOrUndefined)(e)?this._errors.push(t):this.addData(e,t,!0))}hasUnknowns(){return this._unknown.length>0}getUnknowns(){return this._unknown}hasUnclaimedErrors(){return this._errors.length>0}getUnclaimedErrors(){return this._errors}addData(e,t,i){if((0,r.isNullOrUndefined)(e)){const e=t;this._unknown.push(o.createSurfaceInfo([e],e.creativeId,null,null))}else if(this._infoMap.has(e)){this._infoMap.get(e)[i?"errors":"creatives"].push(t)}else{const n=t;this._infoMap.set(e,o.createSurfaceInfo(i?null:[n],i?null:n.creativeId,i?[t]:null,e))}}}},12884:function(e,t,i){"use strict";i.d(t,{$w:function(){return p},Dp:function(){return c},FK:function(){return u},G8:function(){return g},SV:function(){return h},Td:function(){return s},Wo:function(){return l},ZI:function(){return f},b0:function(){return v},bs:function(){return m},l4:function(){return o},zp:function(){return d},zw:function(){return a}});var n=i(33379),r=i(2140);function o(){return(0,n.N)()?window.location.href:(0,r.s)().url.href}function s(){return(0,n.N)()?window.location.hostname:(0,r.s)().url.hostname}function a(){return(0,n.N)()?window.location.host:(0,r.s)().url.host}function c(){return(0,n.N)()?window.location.origin:(0,r.s)().url.origin}function d(){return(0,n.N)()?window.location.search:(0,r.s)().url.search}function l(){return(0,n.N)()?window.location.pathname:(0,r.s)().url.pathname}function u(){return(0,n.N)()?window.location.hash:(0,r.s)().url.hash}function g(){return(0,n.N)()?window.document.cookie:(0,r.s)().cookie}function p(e){if(!(0,n.N)())throw new Error("getDocumentElementById is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementById(e)}function h(e){if(!(0,n.N)())throw new Error("getDocumentElementsByTagName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByTagName(e)}function f(e){if(!(0,n.N)())throw new Error("getDocumentElementsByClassName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByClassName(e)}function m(){return(0,n.N)()?window.indexedDB:null}function v(e,t,i=!0,r="anonymous",o){if(!(0,n.N)())throw new Error("createScriptTag is unsupported server side. This call should be wrapped in canUseDOM().");const s=document.createElement("script");return t&&(s.id=t),o&&s.setAttribute("class",o),s.type="text/javascript",e&&(s.src=e,s.async=i,s.crossOrigin=r),window&&window.NONCE_ID&&(s.nonce=window.NONCE_ID),s}},33379:function(e,t,i){"use strict";function n(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}i.d(t,{N:function(){return n}})},10052:function(e,t,i){"use strict";i.d(t,{j:function(){return s},m:function(){return o}});const n=[0,656,980,1304];var r=i(80329);const o="rd",s={ver:"0.1.0",spec:{innerWidth:{clientValue:()=>window.innerWidth},innerHeight:{clientValue:()=>window.innerHeight},outerWidth:{clientValue:()=>window.outerWidth},breakpoint:{clientValue:()=>(0,r.wk)(window.innerWidth,n)},locationHash:{clientValue:()=>window.location.hash},locationHref:{clientValue:()=>window.location.href},locationHost:{clientValue:()=>window.location.host},locationHostName:{clientValue:()=>window.location.hostname},locationOrigin:{clientValue:()=>window.location.origin},locationPathName:{clientValue:()=>window.location.pathname},locationProtocol:{clientValue:()=>window.location.protocol},locationSearch:{clientValue:()=>window.location.search},screenTop:{clientValue:()=>window.screenTop},screenY:{clientValue:()=>window.screenY},canUseCssGrid:{clientValue:()=>window.CSS&&window.CSS.supports&&CSS.supports("display","grid")||!1},devicePixelRatio:{clientValue:()=>window.devicePixelRatio},language:{clientValue:()=>document.documentElement.lang},direction:{clientValue:()=>document.documentElement.dir}}}},2140:function(e,t,i){"use strict";i.d(t,{s:function(){return o}});class n{constructor(e){this.url=new URL(e.href),this.innerHeight=e.innerHeight,this.devicePixelRatio=e.devicePixelRatio,this.canUseCssGrid=e.canUseCssGrid,this.requestId=e.requestId,this.cookie=e.cookie,this.referer=e.referer,this.userAgent=e.userAgent,this.oneServiceHeaders=function(e){try{if(e)return JSON.parse(e)}catch(e){}}(e.oneServiceHeaders)||{}}static getInstance(){return i.g.TEST_ENV&&!n._instance&&r({href:"http://localhost:8080/",innerHeight:768,devicePixelRatio:1,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}),n._instance||r({href:"http://localhost:8080/",innerHeight:0,devicePixelRatio:0,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:""}),n._instance}static resetInstance(e){return n._instance=new n(e),n._instance}}n._instance=null;const r=n.resetInstance,o=()=>n.getInstance()},59049:function(e,t,i){"use strict";i.d(t,{v:function(){return o}});var n=i(26415),r=i(65135);class o extends Map{constructor(e){super(),this.identifier=e,this.subscriptions=new Map}set(e,t){super.set(e,t);const i=this.subscriptions.get(e)||[];return i.length?(i.forEach(((i,o)=>{try{i&&i(t)}catch(t){r.M.sendAppErrorEvent(Object.assign(Object.assign({},n.mmU.SubscriptionCallbackExecError),{message:"Failed to execute subscription callback",pb:Object.assign(Object.assign({},n.mmU.SubscriptionCallbackExecError.pb),{customMessage:`Error executing subscription callback for key [${e}] at handler index [${o}]`,instanceId:this.identifier,errorMessage:t&&t.message})}))}})),this):this}subscribe(e,t){const i=this.subscribeInternal(e,t);return this.has(e)&&this.tryExecuteSubscriptionCallback(e,i.index,this.get(e)),{unsubscribe:i.unsubscribe}}subscribeInternal(e,t){const i=this.subscriptions.get(e)||[];this.subscriptions.set(e,[...i,t]);const n=i.length;return{unsubscribe:()=>{const t=this.subscriptions.get(e)||[];t[n]&&(t[n]=null),this.subscriptions.set(e,t)},index:n}}tryExecuteSubscriptionCallback(e,t,i){const n=this.subscriptions.get(e);if(!n||!n.length)return;const r=n[t];"function"==typeof r&&r(i)}}},5053:function(e,t,i){"use strict";i.d(t,{J1:function(){return u},R1:function(){return a},RD:function(){return l},_W:function(){return d},kz:function(){return c}});var n=i(53899),r=i(38349),o=i(76868),s=i(65337);function a(e,t){if(!e||!t)return;const i=e.getCurrentState(),n=Object.assign(Object.assign({},i),{currentLayout:t});e.updateLayout(n),(0,r.yV)(o.y.FeedLayoutSwitch)}function c(e,t){if(!e||!t)return;const i=e.getCurrentState();i&&(0,s.$o)().setObject(t,i)}function d(e,t){const i=(0,s.$o)().getObject(t),n=e.getCurrentState();if(i&&t){const t=Object.assign(Object.assign({},n),{currentLayout:i.currentLayout});e.updateLayout(t),(0,r.yV)(o.y.FeedLayoutSwitch)}}function l(e){return e.currentLayout===n.nP.inspirational}function u(e){return e.currentLayout===n.nP.focused}},35385:function(e,t,i){"use strict";i.d(t,{J:function(){return r}});var n=i(55067);class r{}r.updateLayout=new n.C("updateLayout"),r.initialize=new n.C("initialize")},91608:function(e,t,i){"use strict";i.d(t,{A$:function(){return r},FQ:function(){return n},FT:function(){return o},Jx:function(){return a},cN:function(){return c}});const n=108,r=50;let o;const s=[];function a(e){s.push(e)}function c(e){if(e!==o){o=e;for(const t of s)t(e)}}},53899:function(e,t,i){"use strict";i.d(t,{F5:function(){return f},HX:function(){return a},L_:function(){return h},Py:function(){return r},RZ:function(){return C},Uq:function(){return o},VE:function(){return d},Wi:function(){return y},Z3:function(){return l},_9:function(){return m},_U:function(){return p},gZ:function(){return c},iz:function(){return n},nP:function(){return s}});var n,r,o,s,a,c,d,l,u=i(12108),g=i(66213);!function(e){e[e.MicrosoftNews=0]="MicrosoftNews",e[e.Office365=1]="Office365",e[e.Gaming=2]="Gaming"}(n||(n={})),function(e){e.Enforced="ENFORCED",e.Recommended="RECOMMENDED"}(r||(r={})),function(e){e[e.focused=0]="focused",e[e.inspirational=1]="inspirational",e[e.informational=2]="informational",e[e.custom=3]="custom"}(o||(o={})),function(e){e.focused="focused",e.inspirational="inspirational",e.informational="informational",e.custom="custom"}(s||(s={})),function(e){e.bing="bing",e.custom="custom",e.iris="iris",e.off="off",e.theme="theme",e.enterprise="enterprise",e.imageAndVideo="imageAndVideo"}(a||(a={})),function(e){e[e.allowAll=0]="allowAll",e[e.disableImageOfTheDay=1]="disableImageOfTheDay",e[e.disableCustomImage=2]="disableCustomImage",e[e.disableAll=3]="disableAll"}(c||(c={})),function(e){e[e.off=0]="off",e[e.onerow=1]="onerow",e[e.tworows=2]="tworows"}(d||(d={})),function(e){e.off="off",e.onerow="onerow",e.tworows="tworows"}(l||(l={}));const p={0:"off",1:"onerow",2:"tworows"},h={backgroundImageTypePolicy:c.allowAll,currentBackgroundImageType:a.imageAndVideo,currentLayout:s.inspirational,quickLinksEnabled:!0,hideDefaultTopSites:!1,imageOfTheDayEnabled:!0,selectedFeedDisplaySetting:"headingsonly"},f={0:"focused",1:"inspirational",2:"informational",3:"custom"},m={backgroundImageTypePolicy:"ntp.background_type_blocked_by_policy",currentBackgroundImageType:"ntp.background_image_type",hideDefaultTopSites:"ntp.hide_default_top_sites",customBackgroundImageInfo:"ntp.local_background_image",layout:"ntp.layout_mode",quickLinks:"ntp.show_top_sites",quickLinksDisplaySetting:"ntp.quick_links_options",imageOfTheDay:"ntp.show_image_of_day",feeds:"ntp.news_feed_display",feedType:"ntp.feed_type",greeting:"ntp.show_greeting",showSettings:"ntp.show_settings",verticalTabsCollapsed:"edge.vertical_tabs.collapsed",verticalTabsOpened:"edge.vertical_tabs.opened",singleColumnEnabled:"ntp.single_column.enabled",userNurturingUpdated:"ntp.user_nurturing",hasUserSeenNewFre:"new_device_fre.has_user_seen_new_fre"},v={focused:{quick_links:!0,feeds_position:"headingsonly",current_background_image_type:a.off,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1},inspirational:{quick_links:!0,feeds_position:"headingsonly",current_background_image_type:a.imageAndVideo,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1},informational:{quick_links:!0,feeds_position:"always",current_background_image_type:a.imageAndVideo,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1}},b={focused:{quick_links:!0,feeds_position:"headingsonly",current_background_image_type:a.off,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1},inspirational:{quick_links:!0,feeds_position:"peek",current_background_image_type:a.imageAndVideo,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1},informational:{quick_links:!0,feeds_position:"always",current_background_image_type:a.imageAndVideo,greeting:!0,selectedQuickLinksDisplaySetting:l.onerow,hide_promoted_links:!1}},y=g.jG.CurrentRequestTargetScope&&g.jG.CurrentRequestTargetScope.audienceMode===u.F.Enterprise?v:b,C="DefaultFeedPolicy"},4734:function(e,t,i){"use strict";i.d(t,{Qz:function(){return S},bn:function(){return w},v:function(){return T},FQ:function(){return m},gy:function(){return h},S0:function(){return g},F_:function(){return f}});var n,r=i(33940);!function(e){e[e.StandardEventBasedDeferral=0]="StandardEventBasedDeferral",e[e.CustomEventBasedDeferral=1]="CustomEventBasedDeferral"}(n||(n={}));var o=i(68917),s=i(53301),a=i(83757),c=i(53076),d=i(93450),l=i(49016);const u=(e,t)=>e.filter((e=>t in e));function g(){return d._.getInstance().rootReducer.connector(c.z.MilestoneData)}function p(e){const t=g();if(!t)return;const i=t.getCurrentState().perExperienceMilestones,n=i&&i.get(e);let r;return n&&(r=n.perInstanceMilestones.get(a.t)),r}function h(e){const t=p(e);if(!t||function(e){let t;switch(e.loadAfter.eventType){case o.Gg.aboveTheFoldVisuallyReady:t=v();break;case o.Gg.belowTheFoldTransitionStart:t=b();break;case o.Gg.hydrationComplete:t=C();break;default:t=(0,l.c)(e.loadAfter.experienceType,e.loadAfter.eventType)}return t}(t))return null;if(t.shouldLoad&&t.loadAfter){return{deferralType:y(t.loadAfter),shouldResolve:t.shouldLoad}}return null}function f(){return g()?v()?Promise.resolve():new Promise((e=>{s.g.updateAboveTheFoldVisuallyReady.registerObserver((t=>{e()}))})):Promise.resolve()}function m(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=g();if(!t)return;const i=t.getCurrentState().plugins;if(!i||0===i.length)return;const n=u(i,e);for(const t of n)void 0!==t[e]&&(yield t[e].call(t))}))}function v(){const e=g();if(!e)return!1;const{aboveTheFoldVisuallyReady:t}=e.getCurrentState();return Boolean(t&&t.endTime!==a.n)}function b(){const e=g();return!!e&&e.getCurrentState().belowTheFoldTransitionStart}function y(e){return e.eventType in o.ic?n.CustomEventBasedDeferral:n.StandardEventBasedDeferral}function C(){const e=g();return!!e&&e.getCurrentState().hydrationComplete}function S(e,t,i,n){return{deferralInfo:e,experienceType:t,experienceGroup:i,experienceInstance:n}}function w(e,t,i,n){return{experienceType:e,currentState:t,experienceGroup:i,experienceInstance:n}}function T(e,t,i,n,r){return{experienceType:e,experienceGroup:t,experienceInstance:i,startTime:n,endTime:r}}},53301:function(e,t,i){"use strict";i.d(t,{g:function(){return o}});var n=i(55067);class r{constructor(){this.updateHydrationComplete=new n.C("updateHydrationRenderComplete"),this.updateRiverHydrationComplete=new n.C("updateRiverHydrationRenderComplete"),this.updateAboveTheFoldVisuallyReady=new n.C("updateAboveTheFoldVisuallyReady"),this.updateBelowTheFoldTransitionStart=new n.C("updateBelowTheFoldTransitionStart"),this.updateExperienceLoadDeferralState=new n.C("updateExperienceLoadDeferralState"),this.updateExperienceCurrentState=new n.C("updateExperienceCurrentState"),this.updateExperiencePublicState=new n.C("updateExperiencePublicState"),this.updateExperienceRenderDeferralState=new n.C("updateExperienceRenderDeferralState"),this.updateInitTiming=new n.C("UpdateInitTiming"),this.updatePageComplete=new n.C("updatePageCompleteTiming"),this.updateRenderTiming=new n.C("UpdateRenderTiming"),this.updateVisuallyReadyTiming=new n.C("UpdateVisuallyReadyTiming"),this.updateStartLoadingTiming=new n.C("UpdateStartLoadingTiming"),this.updateDomCompleteTiming=new n.C("UpdateDomCompleteTiming"),this.updateMilestonePlugins=new n.C("updateMilestonePlugin")}resetInstance(){this.updateHydrationComplete.unregisterObservers(),this.updateRiverHydrationComplete.unregisterObservers(),this.updateAboveTheFoldVisuallyReady.unregisterObservers(),this.updateBelowTheFoldTransitionStart.unregisterObservers(),this.updateExperienceLoadDeferralState.unregisterObservers(),this.updateExperienceCurrentState.unregisterObservers(),this.updateExperiencePublicState.unregisterObservers(),this.updateExperienceRenderDeferralState.unregisterObservers(),this.updateInitTiming.unregisterObservers(),this.updatePageComplete.unregisterObservers(),this.updateRenderTiming.unregisterObservers(),this.updateVisuallyReadyTiming.unregisterObservers(),this.updateDomCompleteTiming.unregisterObservers(),this.updateMilestonePlugins.unregisterObservers(),o=new r}}let o=new r},98358:function(e,t,i){"use strict";i.d(t,{m:function(){return h}});var n=i(53301),r=i(68917),o=i(4734),s=i(78690),a=i(49016),c=i(2820);function d(e,t){e.registerObserver((e=>{((e.params||[])[0]||[]).forEach((({deferralInfo:e,experienceType:i})=>{e&&i&&function(e,t,i){if(!e||!t||!(t.eventType in r.Gg)||!t.experienceType&&!t.experienceGroup)return;const{eventType:n,experienceType:o}=t,d=o||t.experienceGroup,l=a.v.get(d);if(l&&l.referencedDependentsDeferralMap){if(l.currentState<n){const t=l.referencedDependentsDeferralMap.get(n);t?t.size>0&&t.set(e,i):l.referencedDependentsDeferralMap.set(n,new Map([[e,i]]))}}else a.v.set(d,{currentState:s.D.notStarted,referencedDependentsDeferralMap:new Map([[n,new Map([[e,i]])]])}),o&&(0,c.w)(o,!0)}(i,e,t)}))}))}function l(){d(n.g.updateExperienceLoadDeferralState,s.D.loadDeferred),d(n.g.updateExperienceRenderDeferralState,s.D.renderDeferred),n.g.updateExperienceCurrentState.registerObserver((e=>{const t=[];if(((e.params||[])[0]||[]).forEach((({experienceType:e,currentState:i})=>{if(!e||!i)return;const n=a.v.get(e);if(!n)return;n.currentState=i;const c=r.ez.get(i),d=c&&n.referencedDependentsDeferralMap.get(c);d&&d.forEach(((e,i)=>{if(!i)return;const n=e===s.D.loadDeferred?s.D.resolvedForLoad:s.D.resolvedForRender;t.push((0,o.bn)(i,n))}))})),t.length){const e=(0,o.S0)();e&&n.g.updateExperienceCurrentState.getActionSender(e).send(t)}}))}var u=i(70493);let g=new Map;(0,u.U)((()=>{g=new Map}));var p=i(63439);class h extends p.e{constructor(e,t,i,r,a,c,d){super(e,t,i,r,a,c,d),this.startObservers(),n.g.updateInitTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],s.D.initialized))),n.g.updateRenderTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],s.D.rendered))),n.g.updateVisuallyReadyTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],s.D.visuallyReady))),n.g.updateStartLoadingTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],s.D.startLoading))),n.g.updateDomCompleteTiming.registerObserver((e=>this.updateExperienceTiming(e.params[0],s.D.domComplete))),n.g.updateExperienceLoadDeferralState.registerObserver((e=>{const t=((e.params||[])[0]||[]).map((({experienceType:e,experienceGroup:t,experienceInstance:i})=>(0,o.bn)(e,s.D.loadDeferred,t,i)));t.length&&n.g.updateExperienceCurrentState.getActionSender(this).send(t)})),n.g.updateExperienceRenderDeferralState.registerObserver((e=>{const t=((e.params||[])[0]||[]).map((({experienceType:e,experienceGroup:t,experienceInstance:i})=>(0,o.bn)(e,s.D.renderDeferred,t,i)));t.length&&n.g.updateExperienceCurrentState.getActionSender(this).send(t)}))}startObservers(){l(),n.g.updateExperienceCurrentState.registerObserver((e=>{((e.params||[])[0]||[]).forEach((e=>{e.currentState===s.D.domComplete&&g.forEach(((t,i)=>{let n=!0;const{DomCompleteDependencies:r,DomCompleteCallback:o}=t;for(const t of r.values()){const{dependencyId:{experienceType:i,experienceGroup:r,experienceNamespace:o}}=t;if(i&&i!==e.experienceType||r&&r!==e.experienceGroup||o&&o!==e.experienceInstance||(t.milestoneReached=!0),!t.milestoneReached){n=!1;break}}n&&(t.dependenciesMet=!0,o&&(g.delete(i),o()))}))}))}))}updateExperienceTiming(e,t){e&&e.endTime&&n.g.updateExperienceCurrentState.getActionSender(this).send([(0,o.bn)(e.experienceType,t,e.experienceGroup,e.experienceInstance)])}}},83757:function(e,t,i){"use strict";i.d(t,{n:function(){return r},t:function(){return n}});const n="default",r=-1},75367:function(e,t,i){"use strict";i.d(t,{c:function(){return y}});var n,r=i(30856),o=i(53301);!function(e){e[e.domComplete=0]="domComplete",e[e.error=1]="error",e[e.initialized=2]="initialized",e[e.rendered=3]="rendered",e[e.visuallyReady=5]="visuallyReady",e[e.startLoading=6]="startLoading"}(n||(n={}));var s=i(78690),a=i(33954);function c(){return p(o.g.updateAboveTheFoldVisuallyReady,(()=>!0))}function d(){return p(o.g.updateBelowTheFoldTransitionStart,(()=>!0))}function l(e){return g(e,s.D.resolvedForLoad)}function u(e){return g(e,s.D.resolvedForRender)}function g(e,t){return p(o.g.updateExperienceCurrentState,(i=>((i.params||[])[0]||[]).some((i=>i.currentState===t&&i.experienceType===e))))}function p(e,t){return new Promise(((i,n)=>{try{e.registerObserver((e=>{t(e)&&i(!0)}))}catch(e){a.k.logError(e),n(!1)}}))}function h(){return new Promise(((e,t)=>{try{o.g.updateHydrationComplete.registerObserver((()=>{e(!0)}))}catch(e){a.k.logError(e),t(!1)}}))}var f=i(83757),m=i(68917);class v{static updateExperienceCurrentState(e,t,i,n,r){const o=this.getOrCreateExperienceInstanceMilestone(e,t,n,r);o&&(o.currentState=i)}static updateMilestoneTiming(e,t,i,r,o,a,c){const d=this.getOrCreateExperienceInstanceMilestone(e,t,a,c);let l;if(d)switch(i){case n.initialized:l=d.initializationTime;break;case n.rendered:l=d.renderTime;break;case n.visuallyReady:l=d.visuallyReadyTime;break;case n.domComplete:l=d.domCompleteTime;break;case n.startLoading:return void(l=d.startLoadingTime);case n.error:return void(d.currentState=s.D.error);default:throw new Error("Invalid Argument: Unrecognized eventType")}if(!l)throw new Error(`Invalid experience time object while processing timing update for ${i}`);r&&(l.startTime=r),o&&(l.endTime=o)}static updateHydrationComplete(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.hydrationComplete=t}static updateBelowTheFoldTransitionStart(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.belowTheFoldTransitionStart=t}static updateMilestonePlugin(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);e.plugins&&0!==e.plugins.length?e.plugins=e.plugins.concat(t):e.plugins=t}static updateAboveTheFoldVisuallyReady(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);if(!e.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");e.aboveTheFoldVisuallyReady.startTime=performance.timing.navigationStart,e.aboveTheFoldVisuallyReady.endTime=t}static updatePageComplete(e,t){if(!e)throw new Error(v.invalidMilestoneModelMessage);if(!e.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");e.pageCompleteTiming.startTime=performance.timing.navigationStart,e.pageCompleteTiming.endTime=t}static deferExperienceLoad(e,t,i,n,r){const o=this.getOrCreateExperienceInstanceMilestone(e,t,n,r);o.loadAfter={experienceType:i.experienceType,experienceGroup:i.experienceGroup,eventType:i.eventType},v.updateLoadDeferralHandler(o,t)}static deferExperienceRender(e,t,i,n,r){const o=this.getOrCreateExperienceInstanceMilestone(e,t,n,r);o.renderAfter={experienceType:i.experienceType,experienceGroup:i.experienceGroup,eventType:i.eventType},v.updateRenderDeferralHandler(o,t)}static getOrCreateExperienceMilestone(e,t,i){if(!t)throw new Error("Invalid Argument: experienceType");e||(e={aboveTheFoldVisuallyReady:void 0,pageCompleteTiming:void 0,perExperienceMilestones:void 0}),e.perExperienceMilestones||(e.perExperienceMilestones=new Map);let n=e.perExperienceMilestones.get(t);return n||(n={experienceType:t,experienceGroup:i,perInstanceMilestones:new Map},e.perExperienceMilestones.set(t,n)),n}static getOrCreateExperienceInstanceMilestone(e,t,i,n){const r=this.getOrCreateExperienceMilestone(e,t,i),o=n||f.t;let a=r.perInstanceMilestones.get(o);return a||(a={currentState:s.D.notStarted,initializationTime:{endTime:f.n,startTime:f.n},loadAfter:{experienceType:void 0,eventType:void 0},renderAfter:{experienceType:void 0,eventType:void 0},renderTime:{endTime:f.n,startTime:f.n},visuallyReadyTime:{endTime:f.n,startTime:f.n},startLoadingTime:{endTime:f.n,startTime:f.n},domCompleteTime:{endTime:f.n,startTime:f.n}},r.perInstanceMilestones.set(o,a)),a}static updateLoadDeferralHandler(e,t){switch(e.loadAfter.eventType){case m.Gg.aboveTheFoldVisuallyReady:e.shouldLoad=c;break;case m.Gg.belowTheFoldTransitionStart:e.shouldLoad=d;break;case m.Gg.hydrationComplete:e.shouldLoad=h;break;default:return void(e.shouldLoad=l.bind(this,t))}}static updateRenderDeferralHandler(e,t){switch(e.renderAfter.eventType){case m.Gg.aboveTheFoldVisuallyReady:e.shouldRender=c;break;case m.Gg.belowTheFoldTransitionStart:e.shouldRender=d;break;case m.Gg.hydrationComplete:e.shouldRender=h;break;default:return void(e.shouldRender=u.bind(this,t))}}}v.invalidMilestoneModelMessage="Invalid Argument: milestoneModel";var b=i(85663);class y{reduce(e,t){let i;if(i=e?Object.assign({},e):{aboveTheFoldVisuallyReady:{endTime:f.n,startTime:f.n},pageCompleteTiming:{endTime:f.n,startTime:f.n},perExperienceMilestones:new Map},!t)return i;let n=!1;return n=n||this.handlePageLevelActions(n,t,i),n=n||this.handleExperienceLevelActions(n,t,i),i||e}handleExperienceLevelActions(e,t,i){return e=(e=(e=(e=(e=(e=(e=(e=(e=e||r.G.handleAction(t,o.g.updateInitTiming,(e=>this.updateTiming(n.initialized,i,e))))||r.G.handleAction(t,o.g.updateRenderTiming,(e=>this.updateTiming(n.rendered,i,e))))||r.G.handleAction(t,o.g.updateVisuallyReadyTiming,(e=>this.updateTiming(n.visuallyReady,i,e))))||r.G.handleAction(t,o.g.updateStartLoadingTiming,(e=>this.updateTiming(n.startLoading,i,e))))||r.G.handleAction(t,o.g.updateDomCompleteTiming,(e=>this.updateTiming(n.domComplete,i,e))))||r.G.handleAction(t,o.g.updateExperienceLoadDeferralState,(e=>e.forEach((({deferralInfo:e,experienceType:t,experienceGroup:n,experienceInstance:r})=>{e&&t&&v.deferExperienceLoad(i,t,e,n,r)})))))||r.G.handleAction(t,o.g.updateExperienceRenderDeferralState,(e=>e.forEach((({deferralInfo:e,experienceType:t,experienceGroup:n,experienceInstance:r})=>{e&&t&&v.deferExperienceRender(i,t,e,n,r)})))))||r.G.handleAction(t,o.g.updateExperienceCurrentState,(e=>e.forEach((({experienceType:e,currentState:t,experienceGroup:n,experienceInstance:r})=>{t&&e&&v.updateExperienceCurrentState(i,e,t,n,r)})))))||r.G.handleAction(t,o.g.updateExperiencePublicState,(e=>{}))}handlePageLevelActions(e,t,i){return e=(e=(e=(e=(e=e||r.G.handleAction(t,o.g.updatePageComplete,(e=>v.updatePageComplete(i,e))))||r.G.handleAction(t,o.g.updateAboveTheFoldVisuallyReady,(e=>v.updateAboveTheFoldVisuallyReady(i,e))))||r.G.handleAction(t,o.g.updateBelowTheFoldTransitionStart,(e=>{(0,b.isNullOrUndefined)(e)||v.updateBelowTheFoldTransitionStart(i,e)})))||r.G.handleAction(t,o.g.updateHydrationComplete,(()=>{v.updateHydrationComplete(i,!0)})))||r.G.handleAction(t,o.g.updateMilestonePlugins,(e=>{e.length>0&&v.updateMilestonePlugin(i,e)}))}updateTiming(e,t,i){const{startTime:n,endTime:r,experienceType:o,experienceGroup:s,experienceInstance:a}=i;v.updateMilestoneTiming(t,o,e,n,r,s,a)}}},49016:function(e,t,i){"use strict";i.d(t,{c:function(){return o},v:function(){return r}});var n=i(70493);let r=new Map;function o(e,t){const i=r.get(e);return!i||i.currentState>=t}(0,n.U)((()=>{r=new Map}))},2820:function(e,t,i){"use strict";i.d(t,{w:function(){return o}});var n=i(70493);let r={};function o(e,t){return null!=t?r[e]=t:r[e]}(0,n.U)((()=>{r={}}))},68917:function(e,t,i){"use strict";i.d(t,{Gg:function(){return r},ez:function(){return s},ic:function(){return n}});var n,r,o=i(78690);!function(e){e[e.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart"}(n||(n={})),function(e){e[e.startLoading=14]="startLoading",e[e.loaded=4]="loaded",e[e.rendered=8]="rendered",e[e.domComplete=10]="domComplete",e[e.visuallyReady=11]="visuallyReady",e[e.aboveTheFoldVisuallyReady=12]="aboveTheFoldVisuallyReady",e[e.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart",e[e.hydrationComplete=1]="hydrationComplete"}(r||(r={}));const s=new Map([[o.D.loaded,r.loaded],[o.D.rendered,r.rendered],[o.D.domComplete,r.domComplete],[o.D.visuallyReady,r.visuallyReady]])},78690:function(e,t,i){"use strict";var n;i.d(t,{D:function(){return n}}),function(e){e[e.notStarted=1]="notStarted",e[e.loadDeferred=2]="loadDeferred",e[e.resolvedForLoad=3]="resolvedForLoad",e[e.loaded=4]="loaded",e[e.initialized=5]="initialized",e[e.renderDeferred=6]="renderDeferred",e[e.resolvedForRender=7]="resolvedForRender",e[e.rendered=8]="rendered",e[e.domComplete=10]="domComplete",e[e.visuallyReady=11]="visuallyReady",e[e.error=12]="error",e[e.startLoading=14]="startLoading"}(n||(n={}))},91470:function(e,t,i){"use strict";i.d(t,{f:function(){return d}});var n=i(53899),r=i(65337),o=i(31293),s=i(68723),a=i(53076),c=i(82423);function d(e){const t=(0,r.$o)().getObject(n.RZ);if(t&&t.isEnforced)return t.contentSource;const i=(0,o.$z)();let d;e&&i&&(d=e[i]);const l=(0,c.K0)(a.z.AdminPortalData),u=l&&l.getCurrentState(),g=u?u.settings:(0,r.$o)().getObject(s.Ai);if(!g)return d;const{adminSelectedNavId:p,isOfficeContentEnabled:h,isShowCompanyAndIndustry:f}=g;let m;return e&&p&&(m=e[p]),h&&f?d||m||t&&t.contentSource||n.iz.MicrosoftNews:h?n.iz.Office365:n.iz.MicrosoftNews}},76868:function(e,t,i){"use strict";var n;i.d(t,{y:function(){return n}}),function(e){e[e.MuidChange=1]="MuidChange",e[e.MarketChange=2]="MarketChange",e[e.InterestsChange=3]="InterestsChange",e[e.PivotSwitch=4]="PivotSwitch",e[e.WeatherChange=5]="WeatherChange",e[e.MoneyChange=6]="MoneyChange",e[e.FeedLayoutSwitch=7]="FeedLayoutSwitch",e[e.FetchRiverDataFailure=8]="FetchRiverDataFailure"}(n||(n={}))},73:function(e,t,i){"use strict";i.d(t,{C7:function(){return p},Qf:function(){return u},U4:function(){return h},VX:function(){return r},W1:function(){return o},Y5:function(){return a},Z6:function(){return s},dd:function(){return d},eO:function(){return g},pM:function(){return l},pc:function(){return c},v3:function(){return n}});const n="epdu",r="ppreload",o="ppage",s="fpr",a="TTPR",c="TTF.SearchBox",d="TTVR",l="TTVR.SearchBox",u="TTVR.BackgroundExecution",g="backgroundpreload",p="prerender",h="TTPV"},2312:function(e,t,i){"use strict";i.d(t,{Qc:function(){return j},TR:function(){return H},lr:function(){return $}});var n=i(33940),r=i(54804),o=i(73),s=i(65135),a=i(62676),c=i(33954),d=i(14675),l=i(19388),u=i(59294),g=i(4734),p=i(49786),h=i(83227),f=i(82890),m=i(26415);const v="TTVR.",b="OverlayRemoval";var y=i(32717),C=i(65337),S=i(87538),w=i(76868),T=i(9344);let k,O;function E(){const e=(0,C.$o)().removeObject(o.Z6);if(e){c.k.logObjects("pageRevealDelegate:isForceReloadRequested, time: "+new Date(e.time).toTimeString());const t=e.time;if(k=e.data,t>performance.timing.navigationStart)return!0}return function(){const e=(0,T.jG)()||"";if(O!==e)return k=w.y.MuidChange,!0;return!1}()}function I(e){!function(e){k&&((0,C.$o)().setItem(o.VX,k+""),(0,C.$o)().setItem(o.W1,(e-performance.timing.navigationStart).toString()))}(e),(0,S.Z)({newUrl:A()})}function A(){const e=location.href;return e?e.replace(/[?&]prerender(=\d)?/,""):""}var P=i(38349);let x,M,L,D,F=!1;const R=new u.o,N=new u.o;function j(e,t){r.Al.IsPrerender?"visible"!==document.visibilityState?(L=e,D=t,(0,y.Hv)(),O=(0,T.jG)()||"",function(){x=document.createElement("div");const e=document.body,t=x.style;t.background="inherit",t.position="fixed",t.bottom=t.left=t.right=t.top="0",t.zIndex="2147483647",e?(e.appendChild(x),c.k.logObjects("pageRevealDelegate:addOverlay: Added overlay")):c.k.logObjects("pageRevealDelegate:addOverlay: Document body is not available, failed to add overlay.")}(),document.addEventListener("visibilitychange",B)):R.set():function(){const e=(0,C.$o)().removeItem(o.VX),t=(0,C.$o)().removeItem(o.W1);e&&s.M.addOrUpdateCustomProperty(o.VX,e),t&&s.M.addOrUpdateCustomProperty(o.W1,t)}()}function B(){return(0,n.mG)(this,void 0,void 0,(function*(){performance.mark(a.DB);const e=performance.now();document.removeEventListener("visibilitychange",B),yield(0,g.F_)(),F=!0,M=setTimeout((()=>{U()}),1e3),E()?I((0,P.Hk)()):function(e){s.M.addOrUpdateTmplProperty("isbackgroundpreload","1"),s.M.addOrUpdateTmplProperty("isprerender","1"),s.M.addOrUpdateCustomProperty(o.W1,(e-performance.timing.navigationStart).toString())}((0,P.Hk)()),yield(0,p.XX)(e,L,D),x&&U(),yield N.getResultAsync(),function(e){const t=window._pageTimings;if(!t)return;const i=(0,l.Sc)(b);t[o.C7]=1,t[o.eO]=1;let n=i,r=-1;e.forEach((e=>{const o=t[v+e];let s=(0,l.Sc)(e);s=Math.max(s,i),t["TTVR.BackgroundExecution."+e]=o,t[v+e]=s||-1,e===h.x.searchBoxEdgeNextWC&&(r=s),s>n&&(n=s)}));const a=t[o.dd];let c=!1;if((isNaN(a)||null===a)&&(s.M.sendAppErrorEvent(Object.assign(Object.assign({},m.lFV),{message:"TTVR missing during prerender.",pb:Object.assign(Object.assign({},m.lFV.pb),{customMessage:`PageTimings at this time: ${JSON.stringify(t)}. visuallyReadyDependencies: ${e.join("|")}`})})),c=!0),(isNaN(n)||null===n)&&(s.M.sendAppErrorEvent(Object.assign(Object.assign({},m.onn),{message:"TTPR missing during prerender."})),c=!0),c)return;const d=Math.min(n,a);t[o.Y5]=t[o.dd]=d,t[o.Qf]=a;const u=t[o.pM],g=t[o.pc],p=t[`${o.Y5}.${f.p.searchBox}`]=Math.min(r,u);isNaN(u)||null===u?s.M.sendAppErrorEvent(Object.assign(Object.assign({},m.Cab),{message:"TTVR.SearchBox missing during prerender."})):t[o.pM]=Math.min(p,u),isNaN(g)||null===g?s.M.sendAppErrorEvent(Object.assign(Object.assign({},m.bor),{message:"TTF.SearchBox missing during prerender."})):t[o.pc]=Math.min(p,g)}(L),performance.mark(a.O6),performance.measure("StaleRevalidation",a.DB,a.O6),function(){const e=window._pageTimings;e&&(e[o.U4]=Math.round(performance.now()))}(),R.set(),(0,y.mB)(),(0,p.Gy)()}))}function $(){return r.Al.IsPrerender?R.getResultAsync():Promise.resolve()}function H(){return r.Al.IsPrerender&&!F}function U(){try{M&&clearTimeout(M),document.body.removeChild(x),c.k.logObjects("pageRevealDelegate:removeOverlay: Removed overlay"),(0,d.c)((()=>{(0,l.EV)(b),N.set()}))}catch(e){}x=null}},38349:function(e,t,i){"use strict";i.d(t,{Ge:function(){return o},Hk:function(){return c},ih:function(){return s},yV:function(){return a}});var n=i(73),r=i(65337);function o(e){const t=(0,r.$o)().getObject(n.v3)||{},i=t[e];return!isNaN(i)&&(delete t[e],(0,r.$o)().setObject(n.v3,t),i>performance.timing.navigationStart)}function s(e){const t=(0,r.$o)().getObject(n.v3)||{},i=t[e];isNaN(i)&&(t[e]=c(),(0,r.$o)().setObject(n.v3,t))}function a(e){const t={time:c(),data:e};(0,r.$o)().setObject(n.Z6,t)}function c(){return Math.round(performance.timing.navigationStart+performance.now())}},49786:function(e,t,i){"use strict";i.d(t,{Gy:function(){return m},MV:function(){return y},XX:function(){return f}});var n=i(33940),r=i(4734),o=i(19388),s=i(68364),a=i(26415),c=i(38349),d=i(59294),l=i(14675);let u=[],g=[],p=new Set,h=new d.o;function f(e,t,i){const n=(0,r.S0)().getCurrentState().aboveTheFoldVisuallyReady.endTime,s=new Set;for(const e of u){const{experienceType:i}=e;t.includes(i)&&p.add(i)}0==p.size&&h.set();for(const t of u){const{experienceType:r}=t,a=(0,c.Ge)(r),d=0===t.thresholdMinutes||null!=t.thresholdMinutes&&e-n>6e4*t.thresholdMinutes;i||a||d?(v(t),g.push(t.delayCallback)):((0,o.EV)(r),b(r)),s.add(r)}for(const e of t)s.has(e)||(0,o.EV)(e);return h.getResultAsync()}function m(){for(const e of g)e()}function v(e){return(0,n.mG)(this,void 0,void 0,(function*(){try{yield e.criticalCallback(),(0,l.c)((()=>{(0,o.EV)(e.experienceType),b(e.experienceType)}))}catch(t){(0,s.OO)(t,a.NKp,"Exception when running stale revalidate callback","Experience: "+e.experienceType)}}))}function b(e){p.delete(e)&&0==p.size&&h.set()}function y(e){u.push(e)}},32717:function(e,t,i){"use strict";i.d(t,{Hv:function(){return s},eC:function(){return c},mB:function(){return a}});var n=i(59294);let r,o=!1;function s(){o=!0}function a(){o=!1,l()}function c(){return"visible"===document.visibilityState?Promise.resolve():(r||(r=new n.o,document.addEventListener("visibilitychange",d)),r.getResultAsync())}function d(){"visible"===document.visibilityState&&l()}function l(){!o&&r&&(r.set(),r=null)}},37209:function(e,t,i){"use strict";i.d(t,{o:function(){return p}});var n=i(33940),r=i(14752),o=i(76950),s=i(1103),a=i(38156),c=i(60483),d=i(26007),l=i(54804),u=i(95064);function g(e){return e?"#242424":"#F7F7F7"}function p(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){r.A.startMark("WC.Render");const i=e.configRef,n=(0,o.ITY)(i.experienceType),p=matchMedia("(prefers-color-scheme:dark)"),h=document.createElement(t);h.baseLayerLuminance=p.matches?u.h.DarkMode:u.h.LightMode,h.direction="rtl"===l.Al.MarketDir?d.N.rtl:d.N.ltr,h.setAttribute("fill-color",g(p.matches)),p.addEventListener("change",(e=>{h.baseLayerLuminance=e.matches?u.h.DarkMode:u.h.LightMode,h.setAttribute("fill-color",g(e.matches))}));const f=new c.D({type:a.c9.Module,name:i.experienceType,content:{}}),m=document.createElement(n);m.parentTelemetry=f,m.setAttribute("config-instance-src",i.instanceSrc),m.setAttribute("instance-id",i.experienceType),m.setAttribute("data-t",f.getMetadataTag()),h.appendChild(m),yield(0,s.Fg)(e),document.body.appendChild(h),r.A.endMark("WC.Render")}))}},22897:function(e,t,i){"use strict";var n=i(38949);function r(e,t){var i;const n=new URLSearchParams(e.location.search);if(n){const e=new URLSearchParams(t.search);if(null===(i=n)||void 0===i?void 0:i.keys())for(const t of n.keys())if(n.getAll(t)&&!e.getAll(t).length){n.getAll(t).forEach((i=>e.append(t,i)))}let r="";e.forEach(((e,t)=>r=r.concat(`&${t}=${e}`))),t.search=r.slice(1)}return t}function o(e,t,i){return"string"==typeof e?{pathname:e,state:t,search:i}:e}const s=(0,i(33379).N)()?function(e){const t=e(),i=t.push,n=t.replace;return t.push=(e,n,s)=>i.apply(t,[r(t,o(e,n,s))]),t.replace=(e,i,s)=>n.apply(t,[r(t,o(e,i,s))]),t}(n.lX):null;t.ZP=s},67893:function(e,t,i){"use strict";i.d(t,{lY:function(){return v}});var n,r=i(33940),o=i(31293),s=i(66213),a=i(30528);!function(e){e.NavigationData="NavigationDataAdapter",e.TopicsData="TopicsDataAdapter"}(n||(n={}));var c=i(88257),d=i(53076),l=i(93450),u=i(4734);class g{constructor(e,t){this.onUpdateFollowedTopics=()=>{if(!this.connector)return this.onRouteUpdateCallback([]);const e=this.connector.getCurrentState(),t=e.followedTopicIds,i=e.topicMap,r=[];t&&i&&t.forEach((e=>{const t=i[e],o={path:(0,a.qC)(t.name||t.canonicalName,e),display:t.name,experienceInfo:this.dynamicRouteExperienceInfo,context:{feedId:e},pivotId:e,dynamicPivotSource:n.TopicsData};r.push(o)})),this.onRouteUpdateCallback(r)},this.onRouteUpdateCallback=e,this.dynamicRouteExperienceInfo=t}getDynamicPivotsFromDataConnector(e){return(0,r.mG)(this,void 0,void 0,(function*(){switch(e){case d.z.TopicData:yield this.getPivotsFromTopicData();break;case d.z.NavigationData:yield this.getPivotsFromNavigationData();break;default:return}}))}getPivotsFromTopicData(){return(0,r.mG)(this,void 0,void 0,(function*(){yield(0,u.F_)(),l._.getInstance().rootReducer.getDataConnector(d.z.TopicData).then((e=>{this.connector=e,this.connector.getFollowedTopics(!1).then((()=>{this.onUpdateFollowedTopics()}))})),c.G.followedTopics.registerObserver(this.onUpdateFollowedTopics),c.G.updateTopicFollowedState.registerObserver(this.onUpdateFollowedTopics)}))}getPivotsFromNavigationData(){return(0,r.mG)(this,void 0,void 0,(function*(){if(this.connector=yield l._.getInstance().rootReducer.getDataConnector(d.z.NavigationData),this.connector){const e=yield this.connector.getNavigationItems(s.jG.HostPage.verticalKey,s.jG.HostPage.categoryKey);this.onRouteUpdateCallback(this.mapNavigationItemsToDynamicRoutes(e))}else this.onRouteUpdateCallback([])}))}mapNavigationItemsToDynamicRoutes(e){return e.map((e=>({path:e.targetUrl,externalUrl:e.targetUrl,display:e.displayText,pivotId:e.categoryKey,dynamicPivotSource:n.NavigationData})))}}var p,h=i(22897);class f{constructor(e){if(this.staticRoutes=[],this.dynamicRoutes=[],this.onUpdateRoutesCallbacks=[],this.switchListeners=[],this.useCustomRoutingEvent=!1,this.callSwitchListeners=e=>{if(!this.switchListeners.length)return;const t=this.getPivotSelectionInfoFromPath(e.state&&e.state.previousPath),i=this.getPivotSelectionInfoFromPath(e.pathname,e),n={newSelection:i,oldSelection:t};this.config.enableRememberedPivots&&(0,o.cf)(i&&i.pivotId),this.switchListeners.sort(((e,t)=>e.order-t.order));for(const e of this.switchListeners)e.callback(n)},e&&(this.useCustomRoutingEvent=e.useCustomRoutingEvent,(0,a.Vk)(e.enableLocaleFeedPrefix),(0,a.I8)(e.includeFeedPrefixForAppType),this.setRoutes(e)),h.ZP.listen(this.callSwitchListeners),"windows"===s.jG.AppType||this.useCustomRoutingEvent){const e=window.history.pushState;window.history.pushState=(t,i,n)=>{e.apply(window.history,[t,i,n]);const r=new CustomEvent("pushstate",{detail:{state:t,title:i,url:n}});window.dispatchEvent(r)},window.addEventListener("pushstate",(e=>{e.detail&&e.detail.state&&e.detail.state.shouldPush&&h.ZP.replace(window.location.pathname,{context:e.detail.state},window.location.search)}))}}setRoutes(e){this.config=e,this.setStaticRoutes(),this.config.disableLoadingDynamicRoutes||this.setDynamicRoutes()}pushHistory(e,t,i,n){const r=h.ZP.location.pathname;h.ZP.push((0,a.qC)(e,t,!0,i&&i.excludeFeedPrefix),{previousPath:r,context:i},n)}getStaticRoutes(){return this.staticRoutes}getDynamicRoutes(){return this.dynamicRoutes}getDynamicRoute(){const e=h.ZP.location.pathname.split("/"),t=e.findIndex((e=>"interest"===e.toLowerCase())),i=t>-1&&t<e.length-1?e[t+1]:"";return{path:(0,a.qC)("interest"),experienceInfo:this.config.dynamicRouteExperienceInfo,pivotId:"oneriver.xfeed",display:decodeURIComponent(i)}}isDynamicRoute(e){let t="";return a.T6&&(t="windows"===s.jG.AppType||a.uO?`/${s.jG.CurrentMarket}/feed`:`/${s.jG.CurrentMarket}`),t+="/interest",0===e.indexOf(t)}getCurrentRoute(){const e=h.ZP.location.pathname,t=this.staticRoutes.find((t=>t.path===e));return t||(/\/interest\/.+\//.test(e)?this.getDynamicRoute():null)}addDynamicRouteListener(e){this.onUpdateRoutesCallbacks.push(e)}addSwitchListener(e,t=p.AfterLoadContent){this.switchListeners.push({callback:e,order:t})}getRememberedPivot(){if(!this.config.enableRememberedPivots)return;const e=(0,o.$z)();e&&this.config.staticRoutes.forEach((t=>{t.pivotId===e&&this.pushHistory(t.canonicalName)}))}getPivotSelectionInfoFromPath(e,t){if(!e)return null;const i=this.config.staticRoutes.find((t=>(0,a.qC)(t.canonicalName,void 0,!0,t.context&&t.context.excludeFeedPrefix)===e));if(i)return{pivotId:i.pivotId,telemetryPageName:i.telemetryPageName,telemetryPivotCategory:i.telemetryPivotCategory,display:i.display||i.canonicalName,categoryKey:i.categoryKey,subCategoryKey:i.subCategoryKey,pageTitle:i.pageTitle};if(!this.isDynamicRoute(e))return null;const n=e.split("/");let r=0;a.T6&&(r="windows"===s.jG.AppType||a.uO?2:1);const o=t&&t.state&&t.state.context;return{telemetryPageName:"xfeed",telemetryPivotCategory:"news",pivotId:o&&t.state.context.feedId||n.length>=4+r&&n[3+r],display:o&&(t.state.context.display||t.state.context.query)||n.length>=3+r&&decodeURIComponent(n[2+r])}}setStaticRoutes(){const{staticRoutes:e}=this.config;e.forEach((e=>{let t;t=e.canonicalName?(0,a.qC)(e.canonicalName,void 0,!0,e.context&&e.context.excludeFeedPrefix):(0,a.Or)(e.externalUrl);const i={path:t,externalUrl:e.externalUrl,experienceInfo:e.experienceInfo,queryParamOverrides:e.queryParamOverrides,display:e.display||e.canonicalName,pivotId:e.pivotId,context:e.context,categoryKey:e.categoryKey,subCategoryKey:e.subCategoryKey,pageTitle:e.pageTitle};this.staticRoutes.push(i)}))}setDynamicRoutes(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=new g(this.onUpdateDynamicRoute.bind(this),this.config.dynamicRouteExperienceInfo);yield e.getDynamicPivotsFromDataConnector(this.config.dynamicRouteDataConnector)}))}onUpdateDynamicRoute(e){this.dynamicRoutes=e;for(const e of this.onUpdateRoutesCallbacks)e(this.dynamicRoutes)}}let m;!function(e){e[e.Telemetry=0]="Telemetry",e[e.Monetization=1]="Monetization",e[e.LoadContent=2]="LoadContent",e[e.AfterLoadContent=3]="AfterLoadContent"}(p||(p={}));const v=e=>m?(e&&m.setRoutes(e),m):(m=new f(e),m)},30528:function(e,t,i){"use strict";i.d(t,{He:function(){return d},I8:function(){return a},Or:function(){return l},T6:function(){return r},Vk:function(){return o},n8:function(){return u},qC:function(){return c},uO:function(){return s}});var n=i(66213);let r=!1;function o(e){r=e}let s=!1;function a(e){s=e}function c(e,t,i=!0,o=!1){if(r&&i){let i=`/${n.jG.CurrentMarket}`;if("windows"!==n.jG.AppType&&!s||o||(i+="/feed"),!e)return i;if(t)return i+`/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const r="/"===e[0]?e.slice(1):e;return i+(g[r]?`${g[r]}`:`/${r}`)}{if(!e)return"";if(t)return`/interest/${encodeURIComponent(e)}/${encodeURIComponent(t)}`;const i="/"===e[0]?e.slice(1):e;return g[i]||`/${i}`}}function d(e){return!!(e&&e.oldSelection&&e.newSelection)&&(!(!e.oldSelection||!e.oldSelection.pivotId)&&!(!e.newSelection||!e.newSelection.pivotId))}function l(e){try{return new URL(e).pathname}catch(e){return null}}var u;!function(e){e.MyFeed="myFeed",e.Personalize="personalize",e.Saves="saves"}(u||(u={}));const g={myFeed:"/",personalize:"/personalize",interest:"/interest/*/:id",saves:"/personalize/saves"}},62661:function(e,t,i){"use strict";i.d(t,{l:function(){return c}});var n=i(37574);class r{constructor(){this.callbacks=[],this.clickCallbacks=[]}getSelectedPivot(){return this.selectedPivot}switchPivot(e){const t=this.selectedPivot;this.selectedPivot=Object.assign({},e);const i={newSelection:this.selectedPivot,oldSelection:t};this.callbacks.sort(((e,t)=>e.switchCallbackOrder-t.switchCallbackOrder));for(const e of this.callbacks)e.callback(i)}clickPivot(e=!0,t){for(const i of this.clickCallbacks)i(e,t)}addSwitchListener(e,t=n.I.AfterLoadContent){this.callbacks.find((i=>i.callback===e&&i.switchCallbackOrder===t))||this.callbacks.push({callback:e,switchCallbackOrder:t})}addClickListener(e){this.clickCallbacks.push(e)}removeSwitchListener(e){this.callbacks=this.callbacks.filter((t=>t.callback!==e))}reportLoadComplete(){this.loadComplete=!0,this.loadCompleteResolveCallback&&this.loadCompleteResolveCallback()}waitForLoadComplete(){return this.loadCompletePromise?this.loadCompletePromise:this.loadComplete?Promise.resolve():(this.loadCompletePromise=new Promise((e=>{this.loadCompleteResolveCallback=e})),this.loadCompletePromise)}}var o=i(70493);let s;const a=new Map;function c(e){if(e){let t=a.get(e);return t||(t=new r,a.set(e,t)),t}return s||(s=new r),s}(0,o.U)((()=>{s=null,a.clear()}))},37574:function(e,t,i){"use strict";var n;i.d(t,{I:function(){return n}}),function(e){e[e.Telemetry=0]="Telemetry",e[e.Monetization=1]="Monetization",e[e.LoadContent=2]="LoadContent",e[e.AfterLoadContent=3]="AfterLoadContent"}(n||(n={}))},28781:function(e,t,i){"use strict";i.d(t,{X:function(){return r}});var n=i(55067);class r{}r.pageVisibilityChange=new n.C("PageVisibilityChange"),r.timeForPageReveal=new n.C("TimeForPageReveal"),r.forcePageReload=new n.C("ForcePageReload"),r.updateCurrentPageRefreshState=new n.C("UpdateCurrentPageRefreshState"),r.updateDidRenderStartInBackgroundRenderFlag=new n.C("UpdateDidRenderStartInBackgroundRenderFlag")},56698:function(e,t,i){"use strict";i.d(t,{Eu:function(){return g},bY:function(){return u},fv:function(){return p}});var n=i(53076),r=i(6719),o=i(93450),s=i(28781),a=i(94546),c=i(26415),d=i(65135),l=i(54804);function u(e){const t=o._.getInstance().rootReducer.connector(n.z.Preload);t&&s.X.forcePageReload.getActionSender(t).send(e||a.T.SettingsChange)}function g(e){const t=o._.getInstance().rootReducer.connector(n.z.Preload);t&&s.X.timeForPageReveal.getActionSender(t).send(e)}function p(e){if(!l.Al.IsPreload)return;if("windowsShell"===l.Al.ClientSettings.apptype)return e.Win10PerfDCREnabled=1,e[r.Qf]=e[r.dd],e[r.dd]=0,void(e[r.C7]=1);const t=function(){const e=o._.getInstance().rootReducer.connector(n.z.Preload);if(!e)return!1;return e.getCurrentState().didRenderStartInBackground}();t&&("edgeChromium"===l.Al.ClientSettings.apptype?(e[r.C7]=1,e[r.eO]=1):e[r.eO]=1);const i=e[r.Lh],s=e[r.dd],a=e[r.pM],u=e[r.pc];let g=!1;if((isNaN(s)||null===s)&&(d.M.sendAppErrorEvent(Object.assign(Object.assign({},c.OHc.TtvrMissing),{message:"TTVR missing during preload."})),g=!0),(isNaN(i)||null===i)&&(d.M.sendAppErrorEvent(Object.assign(Object.assign({},c.OHc.TfprMissing),{message:"TFPR missing during preload."})),g=!0),g)return;const p=e[r.Lh]=e[r.dd]=Math.min(i,s);t&&(e[r.Qf]=s),isNaN(a)||null===a?d.M.sendAppErrorEvent(Object.assign(Object.assign({},c.OHc.TtvrSearchBoxMissing),{message:"TTVR.SearchBox missing during preload."})):e[r.pM]=Math.min(p,a),isNaN(u)||null===u?d.M.sendAppErrorEvent(Object.assign(Object.assign({},c.OHc.TtfSearchBoxMissing),{message:"TTF.SearchBox missing during preload."})):e[r.pc]=Math.min(p,u)}},6719:function(e,t,i){"use strict";i.d(t,{C7:function(){return l},H$:function(){return n},Lh:function(){return a},Qf:function(){return c},dd:function(){return o},eO:function(){return d},jh:function(){return u},pM:function(){return s},pc:function(){return r}});const n="TTPR2",r="TTF.SearchBox",o="TTVR",s="TTVR.SearchBox",a="TFPR",c="TTVR.BackgroundExecution",d="backgroundpreload",l="prerender",u="TTAF"},94546:function(e,t,i){"use strict";var n;i.d(t,{T:function(){return n}}),function(e){e[e.StalePage=1]="StalePage",e[e.SettingsChange=2]="SettingsChange",e[e.MuidChange=3]="MuidChange",e[e.GizmoSettingChange=4]="GizmoSettingChange",e[e.TopSites=5]="TopSites",e[e.PivotSwitch=6]="PivotSwitch",e[e.SignInStateChange=7]="SignInStateChange",e[e.MutePublisher=8]="MutePublisher",e[e.UnMutePublisher=9]="UnMutePublisher",e[e.Dislike=10]="Dislike",e[e.Like=11]="Like",e[e.Save=12]="Save",e[e.Hide=13]="Hide",e[e.KidsMode=14]="KidsMode",e[e.MarketChange=15]="MarketChange",e[e.InterestsSdCardSettingChange=16]="InterestsSdCardSettingChange",e[e.InterestsChange=17]="InterestsChange",e[e.WeatherChange=18]="WeatherChange",e[e.MoneyCardChange=19]="MoneyCardChange",e[e.Disabled=20]="Disabled"}(n||(n={}))},70785:function(e,t,i){"use strict";i.d(t,{o:function(){return c}});var n=i(53076),r=i(93450),o=i(28781),s=i(54804);const a={didPreload:!1,timeTakenForRevealInMs:0,pageRevealed:!0};function c(){const e=r._.getInstance().rootReducer.connector(n.z.Preload);if(!e||!s.Al.IsPreload)return Promise.resolve(a);const t=e.getCurrentState();if(t&&t.pageRevealedData){const e=t.pageRevealedData;return Promise.resolve(e)}return new Promise((e=>{o.X.pageVisibilityChange.registerObserver((t=>{const i=t.params[0];e(i)}))}))}},63158:function(e,t,i){"use strict";i.d(t,{cB:function(){return s}});var n=i(65337);"undefined"!=typeof window&&window.location.href;const r="timestamp_",o="lastKnown_";function s(){(0,n.$o)().supported&&((0,n.$o)().removeSubstringKeys(o),(0,n.$o)().removeSubstringKeys(r),(0,n.$o)().removeSubstringKeys("force_timestamp_"),(0,n.$o)().removeSubstringKeys("keys_"),(0,n.$o)().removeSubstringKeys("_jssMap"))}},76373:function(e,t,i){"use strict";var n,r,o;i.d(t,{Ck:function(){return c},I8:function(){return a},MW:function(){return s},OF:function(){return o},be:function(){return n}}),function(e){e.SetEdgeAsDefault="9",e.PersonalizeFeed="130",e.TryInformationalMode="131",e.ReadEarn10pointmax100="132"}(n||(n={})),function(e){e.TopicDataActions="TopicDataActions",e.LayoutActions="LayoutActions"}(r||(r={})),function(e){e.PersonalizeFeed="PersonalizeFeed",e.TryInformationalMode="TryInformationalMode",e.SetEdgeAsDefault="SetEdgeAsDefault"}(o||(o={}));const s="SwitchPageLayout",a=new Map;a.set(n.PersonalizeFeed,!1),a.set(n.TryInformationalMode,!1),a.set(n.SetEdgeAsDefault,!1),a.set(n.ReadEarn10pointmax100,!1);const c=new Map,d={activities:[{experienceConnector:r.TopicDataActions,actionName:o.PersonalizeFeed,requiredCount:1,observedActivityCount:0}],isRewardActivityComplete:!1,isOfferReported:!1},l={activities:[{experienceConnector:r.LayoutActions,actionName:o.TryInformationalMode,requiredCount:1,observedActivityCount:0}],isRewardActivityComplete:!1,isOfferReported:!1},u={activities:[{experienceConnector:r.LayoutActions,actionName:o.SetEdgeAsDefault,requiredCount:1,observedActivityCount:0}],isRewardActivityComplete:!1,isOfferReported:!1};c.set(n.PersonalizeFeed,[d]),c.set(n.TryInformationalMode,[l]),c.set(n.SetEdgeAsDefault,[u])},16414:function(e,t,i){"use strict";i.d(t,{z:function(){return u}});var n=i(33940),r=i(73231),o=i(91881),s=i(26415),a=i(33954),c=i(53076),d=i(93450),l=i(65135);class u{static getRewardsFromDataConnector(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield d._.getInstance().rootReducer.getDataConnector(c.z.IrisData);if(!e)return l.M.sendAppErrorEvent(Object.assign(Object.assign({},s.Ytw.IrisDataConnectorUndefined),{message:"No Iris data connector"})),null;const t=yield e.getPayload(o._l.MSNNewsCoachmark);return this.extractRewardsCreativeMessages(t)}))}static extractRewardsCreativeMessages(e){if(!e)return a.k.log(`IrisHandler: Iris surface not found for the campaign: ${e}`),null;const t=new Map;let i;return e.creatives.forEach((n=>{var o;const s=[];n.content&&n.content.cm&&n.content.rewards&&n.telemetry&&(n.content.cm.forEach((t=>{i=Object.assign(Object.assign({},t),{coachmarkSource:r.jX.Iris,creativeId:n.creativeId,ctaList:t.cta,ecsFeatureFlags:n.content.ecsFeatureFlags,eventUrl:n.telemetry,frequency:Number(n.content.frequency),frequencyInterval:Number(n.content.frequencyInterval),isEcsExperiment:"true"===n.content.isEcsExperiment,placementId:e.placement,rewardsInfo:n.content.rewards,showPointer:!("true"===t.disablePointer),timeoutInMs:Number(t.timeoutInMs)}),s.push(i)})),t.set(null!==(o=n.content.rewards.activityId)&&void 0!==o?o:n.content.rewards.offerId,s))})),t}}},96345:function(e,t,i){"use strict";i.d(t,{Ef:function(){return o},FM:function(){return r},_k:function(){return c},c6:function(){return d},gR:function(){return a},o9:function(){return s}});var n=i(17157);function r(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("getHttp",e,t)}(e,(e=>{t(e)}))}))}function o(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("postHttp",e,t)}(e,(e=>{t(e)}))}))}function s(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("deleteHttp",e,t)}(e,(e=>{t(e)}))}))}function a(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("logEvent",e,t)}(e,(e=>{t(e)}))}))}function c(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("logError",e,t)}(e,(e=>{t(e)}))}))}function d(e){return new Promise(((t,i)=>{!function(e,t){(0,n.dw)("getUserInfo",e,t)}(e,(e=>{t(e)}))}))}},17157:function(e,t,i){"use strict";i.d(t,{dw:function(){return a},wq:function(){return r}});i(83648);const n={};function r(){var e,t,i,n;const r=null===(e=window.sapphireWebViewBridge)||void 0===e?void 0:e.send,o=null===(n=null===(i=null===(t=window.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===i?void 0:i.send)||void 0===n?void 0:n.postMessage;return r||o}let o;function s(e,t){var i,n,r,s,a,c,d;console.log(e,t);const l="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),u={scenario:e,data:{data:t},id:l};o&&!u.data.data.appId&&(u.data.data.appId=o);const g=JSON.stringify(u);return(null===(r=null===(n=null===(i=window.webkit)||void 0===i?void 0:i.messageHandlers)||void 0===n?void 0:n.send)||void 0===r?void 0:r.postMessage)&&(null===(c=null===(a=null===(s=window.webkit)||void 0===s?void 0:s.messageHandlers)||void 0===a?void 0:a.send)||void 0===c||c.postMessage(g)),(null===(d=window.sapphireWebViewBridge)||void 0===d?void 0:d.send)&&window.sapphireWebViewBridge.send(g),l}function a(e,t,i){const r=s(e,t);i&&function(e,t){n[e]?n[e].push(t):n[e]=[t]}(r,i)}},65019:function(e,t,i){"use strict";i.d(t,{_4:function(){return a},hP:function(){return c}});var n=i(33940),r=i(96345);let o,s;function a(){return s}function c(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(o.isSignedIn&&"AAD"===o.accountType){const e=yield(0,r.c6)({refresh:!0,accountType:"AAD"});try{const t=JSON.parse(e);if(t.accessToken&&t.accessToken.length>0)return`Bearer ${t.accessToken}`}catch(e){d(e,"SapphireUserConfig.getAccessToken: Failed to parse AAD access token")}}if(o.isSignedIn&&"MSA"===o.accountType){const t=yield(0,r.c6)({refresh:!0,accountType:"MSA",type:"AccessToken",scope:e});try{const e=JSON.parse(t);if(e.succeed)return e.accessToken}catch(e){d(e,"SapphireUserConfig.getAccessToken: Failed to parse MSA access token")}}return null}))}function d(e,t){(0,r._k)({type:"Failure",name:"HP_WEBVIEW_APP_ERROR",error:t,data:{error:e,customMessage:t}})}},27016:function(e,t,i){"use strict";i.d(t,{J:function(){return c}});var n=i(33940);const r={prefix:"SW",startTime:"StartTime",navigationFetchTime:"NavigationFetchTime",navigationCacheReadTime:"NavigationCacheReadTime"};function o(e){return[r.prefix,e].filter((e=>e.length>0)).join(".")}var s=i(34102),a=i(62676);function c(e){d()&&(e[o(r.startTime)]=Math.round(function(){const e=performance.getEntriesByType("navigation")[0],t=e.workerStart;return e.requestStart-t}()),e[o(r.navigationFetchTime)]=Math.round(function(){const e=performance.getEntriesByType("navigation")[0].transferSize;if(0===e||300===e)return-1;return performance.timing.responseStart-performance.timing.requestStart}()),e[o(r.navigationCacheReadTime)]=Math.round(function(){const e=performance.getEntriesByType("navigation")[0],t=e.transferSize;if(0===t||300===t){return e.responseStart-e.requestStart}return-1}()),function(e){(0,n.mG)(this,void 0,void 0,(function*(){if(!d())return;const t=yield(0,s.V)();e[a.kc]=t&&"hit"===t.cachedStatus?1:0,t&&t.cacheReadTime&&(e[o(r.navigationCacheReadTime)]=Math.round(t.cacheReadTime)),t&&t.fetchTime&&(e[o(r.navigationFetchTime)]=Math.round(t.fetchTime))}))}(e))}function d(){const e=performance.getEntriesByType("navigation");if(!e||0===e.length)return!1;const t=e[0].workerStart;return Boolean(t)}},42420:function(e,t,i){"use strict";i.d(t,{R:function(){return s},U:function(){return o}});var n=i(33940);let r=!1;const o={purgeCacheAsync:function(e){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isServiceWorkerActive()){const t=(yield caches.keys()).filter((t=>t.includes(e)));yield Promise.all(t.map((e=>caches.delete(e))))}}))},purgeEntryInCache:function(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.isServiceWorkerActive()){const n=yield caches.open(e),r=(yield n.keys()).filter((e=>e.url.startsWith(t)&&e.method===i));yield Promise.all(r.map((e=>n.delete(e))))}}))},isServiceWorkerActive:function(){const{navigator:e}=window,t=e&&e.serviceWorker&&e.serviceWorker.controller;return t&&"activated"===t.state},getIsServiceWorkerEnabled:function(){return r},setIsServiceWorkerEnabled:function(e){r=e}};var s;!function(e){e.base="base",e.followedTopics="followedTopics",e.publishersProfile="publishersProfile",e.river="river",e.subscribedPublishers="subscribedPublishers",e.financeGraphAction="financeGraphAction"}(s||(s={}))},34102:function(e,t,i){"use strict";i.d(t,{V:function(){return o}});var n=i(33940),r=i(41065);function o(){return(0,n.mG)(this,void 0,void 0,(function*(){return(0,r.T)({type:"NAV_PERF_DATA"})}))}},61810:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});const n=(e=2)=>{let t="/";const i=window.location.pathname.split("/");if(i.length>e&&i[e]){t+=i[1];for(let n=2;n<=e;n++)t+="/"+i[n]}return t}},41065:function(e,t,i){"use strict";function n(e){if(!navigator.serviceWorker)return;const t=navigator.serviceWorker.controller;if(t)return r(t,e);navigator.serviceWorker.ready.then((t=>{const i=t.active;if(i)return r(i,e)}))}function r(e,t){return new Promise((i=>{const n=new MessageChannel;n.port1.onmessage=e=>{i(e.data)},e.postMessage(t,[n.port2])}))}i.d(t,{T:function(){return n}})},13151:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var n,r=i(33940),o=i(68364),s=i(26415),a=i(970),c=i(54804),d=i(12108);!function(e){e.raceEnabled="raceEnabled",e.enableOfficeRoutes="enableOfficeRoutes",e.riverAgeMinutes="riverAgeMinutes"}(n||(n={}));var l=i(4734);function u(e,t,i=!1,r,u){e?"serviceWorker"in navigator?(e=function(e,t){const i="?"+function(e){const t=(0,a.L)().getAll("item"),i=t?t.find((e=>e&&0===e.indexOf("spalink:"))):void 0;let n=function(e){const t=(0,a.L)().get("bundles");let i;if(t&&(i=g("bundles",t),i))return i;if(i=g("bundles",e.bundlesOverride),i)return i;const n=c.Al.ClientSettings&&c.Al.ClientSettings.queryparams,r=new URLSearchParams(n);return g("bundles",r.get("bundles"))}(e);i&&(n=g("item",i));return n}(e)+function(e){const t=(0,a.L)().get(n.raceEnabled);return e.cacheAndNetworkRaceEnabled||t?g(n.raceEnabled,"true"):""}(e)+((null===(r=null===c.Al||void 0===c.Al?void 0:c.Al.ClientSettings)||void 0===r?void 0:r.audienceMode)===d.F.Enterprise?g(n.enableOfficeRoutes,"true"):"")+function(e){return isNaN(e.riverAgeMinutes)?"":g(n.riverAgeMinutes,e.riverAgeMinutes.toString())}(e);var r;"?"!==i&&(t=function(e,t){if(!e||!e.endsWith(t))return e;return e.slice(0,-1)}(t+=i,"&"));return t}(r,e),i?h(e,t,u):(0,l.F_)().then((()=>{h(e,t,u)}))):(0,o.H)(s.a6r,"Service Worker is not in navigator."):(0,o.H)(s.a6r,"No scriptUrl provided")}function g(e,t){return t?e+"="+t+"&":""}function p(e="/"){return(0,r.mG)(this,void 0,void 0,(function*(){try{const t=yield navigator.serviceWorker.getRegistration(e);t&&(yield t.unregister())?console.log("Call to unregister ServiceWorker: succeeded"):console.error("Call to unregister ServiceWorker: failed")}catch(e){console.error("Failed to unregister ServiceWorker: "+e)}}))}function h(e,t,i){return(0,r.mG)(this,void 0,void 0,(function*(){try{yield navigator.serviceWorker.register(e,{scope:t}),i&&i()}catch(e){(0,o.OO)(e,s.a6r,"ServiceWorker registration failed.")}}))}var f=i(69973),m=i(58155),v=i(12884),b=i(42420);function y(e,t,i,n,r){if(!t||"true"!==t.enabled)return;const o=c.Al.ClientSettings.deviceFormFactor;if(("false"!==t.mobileEnabled||o!==f.p.Phone&&o!==f.p.Tablet)&&function(e){const t=c.Al.ClientSettings.browser;if(!t&&"false"===e.mobileEnabled)return!1;const i=e.unsupportedBrowsers;if(!i||!i.length)return!0;if(i.findIndex((e=>e.toLowerCase()===t.browserType.toLowerCase()))>-1)return!1;return!0}(t)&&function(){const e="storageTest";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){console.log(e)}return!1}()){if("true"===t.registrationEnabled){const o=function(){const e=(0,v.zp)(),t=m.c.getQueryParameterByName("swimmediateregistration",e);if(t)return"true"===t.toLocaleLowerCase();return!1}();n=n||o,b.U.setIsServiceWorkerEnabled(!0),u(e,i,n,t,r)}"true"===t.unregistrationEnabled&&(!function(e="/",t=!1){if(!e||!("serviceWorker"in navigator))return null;t||"complete"===document.readyState?p(e):window.addEventListener("load",(()=>{p(e)}))}(i),b.U.setIsServiceWorkerEnabled(!1))}}},55027:function(e,t,i){"use strict";i.d(t,{I:function(){return r}});var n=i(55067);class r{}r.layoutAnimationStart=new n.C("layoutAnimationStart"),r.layoutAnimationComplete=new n.C("layoutAnimationComplete")},49042:function(e,t,i){"use strict";i.d(t,{B:function(){return r}});var n=i(55067);class r{}r.toggleCollapsibleControl=new n.C("toggleCollapsibleControlSignature")},11978:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(55067);class r{}r.setSignInState=new n.C("setSignInStateSignature"),r.updateFlyoutDisplayState=new n.C("setFlyoutDisplayStateSignature"),r.updateNotificationButtonDisplayState=new n.C("setNotificationButtonDisplayStateSignature"),r.updateRewardButtonDisplayState=new n.C("setRewardButtonDisplayStateSignature")},75244:function(e,t,i){"use strict";i.d(t,{m:function(){return s}});var n=i(63439),r=i(11978),o=i(33379);class s extends n.e{constructor(e,t,i,n,r,s,a){super(e,t,i,n,r,s,a),this._authPrivateApi=(0,o.N)()&&window&&window.chrome&&window.chrome.authPrivate,this.registerSignInEventChangedCallback()}updateSignInState(e){var t,i;null===(i=null===(t=null===r.O||void 0===r.O?void 0:r.O.setSignInState)||void 0===t?void 0:t.getActionSender(this))||void 0===i||i.send(e)}updateSignInFlyoutDisplayState(e){var t,i;null===(i=null===(t=null===r.O||void 0===r.O?void 0:r.O.updateFlyoutDisplayState)||void 0===t?void 0:t.getActionSender(this))||void 0===i||i.send(e)}updateNotificationButtonDisplayState(e){var t,i;null===(i=null===(t=null===r.O||void 0===r.O?void 0:r.O.updateNotificationButtonDisplayState)||void 0===t?void 0:t.getActionSender(this))||void 0===i||i.send(e)}updateRewardButtonDisplayState(e){var t,i;null===(i=null===(t=null===r.O||void 0===r.O?void 0:r.O.updateRewardButtonDisplayState)||void 0===t?void 0:t.getActionSender(this))||void 0===i||i.send(e)}registerSignInEventChangedCallback(){this._authPrivateApi&&this._authPrivateApi.onSignInStateChanged.addListener((e=>{const t=e;this.updateSignInState(!!t.account_id)}))}}},79485:function(e,t,i){"use strict";i.d(t,{e:function(){return o}});var n=i(30856),r=i(11978);class o{reduce(e,t){if(!e)return{isUserSignedIn:void 0,isFlyoutDisplayed:!1,isNotificationButtonDisplayed:!1,isRewardButtonDisplayed:!1};if(!t)return e;let i;return n.G.handleAction(t,r.O.setSignInState,(t=>{i=Object.assign(Object.assign({},e),{isUserSignedIn:t})})),n.G.handleAction(t,r.O.updateFlyoutDisplayState,(t=>{i=Object.assign(Object.assign({},e),{isFlyoutDisplayed:t})})),n.G.handleAction(t,r.O.updateNotificationButtonDisplayState,(t=>{i=Object.assign(Object.assign({},e),{isNotificationButtonDisplayed:t})})),n.G.handleAction(t,r.O.updateRewardButtonDisplayState,(t=>{i=Object.assign(Object.assign({},e),{isRewardButtonDisplayed:t})})),i||e}}},47680:function(e,t,i){"use strict";i.d(t,{j:function(){return r}});var n=i(55067);class r{}r.disableSmartList=new n.C("disableSmartList"),r.registerSmartList=new n.C("registerSmartList"),r.persistSmartList=new n.C("persistSmartList"),r.updateSmartListBadgeProps=new n.C("updateSmartListBadgeProps"),r.updateSmartListState=new n.C("updateSmartListState"),r.userSignInSignature=new n.C("userSignInSignature"),r.userSignOutSignature=new n.C("userSignOutSignature")},12360:function(e,t,i){"use strict";i.r(t),i.d(t,{SmartListSharedActions:function(){return r.j},SmartListSharedDataConnector:function(){return s},SmartListSharedDataReducer:function(){return c},ToolingInfo:function(){return d}});var n,r=i(47680),o=i(63439);!function(e){e[e.notStarted=0]="notStarted",e[e.initialized=1]="initialized",e[e.rendered=2]="rendered",e[e.unmounted=3]="unmounted"}(n||(n={}));class s extends o.e{initSmartList(e){if(!e)return;const t=this.getSmartList(e);t&&t.initCallback&&t.currentState===n.notStarted&&(t.initCallback(),r.j.updateSmartListState.getActionSender(this).send(e,n.initialized))}moveFocusToSmartList(e,t){const i=this.getSmartList(e);return!!(i&&i.focusCallback&&i.renderCallback&&i.currentState===n.rendered)&&(i.focusCallback(t),!0)}renderSmartList(e,t){if(!e||!t)return;const i=this.getSmartList(e);i&&i.renderCallback&&(i.renderCallback(t),r.j.updateSmartListState.getActionSender(this).send(e,n.rendered))}unmountSmartList(e,t){if(!e||!t)return;const i=this.getSmartList(e);i&&i.unmountCallback&&i.currentState===n.rendered&&(i.unmountCallback(t),r.j.updateSmartListState.getActionSender(this).send(e,n.unmounted))}updateSignInStatus(e,t){const i=this.getSmartList(e);return!(!i||!i.updateSignInStatusCallback)&&(i.updateSignInStatusCallback(t),!0)}getSmartList(e){if(!e)return;const t=this.getCurrentState().smartLists;return t&&0!==t.size?t.get(e):void 0}}var a=i(30856);class c{reduce(e,t){if(!e)return{smartLists:new Map};if(!t)return e;let i=!1;const o=Object.assign({},e);return i=i||a.G.handleAction(t,r.j.disableSmartList,(e=>{if(e){const t=o.smartLists.get(e);t&&(t.currentState=n.notStarted)}})),i=i||a.G.handleAction(t,r.j.registerSmartList,(e=>{e&&(o.smartLists.has(e.experienceType)||o.smartLists.set(e.experienceType,{badgeProps:void 0,currentState:n.notStarted,focusCallback:e.focusShouldMove,initCallback:e.initShouldFire.bind(e),isUserSignedIn:!1,renderCallback:e.renderShouldFire,shouldPersist:void 0,unmountCallback:e.unmountShouldFire,updateSignInStatusCallback:e.updateSignInStatus}))})),i=i||a.G.handleAction(t,r.j.persistSmartList,(e=>{if(e){const t=o.smartLists.get(e);t&&(t.shouldPersist=!0)}})),i=i||a.G.handleAction(t,r.j.updateSmartListState,((e,t)=>{if(e){const i=o.smartLists.get(e);i&&(i.currentState=t)}})),i=i||a.G.handleAction(t,r.j.updateSmartListBadgeProps,((e,t)=>{if(e){const i=o.smartLists.get(e);i&&t&&(i.badgeProps=t)}})),i=i||a.G.handleAction(t,r.j.userSignInSignature,(e=>{if(e){const t=o.smartLists.get(e);t&&(t.isUserSignedIn=!0)}})),i=i||a.G.handleAction(t,r.j.userSignOutSignature,(e=>{if(e){const t=o.smartLists.get(e);t&&(t.badgeProps=null,t.isUserSignedIn=!1)}})),i?o:e}}const d={experienceConfigSchema:{}}},92031:function(e,t,i){"use strict";i.d(t,{$S:function(){return T},$y:function(){return v},IK:function(){return I},IV:function(){return P},Kb:function(){return w},Rc:function(){return E},U$:function(){return b},Zs:function(){return O},gA:function(){return k},jo:function(){return y},js:function(){return m},tV:function(){return S},uS:function(){return r},z2:function(){return A}});var n,r,o=i(33940),s=i(26415),a=i(68364),c=i(33954),d=i(53899),l=i(24888),u=i(61857),g=i(53076),p=i(65135),h=i(33379),f=i(82423);!function(e){e.pinMsnews="pinMsnews",e.tryInformationalMode="tryInformationalMode",e.tryInformationalModeDirect="tryInformationalModeDirect",e.tryInformationalModeProg="tryInformationalModeProg",e.tryPersonalizations="tryPersonalizations"}(n||(n={})),function(e){e.setDefaultBrowser="setDefaultBrowser"}(r||(r={}));const m=()=>{const e=new Promise((e=>{try{(0,h.N)()&&window&&window.chrome&&window.chrome.shellIntegrationPrivate&&"function"==typeof window.chrome.shellIntegrationPrivate.setDefaultBrowser?window.chrome.shellIntegrationPrivate.setDefaultBrowser((t=>{const i=null==t?void 0:t.success;i&&document.dispatchEvent(new CustomEvent("setDefaultBrowserSuccess",{})),e({actionCompleted:i,status:null==t?void 0:t.message})})):(p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.DKZ),{message:"TargetActionLib: window.chrome.shellIntegrationPrivate.setDefaultBrowser chromium API not available"})),e({actionCompleted:!1,status:"set default browser api not available"}))}catch(t){(0,a.OO)(t,s.WQV,"TargetActionLib: Exception executing window.chrome.shellIntegrationPrivate.setDefaultBrowser chromium API to set default browser to Edge"),e({actionCompleted:!1,status:JSON.stringify(t)})}}));return()=>(0,o.mG)(void 0,void 0,void 0,(function*(){return yield e}))},v=e=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){const t=l.LR[l.HV.openEdgeBrowserNewWindow];return t?yield t({text:e}):null})),b=(e,t)=>{switch(e){case n.tryInformationalMode:return w(t);case n.tryInformationalModeDirect:return k();case n.tryInformationalModeProg:return T(t);case n.tryPersonalizations:return C()}},y=e=>{if(e===r.setDefaultBrowser)return m()},C=()=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){let e;const t=l.LR[l.HV.clickPersonalizeButton];return t&&(e=yield t({})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e})),S=()=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){let e;const t=l.LR[l.HV.clickVoiceSearchButton];return t&&(e=yield t({})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e})),w=e=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){let t;return t=yield M(),yield(0,u.rT)(e||1e3),t=yield x(),t})),T=e=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){let t;t=yield M(),yield(0,u.rT)(e||1e3),t=yield x(),yield(0,u.rT)(e||1e3);const i=l.LR[l.HV.clickSettingsCloseButton];return i&&(t=yield i({})),t})),k=()=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){const e={actionCompleted:!1},t=yield(0,f.oU)(g.z.ChromiumPageSettings);if(!t)return e.status="ChromiumPageSettingsConnector not found",e;const i=t.getCurrentState(),n=Object.assign(Object.assign({},i),{currentLayout:d.nP.informational});return t.updateLayout(n),e.actionCompleted=!0,e.status="Layout mode changed to informational",e})),O=e=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){let e;const t=l.LR[l.HV.clickWaffleButton];return t&&(e=yield t({})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e})),E=()=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){return L("always")})),I=()=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){return L("peek")})),A=()=>()=>{let e={actionCompleted:!1,status:"pinPage API not available"};try{if(!((0,h.N)()&&window&&window.chrome&&window.chrome.appPinningPrivate&&window.chrome.appPinningPrivate.pinPage))return p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.oEq),{message:"window.chrome.appPinningPrivate.pinPage not available"})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e;const t="This attests that the user has agreed to pin this website";window.chrome.appPinningPrivate.pinPage(t,"https://microsoftnews.msn.com?ocid=msnewspintb","Microsoft News"),e={actionCompleted:!0,status:"Microsoftnews pinned to taskbar"}}catch(e){p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.oEq),{message:"Exception executing window.chrome.appPinningPrivate.pinPage chromium API to pin Microsoftnews to taskbar",pb:Object.assign(Object.assign({},s.oEq.pb),{customMessage:`Exception: ${e}`})}))}return c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e},P=e=>()=>(0,o.mG)(void 0,void 0,void 0,(function*(){try{if(!((0,h.N)()&&window&&window.chrome&&window.chrome.desktopWidgetPrivate))return p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.NqK),{message:"window.chrome.desktopWidgetPrivate api not available"})),{actionCompleted:!1,status:"window.chrome.desktopWidgetPrivate api not available"};if(!window.chrome.desktopWidgetPrivate.launch)return p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.WNM),{message:"window.chrome.desktopWidgetPrivate.launch api not available"})),{actionCompleted:!1,status:"window.chrome.desktopWidgetPrivate.launch api not available"};const t=(0,u.Bw)(e);return window.chrome.desktopWidgetPrivate.launch(t,"COACHMARK"),window.chrome.desktopWidgetPrivate.enableAutoStart?(window.chrome.desktopWidgetPrivate.enableAutoStart(t,"COACHMARK"),{actionCompleted:!0,status:"Launched web widget and default to windows start."}):(p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.mNl),{message:"window.chrome.desktopWidgetPrivate.enableAutoStart api not available"})),{actionCompleted:!1,status:"window.chrome.desktopWidgetPrivate.enableAutoStart api not available"})}catch(e){return p.M.sendAppErrorEvent(Object.assign(Object.assign({},s.dyx),{message:"Exception launching web widget and defaulting to windows start",pb:Object.assign(Object.assign({},s.dyx.pb),{customMessage:`Error: ${JSON.stringify(e)}`})})),{actionCompleted:!1,status:"Exception executing launchAndDefaultWebWidget() CTA"}}}));function x(){return(0,o.mG)(this,void 0,void 0,(function*(){let e;const t=l.LR[l.HV.clickSettingsInformationalButton];return t&&(e=yield t({})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e}))}function M(){return(0,o.mG)(this,void 0,void 0,(function*(){let e;const t=l.LR[l.HV.clickSettingsButton];return t&&(e=yield t({})),c.k.log(`Action completed: ${e.actionCompleted} status: ${e.status}`),e}))}function L(e){return(0,o.mG)(this,void 0,void 0,(function*(){const t={actionCompleted:!1},i=yield(0,f.oU)(g.z.ChromiumPageSettings);if(!i)return t.status="ChromiumPageSettingsConnector not found",t;const n=i.getCurrentState();if(n.currentLayout!==d.nP.custom){const e=Object.assign(Object.assign({},n),{currentLayout:d.nP.custom});i.updateLayout(e)}return i.updateFeeds(e),t.actionCompleted=!0,t.status=`Feed toggle changed to ${e}`,t}))}},24888:function(e,t,i){"use strict";i.d(t,{LR:function(){return a},HV:function(){return s},ok:function(){return c}});var n=i(61857),r=i(33940),o=i(36803);const s={clickAddTileButton:"clickAddTileButton",clickMyFeedPivotButton:"clickMyFeedPivotButton",clickPersonalizeButton:"clickPersonalizeButton",clickSettingsAdvancedButton:"clickSettingsAdvancedButton",clickSettingsButton:"clickSettingsButton",clickSettingsCloseButton:"clickSettingsCloseButton",clickSettingsCustomButton:"clickSettingsCustomButton",clickSettingsFocusedButton:"clickSettingsFocusedButton",clickSettingsInformationalButton:"clickSettingsInformationalButton",clickSettingsInspirationalButton:"clickSettingsInspirationalButton",clickVoiceSearchButton:"clickVoiceSearchButton",clickWaffleButton:"clickWaffleButton",openEdgeBrowserNewWindow:"openEdgeBrowserNewWindow"},a={[s.clickAddTileButton]:()=>(0,n.xB)("AddTopSiteButton"),[s.clickMyFeedPivotButton]:()=>(0,n.xB)("MyFeedPivotButton"),[s.clickPersonalizeButton]:()=>(0,n.xB)("PersonalizeButton"),[s.clickSettingsAdvancedButton]:()=>(0,n.xB)("SettingsAdvancedButton"),[s.clickSettingsButton]:()=>(0,n.xB)("SettingsButton"),[s.clickSettingsCloseButton]:()=>(0,n.xB)("settingsCloseButton"),[s.clickSettingsCustomButton]:()=>(0,n.xB)("SettingsCustomButton"),[s.clickSettingsFocusedButton]:()=>(0,n.xB)("SettingsFocusedButton"),[s.clickSettingsInformationalButton]:()=>(0,n.xB)("settingsInformationalButton"),[s.clickSettingsInspirationalButton]:()=>(0,n.xB)("SettingsInspirationalButton"),[s.clickVoiceSearchButton]:()=>(0,n.xB)("searchBoxVoiceButton"),[s.openEdgeBrowserNewWindow]:e=>(0,r.mG)(void 0,void 0,void 0,(function*(){return e&&e.text&&(0,o.R)(e.text)?(window.open(e.text,"_blank").focus(),{actionCompleted:!0,status:"Window opened"}):{actionCompleted:!1,status:"No url provided"}})),[s.clickWaffleButton]:()=>(0,n.xB)("waffle")},c="clickSettingsQuicklinksToggle"},61857:function(e,t,i){"use strict";i.d(t,{Bw:function(){return l},rT:function(){return c},xB:function(){return a},zq:function(){return d}});var n=i(33940),r=i(36803),o=i(53899),s=i(9533);const a=e=>{const t=(e=>(0,r.R)(e)?(0,s.b_)(e):null)(e);if(!t)return{actionCompleted:!1,status:`TargetId [${e}] was not found.`};const i=(e=>{const t=e&&e.click;return!(!t||"function"!=typeof t||(e.click.call(e),0))})(t);return{actionCompleted:i,status:`Click status: TargetId [${e}] == ${i}`}},c=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const t=new Promise((t=>{setTimeout(t,e)}));yield t})),d=()=>{const e={resolve:null,waiting:null};return e.waiting=new Promise((t=>{e.resolve=t})),e},l=e=>{switch(e){case o.nP.custom:return"NTP_CUSTOM";case o.nP.focused:return"NTP_FOCUSED";case o.nP.informational:return"NTP_INFORMATIONAL";case o.nP.inspirational:return"NTP_INSPIRATIONAL";default:return"NTP_UNKNOWN"}}},75559:function(e,t,i){"use strict";i.d(t,{NS:function(){return r},qP:function(){return n},tM:function(){return o},tW:function(){return s}});const n="data-t";var r;!function(e){e.Auto="auto",e.AutoScroll="autoScroll",e.Load="load",e.Partial="partial",e.Resize="resize",e.Scroll="scroll",e.Swipe="swipe",e.Tap="tap",e.View="view"}(r||(r={}));const o="TelemetryPageViewNotificationEvent",s="AppErrorNotificationEvent"},38156:function(e,t,i){"use strict";i.d(t,{Aw:function(){return o},GU:function(){return d},MV:function(){return c},c9:function(){return n},hP:function(){return a},uH:function(){return r},wu:function(){return s}});const n={Undefined:0,Header:1,Footer:2,TopNavBar:3,NavBar:4,DropDown:5,Section:6,Carousel:7,Module:8,SearchBox:9,InputBox:10,ActionButton:11,Interaction:12,Headline:13,Entity:15,Topic:29,Provider:30,NewStories:46,AutoSuggest:47,Tile:49,TrendingNews:50,AllCoverage:51,Report:52,MsccCookieComplianceBanner:54,CookieWallCookieComplianceBanner:57,FRE:60,VideoPlayer:61,ContentCard:62,SubmitForm:63,TrafficCard:64,WeatherCard:65,TravelDestinationCard:66,FitnessWorkoutVideo:67,BingHealthFitnessCard:68,FamilyCard:69,FitnessCard:70,HealthQnACard:71,HealthTipCard:72,HealthFitnessCarousel:73},r={Undefined:0,StructuredData:1,AppStore:2,CmsPromotions:3,MicrosoftWebStore:4,XboxStore:5,OfficeStore:6,PartnerLinks:7,SponsoredContent:8,ExternalLink:10,SearchPromo:11,Feed:12,Article:13,Gallery:14,Video:15,Audio:16,Settings:17,DisplayAd:18,OfficeDocument:19,App:20,SearchResult:21,VideoAd:22,Map:23,Comment:24,Profile:25,Coachmark:26,TrendingSearch:27,AutoSuggestSearch:28,SearchHistory:29,TextSearch:30,TopSites:31,SearchLink:32,ImageSearch:33,VoiceSearch:34,Toast:35,Greeting:36,Image:37,Banner:38,Waffle:39,Notification:40,QnaTopic:41,QnaContent:42,Publisher:43,Topic:44,LayoutToggle:45,WebContent:46,FinanceTicker:47,CashbackOffer:48,AiCharacter:49,FoodItem:50,FitnessChallenge:51,Overlay:52,Inspiration:53},o={Click:"click",Hover:"mouseenter",MouseLeave:"mouseleave",Submit:"submit",View:"view",RightClick:"rightclick",Wheel:"wheel",KeyPress:"keypress",HorizontalSwipe:"hswipe",MiddleClick:"middleclick",VerticalSwipe:"vswipe"},s={Undefined:0,Navigate:1,ContextMenu:2,Pin:3,Unpin:4,Rearrange:5,Remove:6,Add:7,Open:8,View:9,Follow:10,Unfollow:11,More:12,Close:13,Share:14,Like:15,Dislike:16,Unlike:17,Undislike:18,Mute:19,Unmute:20,Cancel:21,Launch:22,Install:23,Manage:24,Show:25,MuteCancel:26,Save:27,Hide:28,Unhide:29,Customize:30,Suspend:31,Clear:32,SignIn:33,SignOut:34,UndoSave:35,TurnOn:36,TurnOff:37,Forward:38,Response:39,Report:40,ZoomIn:41,ZoomOut:42,Comment:43,Sort:44,Love:45,Surprised:46,Thinking:47,Sad:48,Angry:49,TextSearch:50,ImageSearch:51,UndoRemove:52,Rename:53,SearchLink:54,VoiceSearch:55,Complete:56,Play:57,Pause:58,Seek:59,Volume:60,ClosedCaptions:61,Fullscreen:62,Restore:63,Replay:64,Copy:65,Reactlike:66,UnReactlike:67,UnLove:68,UnSurprised:69,UnThinking:70,UnSad:71,UnAngry:72,ReportAd:73,Refresh:74,Paginate:75},a={Empty:0,SearchBox:1,TopSites:2,Suggested:4,ContentFeed:8,WinFRE:16,BingImage:32,ContentBelowTheFold:64,CustomModeOption:128,GreetingEnabled:256,HeadingsOnly:512,StripeLayout:1024,Peek:2048};var c,d;!function(e){e[e.Unknown=1]="Unknown",e[e.Heavy=2]="Heavy",e[e.Moderate=4]="Moderate",e[e.Light=8]="Light",e[e.None=16]="None"}(c||(c={})),function(e){e[e.Unknown=0]="Unknown",e[e.Delays=1]="Delays",e[e.Incidents=2]="Incidents",e[e.Camera=3]="Camera",e[e.Mixed=4]="Mixed",e[e.TravelTimes=5]="TravelTimes",e[e.Commute=6]="Commute",e[e.Summary=7]="Summary",e[e.AreaSummary=8]="AreaSummary",e[e.CollisionAndConstruction=9]="CollisionAndConstruction"}(d||(d={}))},65135:function(e,t,i){"use strict";i.d(t,{M:function(){return n},u:function(){return r}});let n=null;function r(e){n=e}},75816:function(e,t,i){"use strict";var n;i.d(t,{G:function(){return n}}),function(e){e[e.All=0]="All",e[e.Otf=1]="Otf",e[e.OneDS=2]="OneDS",e[e.CTag=3]="CTag",e[e.Comscore=4]="Comscore",e[e.Debug=5]="Debug",e[e.SuperApp=6]="SuperApp"}(n||(n={}))},37457:function(e,t,i){"use strict";i.d(t,{$:function(){return T}});var n=i(82357),r=i(93048),o=i(7282),s=i(75816),a=i(98429);a.kP&&(window.telemetryEventsClear=()=>{window.telemetryEvents=[]},window.telemetryEventsFlush=()=>{const e=Object.assign({},window.telemetryEvents);return window.telemetryEventsClear(),e});const c=function(e){a.kP&&(window.telemetryEvents=window.telemetryEvents||[],window.telemetryEvents.push(e))},d=[{type:s.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:s.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new n.P,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new r.O,transporterConfig:{callback:c}}],l=[{type:s.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:s.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new n.P,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new r.O,transporterConfig:{callback:c}}],u=[{type:s.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:s.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new n.P,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new r.O,transporterConfig:{callback:c}}],g=[{type:s.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:s.G.Debug,mapper:new o.k,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new n.P,transporterConfig:{callback:c}},{type:s.G.Debug,mapper:new r.O,transporterConfig:{callback:c}}],p=[{type:s.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],h=[{type:s.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],f=[{type:s.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],m=[{type:s.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],v=[{type:s.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],b=[{type:s.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],y=[{type:s.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],C=[{type:s.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:s.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:s.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],S=[{type:s.G.SuperApp,transporterConfig:{enableConsoleLog:!0}}],w={};function T(e,t,i,n){let r;return r=e&&e.includes("microsoftstart.com")?"prod"===t?n?i?w.cnEnterpriseMicrosoftStart:w.enterpriseMicrosoftStart:i?w.cnProdMicrosoftStart:w.prodMicrosoftStart:i?w.cnIntMicrosoftStart:w.intMicrosoftStart:"prod"===t?n?i?w.cnEnterprise:w.enterprise:i?w.cnProd:w.prod:i?w.cnInt:w.int,r}w.prod=p,w.int=d,w.cnProd=h,w.cnInt=l,w.enterprise=f,w.cnEnterprise=m,w.superApp=S,w.prodMicrosoftStart=v,w.intMicrosoftStart=u,w.cnProdMicrosoftStart=b,w.cnIntMicrosoftStart=g,w.enterpriseMicrosoftStart=y,w.cnEnterpriseMicrosoftStart=C},82357:function(e,t,i){"use strict";i.d(t,{P:function(){return r}});var n=i(98429);class r{createPageViewPayload(e){if(!e)return;const t=e&&e.page,i=t&&t.content,r=e&&e.user,o={rnd:(0,n.Xn)(),udc:!0};return t&&(o["pg.n"]=t.name,o["pg.t"]=t.type,o["pg.c"]=t.config,o["pg.p"]=t.product,o.rf=t.referral,o.tp=t.url,o.cvs=t.canvas,t.consentChanged&&(o.ctsa=t.consentChanged)),i&&(o.di=i.domainId,o["st.dpt"]=i.category,o["st.sdpt"]=i.subcategory,o.subcvs=i.vertical),e&&(o.lng=e.locale&&e.locale.mkt,e.request&&(o.rid=e.request.requestId,o.activityId=e.request.activityId),e.browser&&(o["d.imd"]=e.browser.isMobile,o.scr=e.browser.screenSize,o.anoncknm=e.browser.anoncknm)),r&&(o.issso=r.isSso,o.aadState=r.aadState),o}}},93048:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(98429);class r{createPageViewPayload(e){if(!e)return;let t=e&&e.page&&e.page.url;try{const i=new URL(t),n=e&&e.page&&e.page.config;(8&n||2048&n)&&(i.searchParams.set("content","1"),t=i.href),e.locale&&e.locale.mkt&&(i.searchParams.set("mkt",e.locale.mkt),t=i.href)}catch(e){}return{rn:(0,n.Xn)(),c1:2,c2:3000001,cs_ucfr:1,c7:t,c8:e&&e.page&&e.page.content&&e.page.content.title,c9:e&&e.page&&e.page.referral}}}},7282:function(e,t,i){"use strict";i.d(t,{k:function(){return l}});var n=i(75559),r=i(38156),o=i(4248),s=i(65969),a=i(98429),c=i(24410),d=i(13578);class l{createPageViewPayload(e){if(e){return this.createEvent(s.id.PageView,Object.assign({},e),o.zU.RealTime)}}createContentViewPayload(e,t,i){if(!t)return;const r=[];e.forEach((e=>{r.push(this.mapTelemetryObject(e))}));let c;(0,a.d5)()&&(c={content:{docHeight:(0,a.d5)()}});const l=Object.assign(Object.assign(Object.assign({},t),c),{compressedObject:r,contentViewType:i.contentViewType});if(i.contentViewType===n.NS.Scroll&&(l.isMeaningfulScroll=i.isMeaningfulScroll),!(0,d.Z)(r)){return this.createEvent(s.id.ContentView,l,o.zU.RealTime)}}createActionPayload(e,t,i,n){if((0,d.Z)(e)||!t)return;let a;i===r.Aw.RightClick?a="rightclick":t&&t.browser&&!0===t.browser.isMobile?a="tap":i===r.Aw.Click&&(a="click");const l=e.content&&e.content.type,u=e.type||(0,c.Y)(l,n);0!==u&&(e.type=u),delete e.action,delete e.behavior,delete e.overrideId,delete e.overrideDestinationUrl;return this.createEvent(s.id.UserAction,Object.assign(Object.assign({actionType:i,behavior:n,object:e},t),{gesture:a}),o.zU.RealTime)}createEventPayload(e,t,i){if(!i)return;return this.createEvent(s.id[e],Object.assign(Object.assign({},i),t),o.zU.RealTime)}createCustomEventPayload(e,t,i){if(!i&&"AppError"!==e||(0,d.Z)(t))return;return this.createEvent(s.id[e],Object.assign(Object.assign({},i),{extSchema:t}),o.zU.Normal)}mapTelemetryObject(e){r.c9.ContentCard;let t;const i=e&&e.content&&e.content.type;(i||e.behavior)&&(t=(0,c.Y)(i,e.behavior));const n={n:e&&e.name,y:e&&e.type||t,l:e&&e.content&&e.content.id,h:e&&e.content&&e.content.headlineIdx,v:e&&e.content&&e.content.vertical,tp:e&&e.content&&e.content.topic,c:e&&e.content&&e.content.category,s:e&&e.content&&e.content.source,f:e&&e.feed&&e.feed.id,ct:e&&e.content&&e.content.type,i:e&&e.placement&&e.placement.id,p:e&&e.placement&&e.placement.parentId,o:e&&e.placement&&e.placement.ordinal,aud:e&&e.content&&e.content.audienceMode,isLocal:e&&e.content&&e.content.isLocal,subscriptionType:e&&e.content&&e.content.subscriptionType,providerType:e&&e.content&&e.content.providerType,zone:e&&e.zone};return e.ext&&(n.ext=e.ext),n}createEvent(e,t,i,n=!1){return{name:e,data:t,baseType:s.id.Base,latency:i,sync:n}}}},98146:function(e,t,i){"use strict";i.d(t,{v:function(){return s}});var n=i(90351),r=i(25514);const o={n:"name",t:"type",a:"action",b:"behavior",customHandled:"customHandled",d:"overrideDestinationUrl",z:"zone","c.hi":"content.headlineIdx","c.auth":"content.author","c.i":"content.id","c.l":"content.isLocal","c.s":"content.source","c.p":"content.parentId","c.t":"content.type","c.tp":"content.topic","c.v":"content.vertical","c.c":"content.category","c.sc":"content.subcategory","c.pn":"content.partnerName","c.pi":"content.partnerId","c.b":"content.brand","c.bi":"content.brandId","c.st":"content.subscriptionType","c.pl.i":"content.placement.id","c.pl.p":"content.placement.parentId","c.pl.o":"content.placement.ordinal","c.pl.l":"content.placement.lineage","c.pl.lo":"content.placement.lineageOrdinal","c.aud":"content.audienceMode","c.pv":"content.providerType","f.i":"feed.id","f.n":"feed.name","f.t":"feed.type",ext:"ext"};class s{static compress(e){const t={},i=Object.keys(o);for(let r=0;r<i.length;r++){const s=i[r],a=(0,n.Z)(e,o[s]);void 0!==a&&(t[s]=a)}const r=(0,n.Z)(e,"content.headline");return r&&(t["c.hl"]=r),t}static decompress(e){if(!e)return;const t={},i=Object.keys(o);for(let s=0;s<i.length;s++){const a=i[s],c=(0,n.Z)(e,a);void 0!==c&&(0,r.Z)(t,o[a],c)}return e["c.hl"]&&(0,r.Z)(t,"content.headline",e["c.hl"]),t}}},18536:function(e,t,i){"use strict";i.d(t,{u:function(){return d}});var n=i(75559),r=i(65135),o=i(98429),s=i(98146),a=i(60483),c=i(46728);class d{constructor(e){this.hasInheritedProperty=!1,this.ordinal=0,this.ordinalCount=0,this.contract=e||{},this.ordinalCount=0,this.superContract={}}get combinedContract(){if(this.contract){const e=(this.contract.content=this.contract.content||{}).headline;this.contract.content.headline=e||(0,o.tH)(this.element)}return this.hasInheritedProperty?(0,c.Z)({},this.superContract,this.contract,this.internalContract):(0,c.Z)({},this.contract,this.internalContract)}get internalContract(){const{lineage:e,lineageOrdinal:t}=d.getLineage(this),i=d.getInheritedProperties(this),n=Object.assign({placement:{id:this.id,lineage:e,lineageOrdinal:t}},i);return this.parentDOM&&this.parentDOM.id&&0!==this.parentDOM.id&&(n.placement.parentId=this.parentDOM.id,n.placement.ordinal=this.ordinal),n}static addElement(e){if(!e)return;const t=this.parseContract(e);let i=this.get(e);if(i&&i.id?i.contract=t:(i=new d(t),i.id=this.generateId(),this.set(e,i)),!i)return;let r=e.parentElement;!r&&e.parentNode&&e.parentNode.host&&(r=e.parentNode.host);let s=r&&(0,o.pE)(r,"["+n.qP+"]"),a=s&&this.get(s);return s&&!a&&((0,o.t0)("telemetrynodeadded",s),a=this.get(s)),i===a&&(s=s.closest("["+n.qP+"]"),a=this.get(s)),i.parentDOM=a&&a!==i?a:d.getRoot(),this.inheritProperty(i),this.needUpdate=!0,i}static inheritProperty(e){if(!r.M||!r.M.config||r.M.config.inheritByTraversingDOM||!e.contract)return;const t=e.parentDOM.contract,i=e.parentDOM.superContract,n=e.contract,o=e.superContract;r.M.config.inheritExt&&(t.ext||i.ext)&&(e.hasInheritedProperty=!0,o.ext=Object.assign(Object.assign(Object.assign({},i.ext),t.ext),n.ext));const s=r.M.config.inheritPropertyList;if(s&&s.length>0)for(const r of s){if(!t[r]&&!i[r])continue;e.hasInheritedProperty=!0;const s=n[r],a=t[r],c=i[r];null==s?o[r]=null!=c?c:a:this.isObject(s)&&(this.isObject(c)?o[r]=Object.assign(Object.assign({},c),s):this.isObject(a)&&(o[r]=Object.assign(Object.assign({},a),s)))}}static isObject(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}static renderObject(e){return e.render()}static renderContract(e){return a.D.render(e)}static setAttribute(e,t,i=null){if(!e||!e.setAttribute)return;t=t||i&&i.contract;const r=this.renderContract(t);r&&e.setAttribute(n.qP,r[n.qP])}static get(e){const t=this.elementMap.get(e),i=this.parseContract(e);return t&&i&&(t.contract=i),t}static getLineage(e,t=">",i=!1){if(e.parentDOM&&e.parentDOM!==d.root){let{lineage:n,lineageOrdinal:r}=this.getLineage(e.parentDOM,t,i);n+=t+e.contract.name;return{lineage:n,lineageOrdinal:(r?r+t:"")+e.ordinal}}if(e.parentDOM&&e.parentDOM===d.root&&i){const t={lineage:e.contract.name};return t.lineageOrdinal=""+e.ordinal,t}return{lineage:e.contract.name}}static getInheritedProperties(e){const t=r.M&&r.M.config&&r.M.config.inheritByTraversingDOM&&r.M.config.inheritPropertyList;if(!t)return;const i={};for(;e&&e!==d.root;){for(const n of t){const t=e.contract[n];void 0!==t&&(void 0===i[n]?i[n]=t:this.isObject(i[n])&&(i[n]=Object.assign(Object.assign({},t),i[n])))}e=e.parentDOM}return i}static getRoot(){return d.root}static getTelemetryObject(e){const t=this.get(e);if(t&&t.contract)return new a.D(t.contract)}static parseContract(e){try{const t=e&&e.getAttribute&&e.getAttribute(n.qP);return this.parseAttribute(t)}catch(e){console.log("json parse error")}}static parseAttribute(e){try{const t=e&&JSON.parse(e);return this.parseMetadata(t)}catch(e){}}static parseMetadata(e){try{return e&&s.v.decompress(e)}catch(e){}}static set(e,t){t.element=e,this.elementMap.set(e,t)}static updateLayout(){if(!this.needUpdate)return;this.needUpdate=!1,this.root.ordinalCount=0;const e=(0,o.Ux)(document.documentElement);for(let t=0;t<e.length;t++){const i=e[t];let n=this.get(i);n&&void 0!==n.parentDOM||((0,o.t0)("telemetrynodeadded",i),n=this.get(i)),n.ordinal=++n.parentDOM.ordinalCount,n.ordinalCount=0}}static generateId(){return++this.lastId}}d.elementMap=new WeakMap,d.root=new d({name:"root"}),d.lastId=0,d.needUpdate=!1},52572:function(e,t,i){"use strict";i.d(t,{o:function(){return R}});var n=i(75559),r=i(75816),o=i(38156),s=i(98429),a=i(65969),c=i(18536);class d{constructor(){this.clickSearchDepth=20}observe(e=window,t){e.addEventListener("click",this.clickEventCallback.bind(this)),e.addEventListener("auxclick",this.auxClickEventCallback.bind(this)),t||e.addEventListener("contextmenu",this.contextMenuEventCallback.bind(this))}unobserve(e,t){e.removeEventListener("click",this.clickEventCallback.bind(this)),e.removeEventListener("auxclick",this.auxClickEventCallback.bind(this)),t||e.removeEventListener("contextmenu",this.contextMenuEventCallback.bind(this))}handleClickEvent(e,t,i){const n=this.getTelemetryClickTarget(e);if(!n)return;n&&n.hasAttribute("data-customhandled")||this.dispatchEvent("telemetryclick",n,t,i)}contextMenuEventCallback(e){const t=this.getClickTarget(e);this.handleClickEvent(t,o.Aw.RightClick,o.wu.ContextMenu)}clickEventCallback(e){const t=this.getClickTarget(e);1===e.button?this.handleClickEvent(t,o.Aw.MiddleClick,o.wu.Navigate):this.handleClickEvent(t)}auxClickEventCallback(e){if(1===e.button){const t=this.getClickTarget(e);this.handleClickEvent(t,o.Aw.MiddleClick,o.wu.Navigate)}}dispatchEvent(e,t,i,n){const r=new CustomEvent(e,{detail:{element:t,action:i,behavior:n}});dispatchEvent(r)}getTelemetryClickTarget(e){let t=e;for(let e=0;e<this.clickSearchDepth&&t&&!this.validTarget(t);e++)t.assignedSlot?t=t.assignedSlot:t.parentElement?t=t.parentElement:t.parentNode&&t.parentNode.host&&(t=t.parentNode.host);if(this.validTarget(t))return t}getClickTarget(e){if(!e.composedPath||"function"!=typeof e.composedPath)return e.target;{const t=e.composedPath();if(t.length>0)return t[0]}}validTarget(e){if(!e)return!1;const t=c.u.get(e);let i;return i=t?t.contract:c.u.parseContract(e),"BUTTON"===e.nodeName||e.hasAttribute("href")||e.getAttribute&&"button"===e.getAttribute("role")||i&&i.type===o.c9.DropDown||i&&i.type===o.c9.ActionButton||i&&i.behavior&&e.tagName.includes("-")||e.form}}class l{static start(){this.startTime=Date.now(),this.isPause=!1,this.started=!0}static pause(){this.started&&(this.isPause=!0,this.dwellTimeElapse+=Date.now()-this.startTime)}static getDwellTime(){if(this.isPause){return this.dwellTimeElapse}if(0!==this.startTime){return this.dwellTimeElapse+(Date.now()-this.startTime)}return 0}static reset(){this.dwellTimeElapse=0,this.startTime=0,this.isPause=!1,this.started=!1}}l.started=!1,l.startTime=0,l.dwellTimeElapse=0,l.isPause=!1;class u{constructor(){this.filterNodeList=["script"]}observe(e,t){e!==window&&(this.init(t),this.mutationObserver.observe(e,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-t"]}))}unobserve(e){}init(e){if(!this.mutationObserver){this.mutationObserver=new MutationObserver(this.mutationCallback.bind(this)),this.processAddedSubtreeAndDispatchEvent(document.documentElement);const t=HTMLElement.prototype.attachShadow,i=this;if(t)try{HTMLElement.prototype.attachShadow=function(e){const n=t.call(this,e);return this.shadowRoot&&i.observe(this.shadowRoot),n}}catch(t){e.push({message:"attachShadow exception in LayoutEventManager.ts",error:t})}}}mutationCallback(e){setTimeout((()=>{this.processMutationRecord(e)}),10)}processMutationRecord(e){for(let t=0;t<e.length;t++){const i=e[t],n=i.addedNodes;n&&n.length>0?this.processMutatedNodes(Array.from(n)):"attributes"===i.type&&this.processMutatedNodes([i.target])}}processMutatedNodes(e){e&&e.forEach((e=>{(0,s.Zq)(e)?this.processAddedSubtreeAndDispatchEvent(e):e.nodeType!==Node.ELEMENT_NODE||this.filterNodeList.includes(e.tagName&&e.tagName.toLowerCase())||this.processAddedSubtreeAndDispatchEvent(e)}))}processAddedSubtreeAndDispatchEvent(e){(0,s.jT)(e)&&(0,s.t0)("telemetrynodeadded",e);const t=this.processSubtree(e);for(let e=0;e<t.length;e++)(0,s.t0)("telemetrynodeadded",t[e])}processSubtree(e){if(!e)return;let t;return t=(0,s.Zq)(e)?e.shadowRoot.querySelectorAll("[data-t]"):e.querySelectorAll("[data-t]"),t}}var g=i(60483);class p{constructor(e,t,i,n,r,o){this.eventIndexInternal=0,this.cookiesToCollect=["TOptOut"],this.contract=e,this.updateActivityId(t),this.anonCookieName=i,this.buildNumber=n||"",this.customProps={},this.tmplProps={},this.joinIdProps={},this.eventIndexInternal=0,this.browserHiddenOnce=!1,this.overrideScrollOffset=r,this.viewTypeCallback=o,s.kP&&document.addEventListener("visibilitychange",this.browserVisibilityCallback.bind(this))}get requestId(){return this.requestIdInternal}get combinedContract(){this.eventIndexInternal=this.eventIndexInternal+1,this.tmplString=this.generateStringFromKeyValueObject(this.tmplProps);const e=this.joinIdProps&&Object.keys(this.joinIdProps).length>0?JSON.stringify(this.joinIdProps):void 0,t=Object.keys(this.customProps).length>0?JSON.stringify(this.customProps):void 0;this.customString=t;const i={page:Object.assign(Object.assign({},this.contract.page),{url:(0,s.XW)(this.contract.page.url,this.contract.page.ocid),referral:this.contract.page.referral||s.kP&&document.referrer,content:this.contract.page.content?Object.assign({},this.contract.page.content):void 0,dwellTime:l.getDwellTime(),viewType:this.contract.page.viewType||this.viewTypeCallback&&this.viewTypeCallback()}),browser:Object.assign(Object.assign({},this.contract.browser),{width:(0,s.wi)(),height:(0,s.P6)(),screenSize:s.kP?[screen.width,screen.height].join("x"):"0x0",clientId:(0,s.i2)(this.activityIdInternal),scrollOffset:"function"==typeof this.overrideScrollOffset&&this.overrideScrollOffset()||(0,s.qC)(),anoncknm:this.anonCookieName,cookieEnabled:s.kP&&navigator.cookieEnabled,hiddenOnce:this.browserHiddenOnce,muid:(0,s.FL)()||void 0,cookies:(0,s.tV)(this.cookiesToCollect)||void 0}),flight:Object.assign(Object.assign({},this.contract.flight),{tmpl:this.tmplString}),integration:Object.assign(Object.assign({},this.contract.integration),{joinIds:e}),request:{activityId:this.activityIdInternal,requestId:this.requestIdInternal},timestamp:+Date.now(),eventIndex:this.eventIndexInternal,sdk:{name:"peregrine",ver:"1.0.8",schemaVer:"1.0.8"},user:this.contract.user,locale:this.contract.locale,feed:this.contract.feed,gallery:this.contract.gallery,custom:this.customString,build:this.buildNumber},n=(0,s.F$)();n&&(i.browser.isWin11=n);const r=(0,s.uV)();return r&&(i.browser.isXBox=r),i}static mergeContract(e,t){if(!e||!t)return e||t;const i=Object.keys(t),n=Object.assign({},e);for(let e=0;e<i.length;e++){const r=i[e];n[r]=Object.assign(Object.assign({},n[r]),t[r])}return e.page&&e.page.content&&t.page&&t.page.content&&(n.page.content=Object.assign(Object.assign({},e.page.content),t.page.content)),n}update(e,t=!1){e&&(t?this.contract=p.mergeContract(this.contract,e):this.updatedContract=p.mergeContract(this.updatedContract,e))}updateActivityId(e){this.activityIdInternal=e;const t=this.contract&&this.contract.page&&this.contract.page.isStatic&&"true"===this.contract.page.isStatic.toString().toLowerCase()?(0,s.pW)():e;this.updateRequestId(t)}updateRequestId(e){this.eventIndexInternal=0,this.requestIdInternal=e||(0,s.pW)()}updateContract(){this.contract=p.mergeContract(this.contract,this.updatedContract),delete this.updatedContract}addOrUpdateCustomProperty(e,t){this.customProps[e]=t}addOrUpdateTmplProperty(e,t){this.tmplProps[e]=t}removeTmplProperty(e){delete this.tmplProps[e]}addOrUpdateJoinIdProperty(e,t){this.joinIdProps[e]=t}getJoinId(e){return this.joinIdProps[e]}updatePageConfiguration(e){this.update({page:{config:e}})}get JoinIdProps(){return this.joinIdProps}browserVisibilityCallback(){(document.hidden||"hidden"===document.visibilityState)&&(this.browserHiddenOnce=!0)}generateStringFromKeyValueObject(e){const t=[];return e&&Object.keys(e).forEach((i=>{e[i]?t.push(i+":"+e[i]):t.push(i)})),t.length>0?t.join(";"):void 0}}var h=i(51992),f=i(53475),m=i(98544);class v{constructor(e){this.config=e}get disable(){return this.config.disable}set disable(e){this.config.disable=e}}var b=i(13578);class y extends v{constructor(e){super(e),this.transporterReady=!1,setTimeout((()=>{this.collectorChannelPlugin=new m.Z,this.appInsightsCore=new h.Z;const t=new f.Z,i={populateBrowserInfo:!1,populateOperatingSystemInfo:!1,enableApplicationInsightsTrace:!1,enableApplicationInsightsUser:!1,sessionRenewalMs:18e5,sessionExpirationMs:18e5,userConsentCookieName:"OptanonAlertBoxClosed"},n={CUSTOM_PROFILE:[1,.001]};this.collectorChannelPlugin._loadTransmitProfiles(n),this.collectorChannelPlugin._setTransmitProfile("CUSTOM_PROFILE");const r={instrumentationKey:e.key,channels:[[this.collectorChannelPlugin]],extensionConfig:[t]},o=[];r.extensionConfig[this.collectorChannelPlugin.identifier]={httpXHROverride:{sendPOST:(e,t,i)=>{delete e.headers["cache-control"],delete e.headers["content-type"],e.data.length>64e3?fetch(e.urlString,{method:"POST",credentials:"include",body:e.data,headers:e.headers}).then((e=>{t(e.status)})).catch((e=>{t(0,{})})):(fetch(e.urlString,{method:"POST",credentials:"include",body:e.data,headers:e.headers,keepalive:!0}).then((e=>{})).catch((e=>{})),t(200,{}))}}},s.kP&&(r.extensionConfig[t.identifier]=i,o.push(t)),e&&e.anonCookieName&&(r.anonCookieName=e.anonCookieName),e.endpoint&&(r.endpointUrl=e.endpoint),this.appInsightsCore.initialize(r,o),this.transporterReady=!0}),100)}transport(e,t=!0,i=0){!e||(0,b.Z)(e)||this.config.disable||(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()?(this.appInsightsCore.track(e),t&&this.collectorChannelPlugin.flush()):i<50&&setTimeout((()=>this.transport(e,t,i+1)),200))}}class C extends v{constructor(e){super(e)}transport(e){if(!e||!this.config.endpoint||this.config.disable)return;const t=this.generateUrl(this.config.endpoint+"?",e);this.generatePixelBeacon(t)}generatePixelBeacon(e){(new Image).src=e.replace(/&amp;/gi,"&")}generateUrl(e,t){const i=[];let n=e;return Object.keys(t).forEach((e=>{let n=t[e];"object"==typeof n&&n&&(n=JSON.stringify(n)),i.push(this.encodeURIComponent(e)+"="+this.encodeURIComponent(n))})),n=e+i.join("&").replace(/%20/g,"+"),n}encodeURIComponent(e){return null!=e&&encodeURIComponent(e)||""}}var S=i(17157),w=i(65019),T=i(96345);class k extends v{constructor(e){super(e)}transport(e){if(!e||this.config.disable)return;let t;try{if(t=this.flattenObj(e),t.isCoreView=!0,t.platform="app",(0,S.wq)()){const e=(0,w._4)();t["browser.muid"]=e.sapphireId}}catch(e){return void window.console.error("Error occured while flatterning telemetry payload :",e)}e.name&&(0,T.gR)({type:e.eventType,name:e.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{oneds:t}})}flattenObj(e){const t={},i=(e,n)=>{Object.keys(e).forEach((r=>{let o="";o=""===n?`${r}`:`${n}.${r}`,"object"==typeof e[r]&&e[r]?i(e[r],o):t[this.formatKey(o)]=e[r]}))};return i(e,""),t}formatKey(e){if(!e)return e;if("eventType"===e)return"type";if(e.startsWith("data.")){const t=e.substring(5,e.length);return t.endsWith(".destinationUrl")?t.replace(".destinationUrl",".destinationUri"):t}return e}}var O=i(82357);class E extends v{constructor(e){super(e)}transport(e){e&&!this.config.disable&&this.config.callback(e)}}var I=i(93048),A=i(7282),P=i(4248),x=i(24410);class M extends A.k{createEvent(e,t,i,n=!1){return{name:this.getSuperAppOneDSEventName(e),eventType:this.getSuperAppOneDSEventType(e),data:t,baseType:a.id.Base,latency:i,sync:n}}createContentViewPayload(e,t,i){if(!t)return;const r=[];e.forEach((e=>{r.push(this.mapTelemetryObject(e))}));let o;(0,s.d5)()&&(o={content:{docHeight:(0,s.d5)()}});let c=null;try{c=JSON.stringify(r)}catch(e){c=r}const d=Object.assign(Object.assign(Object.assign({},t),o),{object:c,contentViewType:i.contentViewType});if(i.contentViewType===n.NS.Scroll&&(d.isMeaningfulScroll=i.isMeaningfulScroll),!(0,b.Z)(r)){return this.createEvent(a.id.ContentView,d,P.zU.RealTime)}}mapTelemetryObject(e){let t;const i=e&&e.content&&e.content.type;(i||e.behavior)&&(t=(0,x.Y)(i,e.behavior));const n=Object.assign({},e);return delete n.action,delete n.behavior,delete n.overrideId,n}getSuperAppOneDSEventType(e){switch(e){case a.id.PageView:return"Microsoft.Windows.MsnApps.PageView";case a.id.UserAction:return"Microsoft.Windows.MsnApps.PageAction";case a.id.AppError:return"Microsoft.Windows.MsnApps.Failure";case a.id.AppPerfTrace:return"Microsoft.Windows.MsnApps.ClientPerf";case a.id.ContentView:return"Microsoft.Windows.MsnApps.ContentView";case a.id.LoadTime:case a.id.Unload:return"Microsoft.Windows.MsnApps.AppLifeCycle";case a.id.VideoPlay:return"MS.News.Web.VideoPlay";default:return null}}getSuperAppOneDSEventName(e){switch(e){case a.id.PageView:return"PAGE_VIEW_HP_WEBVIEW";case a.id.UserAction:return"PAGE_ACTION_HP_WEBVIEW_CLICK";case a.id.AppError:return"HP_WEBVIEW_APP_ERROR";case a.id.AdFeedback:return"PAGE_ACTION_HP_WEBVIEW_AD_FEEDBACK";case a.id.AdImpression:return"HP_WEBVIEW_AD_IMPRESSION";case a.id.AppPerfTrace:return"HP_WEBVIEW_APP_PERF_TRACE";case a.id.Base:return"PAGE_VIEW_HP_WEBVIEW_BASE";case a.id.ContentView:return"CONTENT_VIEW_HP_WEBVIEW";case a.id.Feedback:return"PAGE_ACTION_HP_WEBVIEW_FEEDBACK";case a.id.LoadTime:return"HP_WEBVIEW_LOAD_TIME";case a.id.ServerLog:return"HP_WEBVIEW_SERVER_LOG";case a.id.Unload:return"HP_WEBVIEW_UNLOAD";case a.id.VideoAdPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO_AD";case a.id.VideoPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO";default:return e}}}class L{constructor(){this.trackingSystems=[]}add(e){this.trackingSystems.push(e)}sendPageViewEvent(e,t=r.G.All){this.trackingSystems.forEach((i=>{if((t===r.G.All||t===i.type)&&i.mapper.createPageViewPayload){const t=i.mapper.createPageViewPayload(e);i.transporter.transport(t)}}))}sendContentViewEvent(e,t,i={contentViewType:n.NS.Partial}){this.trackingSystems.forEach((n=>{if(n.mapper.createContentViewPayload){const r=n.mapper.createContentViewPayload(e,t,i);n.transporter.transport(r)}}))}sendActionEvent(e,t,i,n){this.trackingSystems.forEach((r=>{if(r.mapper.createActionPayload){const o=r.mapper.createActionPayload(e,t,i,n);r.transporter.transport(o)}}))}sendEventPayload(e,t,i){this.trackingSystems.forEach((n=>{if(n.mapper.createCustomEventPayload){const r=n.mapper.createEventPayload(e,t,i);n.transporter.transport(r)}}))}sendCustomEvent(e,t,i){this.trackingSystems.forEach((n=>{if(n.mapper.createCustomEventPayload){const r=n.mapper.createCustomEventPayload(e,t,i);n.transporter.transport(r)}}))}disable(e=r.G.All){this.trackingSystems.forEach((t=>{e!==r.G.All&&e!==t.type||(t.transporter.disable=!0)}))}enable(e=r.G.All){this.trackingSystems.forEach((t=>{e!==r.G.All&&e!==t.type||(t.transporter.disable=!1)}))}}class D{constructor(e,t){this.scrollChanged=!0,this.sizeChanged=!0,this.newScrollLeft=null,this.newScrollTop=null,this.firstScrolledMargin=10,this.forceScrollFiring=!1,this.viewportEventIntervalDelayMs=200,this.viewportLeft=0,this.viewportTop=0,this.viewportWidth=0,this.viewportHeight=0,this.userInteracted=!1,this.eventTimerId=0,this.eventTimeoutMS=1e3,this.syntheticTelemetryScrollCallback=(e,t)=>{e&&(this.userInteracted=!0,this.updateMechanism=n.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),t(),this.forceScrollFiring=!0)},this.contentViewCallback=e,this.viewportOffset=0,this.overrideScrollOffset=t}initListerner(){const e=this.throttle(this.update.bind(this),this.viewportEventIntervalDelayMs);e(),this.attachEvent("resize",(()=>{this.userInteracted=!0,this.updateMechanism=n.NS.Resize,this.sizeChanged=!0,this.triggerCallback(),e()})),this.attachEvent("scroll",(t=>{t&&!t.preventDefaultScroll&&(this.userInteracted=!0,this.updateMechanism=n.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),e())})),s.kP&&window.addEventListener("telemetryscroll",(t=>{this.syntheticTelemetryScrollCallback(t,e)}))}resetViewportOffset(){this.viewportOffset=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)()}triggerCallback(){this.dispatchEvent("telemetryviewportupdated",this.updateMechanism)}dispatchEvent(e,t){const i=new CustomEvent(e,{detail:{mech:t}});dispatchEvent(i)}throttle(e,t=1e3){let i=0,n=!1;return()=>{if(n)return;const r=(new Date).getTime(),o=r-i;o>t?(i=r,e()):(n=!0,setTimeout((()=>{n=!1,e()}),t-o))}}update(){let e=this.sizeChanged,t=this.scrollChanged;const i=this.viewportWidth,n=this.viewportHeight,r=this.viewportLeft,o=this.viewportTop;this.updateCurrentViewportValues(),e=e&&(n!==this.viewportHeight||i!==this.viewportWidth),t=t&&(r!==this.viewportLeft||o!==this.viewportTop),(this.forceScrollFiring||e||t)&&(this.scheduleViewportEvent(),this.forceScrollFiring=!1)}updateCurrentViewportValues(){this.scrollChanged&&(this.viewportLeft=this.newScrollLeft||this.getScrollLeft(),this.viewportTop=this.newScrollTop||this.getScrollTop(),this.newScrollLeft=this.newScrollTop=null,!this.firstScroll&&this.viewportTop>this.firstScrolledMargin&&(this.firstScroll=!0)),this.sizeChanged&&(this.viewportWidth=window.innerWidth||document.documentElement.clientWidth,this.viewportHeight=window.innerHeight||document.documentElement.clientHeight),this.scrollChanged=this.sizeChanged=!1}scheduleViewportEvent(){if(this.userInteracted&&(this.eventLastScheduleTime=+new Date,!this.eventTimerId)){const e=()=>{this.eventTimerId=this.userInteracted=!1;const t=Date.now()-this.eventLastScheduleTime;t>this.eventTimeoutMS?this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll()):this.eventTimerId=setTimeout(e,this.eventTimeoutMS-t)};this.eventTimerId=setTimeout(e,this.eventTimeoutMS)}}isMeaningfulScroll(){if(this.updateMechanism!==n.NS.Scroll)return!1;const e=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)(),t=(0,s.P6)();return(e>this.viewportOffset&&e-this.viewportOffset>t/2||e<this.viewportOffset&&this.viewportOffset-e>t/2)&&(this.viewportOffset=e,!0)}getScrollTop(){if("undefined"!=typeof pageYOffset)return pageYOffset;{const e=document.body;let t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop}}getScrollLeft(){if(void 0!==window.pageXOffset)return window.pageXOffset;{const e=document.body;let t=document.documentElement;return t=t.clientWidth?t:e,t.scrollLeft}}attachEvent(e,t){window.addEventListener(e,t,!1)}}let F=!1;s.kP&&window.addEventListener("beforeunload",(function(){F=!0})),s.kP&&function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}();class R{constructor(e){this.internalErrors=[],this.eventQueue=[],this.contentUpdateQueue=new Set,this.partialContentUpdateQueue=new Set,this.contentViewTriggerSource=n.NS.Load,this.contentViewTimeout=1e3,this.contentViewTimer=null,this.contentViewDelay=200,this.scheduledContentViewType=null,this.contentViewTimePassed=0,this.contentViewLastExecution=0,this.contentUpdateDebugQueue=new Set,this.intersectionObserverOptions={root:null,rootMargin:"0px",threshold:0},this.appErrorCounter=0,this.appErrorEventThreshold=25;try{this.config=e,this.config.autoCaptureContentView=void 0===e.autoCaptureContentView||e.autoCaptureContentView,this.config.beacons=e.beacons||{},this.config.beacons.PageOutOfFocus=this.config.beacons.PageOutOfFocus||{},this.config.beacons.PageOutOfFocus.disable=void 0===this.config.beacons.PageOutOfFocus.disable||this.config.beacons.PageOutOfFocus.disable,s.kP&&(this.layoutEventManager=new u,this.layoutEventManager.observe(document.documentElement,this.internalErrors),this.clickEventManager=new d,this.clickEventManager.observe(window,this.config.disableContextMenu),window.addEventListener("beforeunload",this.unloadEventCallback.bind(this)),window.addEventListener("telemetrynodeadded",(e=>{e&&e.detail&&e.detail.element&&this.viewportIntersectionObserver&&(c.u.addElement(e.detail.element),this.viewportIntersectionObserver.observe(e.detail.element))})),window.addEventListener("telemetrynodremoved",(e=>{e&&e.detail&&e.detail.element&&this.viewportIntersectionObserver&&this.viewportIntersectionObserver.unobserve(e.detail.element)})),window.addEventListener("telemetryclick",this.clickEventHandler.bind(this)),window.addEventListener("focus",this.onFocusCallback.bind(this)),window.addEventListener("blur",this.onBlurCallback.bind(this))),this.trackingSystemList=new L,e.trackingSystems.forEach((t=>{t.transporterConfig.anonCookieName=e.anonCookieName,this.trackingSystemList.add(class{static getTrackingSystem(e,t){switch(e.type){case r.G.OneDS:return{transporter:new y(e.transporterConfig),mapper:new A.k,type:e.type};case r.G.CTag:return{transporter:new C(e.transporterConfig),mapper:new O.P,type:e.type};case r.G.Comscore:return{transporter:new C(e.transporterConfig),mapper:new I.O,type:e.type};case r.G.Debug:return{transporter:new E(e.transporterConfig),mapper:e.mapper,type:e.type};case r.G.SuperApp:return{transporter:new k(e.transporterConfig),mapper:new M,type:e.type};default:return{transporter:new y(e.transporterConfig),mapper:new A.k,type:e.type}}}}.getTrackingSystem(t))}))}catch(e){this.internalErrors.push({message:"Error in Telemetry Lib constructor.",error:e})}}setContentViewTimeout(e){this.contentViewTimeout=e}resetContentViewTimeout(){this.contentViewTimeout=a.S8}renderTelemetryAttribute(e,t,i){return new g.D(e).render(t)}observeSingleElement(e){}observeElementTree(e){}initPage(e,t,n){this.pageMetadata=new p(e,t,this.config.anonCookieName,n,this.config.overrideScrollOffset,this.config.viewTypeCallback),s.kP&&("IntersectionObserver"in i.g&&(this.viewportIntersectionObserver=new IntersectionObserver(this.contentVisiblityCallback.bind(this),this.intersectionObserverOptions)),this.viewportEventManager=new D(((e,t)=>{this.config.autoCaptureContentView&&this.autoSendContentViewEvent({contentViewType:e,isMeaningfulScroll:t})}),this.config.overrideScrollOffset),window.addEventListener("telemetryviewportupdated",(e=>{e&&e.detail&&e.detail.mech&&(this.contentViewTriggerSource=e.detail.mech)})),this.viewportEventManager.initListerner())}sendPageView(e=null,t=!1,i=null,o=r.G.All,c=!1){this.queueEvent("PageView",(()=>{if(this.config.beacons&&this.config.beacons.PageView&&this.config.beacons.PageView.disable||!this.pageMetadata)return;this.config.resetAppErrorCounterOnPageView&&(this.appErrorCounter=0);const d="sign-in-refreshed-page";e=e||{},s.kP&&s.y7&&s.y7.getItem(d)?(s.y7.removeItem(d),(e.page=e.page||{}).isAutoRefresh=!0):this.noExplictAutoRefreshFlagProvided(e)&&((e.page=e.page||{}).isAutoRefresh=!1),this.contentLoaded=!1,this.config.disableAutoCalculateDwellTime||l.reset(),this.pageMetadata.update(e),i?this.pageMetadata.updateActivityId(i):t||this.pageMetadata.updateRequestId(),this.pageMetadata.updateContract(),this.viewportEventManager.resetViewportOffset(),this.trackingSystemList.sendPageViewEvent(this.pageMetadata.combinedContract,o),!c||o!==r.G.All&&o!==r.G.Comscore||fetch(a.EE),t||(this.contentViewTriggerSource=n.NS.Load,setTimeout((()=>{this.autoSendContentViewEvent({contentViewType:n.NS.Load})}),1e3)),this.dispatchEvent(n.tM,{requestId:this.pageMetadata.requestId})}))}getRequestId(){return this.pageMetadata.requestId}updateRequestId(e){this.pageMetadata.updateRequestId(e)}disableTrackingSystem(e=r.G.All){this.trackingSystemList.disable(e)}enableTrackingSystem(e=r.G.All){this.trackingSystemList.enable(e)}disableBeacon(e){this.config.beacons[e]||(this.config.beacons[e]={}),this.config.beacons[e].disable=!0}enableBeacon(e){this.config.beacons[e]||(this.config.beacons[e]={}),this.config.beacons[e].disable=!1}updatePageConfiguration(...e){let t;e.forEach((e=>{t|=e})),this.pageMetadata.updatePageConfiguration(t)}updatePageMetadata(e,t=!1){e&&this.pageMetadata.update(e,t)}addOrUpdateCustomProperty(e,t){this.pageMetadata.addOrUpdateCustomProperty(e,t)}addOrUpdateJoinIdProperty(e,t){this.pageMetadata.addOrUpdateJoinIdProperty(e,t)}addOrUpdateTmplProperty(e,t){this.pageMetadata.addOrUpdateTmplProperty(e,t)}removeTmplProperty(e){this.pageMetadata.removeTmplProperty(e)}addOrUpdateTmplString(e){if(!e)return;const t=e.split(";");for(let e=0;e<t.length;e++){const i=t[e].split(":");2===i.length?this.addOrUpdateTmplProperty(i[0],i[1]):1===i.length&&this.addOrUpdateTmplProperty(i[0])}}removeTmplString(e){if(!e)return;const t=e.split(";");for(let e=0;e<t.length;e++){const i=t[e].split(":");i&&i.length&&this.pageMetadata.removeTmplProperty(i[0])}}sendActionEvent(e,t,i,r){this.queueEvent("UserAction",(()=>{if(!(this.config.beacons&&this.config.beacons.UserAction&&this.config.beacons.UserAction.disable)&&this.pageMetadata&&e){c.u.updateLayout();const a=this.clickEventManager.getTelemetryClickTarget(e);let d;a&&(e=a),d=e.getAttribute&&e.getAttribute(n.qP),e.parentElement&&!d&&(d=(e=e.parentElement).getAttribute&&e.getAttribute(n.qP));let l=c.u.get(e);if(!l){const e=c.u.parseAttribute(d);e&&(l=new c.u(e))}if(this.pageMetadata&&l){const n=e.getAttribute("action")||e.form&&e.form.getAttribute("action"),a=t||l.contract.action,c=void 0===i?l.contract.behavior:i,d=l.contract.overrideDestinationUrl||(0,s.jv)(r)&&r||e.getAttribute("href")||n;if(l.contract.destinationUrl=d||"",a===o.Aw.RightClick&&c===o.wu.ContextMenu&&!(l&&l.contract&&l.contract.destinationUrl))return;this.trackingSystemList.sendActionEvent(l.combinedContract,this.pageMetadata.combinedContract,null==a?o.Aw.Click:a,null==c?o.wu.Navigate:c),l.contract&&l.contract.triggerPageView&&c===o.wu.Navigate&&this.sendPageView(null,!1)}}}))}scheduleContentViewEvent(e=n.NS.Partial,t){if(!s.kP)return;const i=(new Date).getTime();this.contentViewTimePassed=i-this.contentViewLastExecution,this.contentViewTimePassed<=this.contentViewDelay&&e!==n.NS.Partial||(this.contentViewLastExecution=i,this.contentViewTimer&&this.scheduledContentViewType===e&&window.clearTimeout(this.contentViewTimer),this.contentViewTimer=window.setTimeout((()=>this.autoSendContentViewEvent({contentViewType:e})),t||this.contentViewTimeout),this.scheduledContentViewType=e)}sendContentViewEvent(e,t=n.NS.Partial,i=!0){this.queueEvent("ContentView",(()=>{if(this.config.beacons&&this.config.beacons.ContentView&&this.config.beacons.ContentView.disable||!this.pageMetadata)return;c.u.updateLayout();const n=(0,s.Ux)(e),r=[];if(n&&n.length>0){for(let e=0;e<n.length;e++){const t=n[e],o=c.u.get(t);o&&(!i||this.contentUpdateQueue.has(t)||this.partialContentUpdateQueue.has(t))&&r.push(o.combinedContract)}this.trackingSystemList.sendContentViewEvent(r,this.pageMetadata.combinedContract,{contentViewType:t})}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}))}sendAppErrorEvent(e,t=!0){F||(!this.config.ignoreAppErrorCounter&&this.appErrorCounter>=this.appErrorEventThreshold?console.error(`App errors throttled as we already sent over ${this.appErrorEventThreshold} app errors in this page.`):this.config.beacons&&this.config.beacons.AppError&&this.config.beacons.AppError.disable||!this.pageMetadata||this.queueEvent("AppError",(()=>{if(this.trackingSystemList.sendCustomEvent("AppError",e,this.pageMetadata.combinedContract),this.appErrorCounter++,t){const t=new Date+": "+ +new Date+" "+JSON.stringify(e);console.error(t)}this.dispatchEvent(n.tW,{error:e})})))}sendLoadTimeEvent(e){this.sendEvent("LoadTime",e)}sendFeedbackEvent(e){this.sendEvent("Feedback",e)}sendAdImpressionEvent(e){this.sendEvent("AdImpression",e)}sendAdFeedbackEvent(e){this.sendEvent("AdFeedback",e)}sendVideoPlayEvent(e,t,i=!1){if(this.config.beacons&&this.config.beacons.VideoPlay&&this.config.beacons.VideoPlay.disable)return;const n=i?"VideoAdPlay":"VideoPlay";if(e)this.trackingSystemList.sendEventPayload(n,{object:e},this.pageMetadata.combinedContract);else if(t){c.u.updateLayout();const e=c.u.get(t);this.pageMetadata&&e&&this.trackingSystemList.sendEventPayload(n,{object:e.combinedContract},this.pageMetadata.combinedContract)}}sendVideoAdPlayEvent(e,t){this.sendVideoPlayEvent(e,t,!0)}sendServerLogEvent(e){this.sendEvent("ServerLog",e)}sendAppPerfTraceEvent(e){this.sendEvent("AppPerfTrace",e)}sendAuthEvent(e){this.sendEvent("Auth",e)}sendClientLogEvent(e){this.sendEvent("ClientLog",e)}sendPageOutOfFocusEvent(e){this.queueEvent("PageOutOfFocus",(()=>{this.config.beacons&&this.config.beacons.PageOutOfFocus&&this.config.beacons.PageOutOfFocus.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("PageOutOfFocus",null,this.pageMetadata.combinedContract)}))}sendUnloadEvent(){this.queueEvent("Unload",(()=>{this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("Unload",null,this.pageMetadata.combinedContract)}))}sendTraceInfoEvent(e){this.queueEvent("TraceInfo",(()=>{this.config.beacons&&this.config.beacons.TraceInfo&&this.config.beacons.TraceInfo.disable||!this.pageMetadata||this.sendEvent("TraceInfo",e)}))}getPageMetadata(){return this.pageMetadata}flush(e=!0,t){for(const e of this.eventQueue)"function"!=typeof e.callback||t&&t!==e.eventType||e.callback();this.eventQueue=this.eventQueue.filter((e=>t&&e.eventType!==t)),this.config.useEventQueue=!e}empty(){this.eventQueue=[]}enableEventQueue(){this.config.useEventQueue=!0}disableEventQueue(){this.config.useEventQueue=!1}startDwellTime(){l.start()}pauseDwellTime(){l.pause()}resetDwellTime(){l.reset()}clickEventHandler(e){if(e&&e.detail&&e.detail.element&&this.pageMetadata){const t=e.detail.element;(0,s.Vr)(t,this.pageMetadata.contract.page.ocid),(0,s.Zf)(t,this.pageMetadata.contract.page.partnerTrackingCode),(0,s.uK)(t,this.pageMetadata.requestId),this.sendActionEvent(t,e.detail.action,e.detail.behavior),t.attributes&&t.attributes.href&&t.attributes.href.value&&t.attributes.href.value.startsWith&&"function"==typeof t.attributes.href.value.startsWith&&t.attributes.href.value.startsWith("mailto:")&&(this.ignoreUnload=!0)}}unloadEventCallback(){this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||(this.pageMetadata&&!this.ignoreUnload&&this.sendUnloadEvent(),this.ignoreUnload=!1)}autoSendContentViewEvent(e){this.queueEvent("ContentView",(()=>{if(this.pageMetadata){let t;if(c.u.updateLayout(),e.contentViewType!==n.NS.Partial&&this.contentUpdateQueue&&this.contentUpdateQueue.size>0?t=this.contentUpdateQueue:this.partialContentUpdateQueue&&this.partialContentUpdateQueue.size>0&&(t=this.partialContentUpdateQueue),t){const i=[...t].map((t=>{const i=c.u.get(t);if(i&&(e.contentViewType!==n.NS.Partial||!i.isCaptured))return i.isCaptured=!0,i.combinedContract})).filter((e=>e));this.trackingSystemList.sendContentViewEvent(i,this.pageMetadata.combinedContract,e),this.partialContentUpdateQueue.clear(),this.contentViewTriggerSource=null}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}}))}contentVisiblityCallback(e){for(let t=0;t<e.length;t++){const i=e[t];i.isIntersecting?(this.contentUpdateQueue.add(i.target),this.contentViewTriggerSource||this.partialContentUpdateQueue.add(i.target)):(this.contentUpdateQueue.delete(i.target),this.partialContentUpdateQueue.delete(i.target))}!this.contentViewTriggerSource&&this.config.autoCaptureContentView&&this.scheduleContentViewEvent(n.NS.Partial,500)}sendEvent(e,t){this.queueEvent(e,(()=>{this.config.beacons&&this.config.beacons[e]&&this.config.beacons[e].disable||!this.pageMetadata||this.trackingSystemList.sendCustomEvent(e,t,this.pageMetadata.combinedContract)}))}queueEvent(e,t){this.config.useEventQueue?this.eventQueue.push({eventType:e,callback:t}):t()}noExplictAutoRefreshFlagProvided(e){return!e||!e.page||!0!==e.page.isAutoRefresh&&!1!==e.page.isAutoRefresh}dispatchEvent(e,t){s.kP&&setTimeout((()=>dispatchEvent(new CustomEvent(e,{detail:t}))),0)}startAutoDwellTime(){document.hasFocus()&&!this.config.disableAutoCalculateDwellTime&&(l.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStart","true"))}onFocusCallback(){this.contentLoaded&&!this.config.disableAutoCalculateDwellTime&&(l.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeFocusStart","true"))}onBlurCallback(){this.sendPageOutOfFocusEvent({}),this.config.disableAutoCalculateDwellTime||(l.pause(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimePause","true"))}}},60483:function(e,t,i){"use strict";i.d(t,{D:function(){return o}});var n=i(75559),r=i(98146);class o{constructor(e,t,i){this.contract=e}static render(e){const t=r.v.compress(e);return{[n.qP]:JSON.stringify(t)}}addChild(e){return new o(e,this)}addOrUpdateChild(e,t){return t?(t.contract=e,t):new o(e,this)}updateContract(e){this.contract=e}render(e){return o.render(this.contract)}getMetadataTag(){return JSON.stringify(this.getMetadata())}getMetadata(){return r.v.compress(this.contract)}}},65969:function(e,t,i){"use strict";i.d(t,{EE:function(){return n},S8:function(){return o},id:function(){return r}});const n="https://www.msn.com/PV.xml",r={UserAction:"MS.News.Web.PageAction",PageView:"MS.News.Web.PageView",ContentView:"MS.News.Web.ContentView",AppError:"MS.News.Web.AppError",LoadTime:"MS.News.Web.LoadTime",Unload:"MS.News.Web.Unload",Base:"MS.News.Web.Base",Feedback:"MS.News.Web.Feedback",AdImpression:"MS.News.Web.AdImpression",AdFeedback:"MS.News.Web.AdFeedback",VideoPlay:"MS.News.Web.VideoPlay",VideoAdPlay:"MS.News.Web.VideoAdPlay",ServerLog:"MS.News.Web.ServerLog",AppPerfTrace:"MS.News.Web.AppPerfTrace",Auth:"MS.News.Web.Auth",ClientLog:"MS.News.Web.ClientLog",PageOutOfFocus:"MS.News.Web.PageOutOfFocus",TraceInfo:"MS.News.Web.TraceInfo"},o=1e3},98429:function(e,t,i){"use strict";i.d(t,{F$:function(){return j},FL:function(){return v},P6:function(){return h},Ux:function(){return M},Vr:function(){return S},XW:function(){return C},Xn:function(){return g},Zf:function(){return w},Zq:function(){return D},d5:function(){return m},i2:function(){return b},jT:function(){return F},jv:function(){return R},kP:function(){return y},pE:function(){return P},pW:function(){return u},qC:function(){return f},t0:function(){return N},tH:function(){return O},tV:function(){return $},uK:function(){return T},uV:function(){return B},wi:function(){return p},y7:function(){return a}});let n,r,o,s,a,c,d=(new Date).getTime();try{a="sessionStorage"in window&&window.sessionStorage}catch(e){}try{navigator&&navigator.userAgentData&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((e=>{c=e.platformVersion}))}catch(e){}function l(e){const t=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===e?t:7&t|8).toString(16)}function u(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,l)}function g(){return+new Date}function p(){return y&&(window.outerWidth||document.documentElement.clientWidth)}function h(){return y&&(window.outerHeight||document.documentElement.clientHeight)}function f(){return y&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function m(){return y&&Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)}function v(){if(!y)return"";const e=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(document.cookie);return e&&e.length>1?e[1]:""}function b(e){return n||""===n||(n=v()||e||""),n}const y=!("undefined"==typeof window||!window.document||!window.document.createElement);function C(e,t){return function(e,t){if(t&&e){const i=t.toLowerCase();if(-1==i.indexOf("?ocid=")&&-1==i.indexOf("&ocid=")){const i=-1==t.indexOf("?")?"?":"&";t=`${t}${i}ocid=${encodeURIComponent(e)}`}}return t}(t,e)}function S(e,t){k(e,"ocid",t)}function w(e,t){let i=t;try{const e=new URL(location.href);i=e.searchParams.get("pc")||e.searchParams.get("PC")||e.searchParams.get("pC")||e.searchParams.get("Pc")||i}catch(e){}k(e,"pc",i||t)}function T(e,t){k(e,"cvid",t)}function k(e,t,i){if(!e||!t)return;let n=e;if("a"!==n.nodeName&&n.closest("a")&&(n=n.closest("a")),!n)return;const{href:r}=n;if(r)try{const e=new URL(r);!e.searchParams.get(t)&&i&&(e.host.includes("msn.com")||e.host.includes("msn.cn"))&&(e.searchParams.set(t,i),n.href=e.href)}catch(e){}}function O(e,t=""){if(!e)return;const i=e.getAttribute("data-hl")||"";if(!t&&!i){const i=e.querySelector("h4")||e.querySelector("h3"),n=function(e,t,i=2){if(!t)return;let n=t,r=0;for(;n&&n!==e;n=n.parentElement,r++)if(r>i)return;return r}(e,i);i&&n&&n<=2&&(t=I(i))}const n=e instanceof HTMLAnchorElement?e.querySelector(".title"):"";!t&&n&&(t=I(n));const r=e instanceof HTMLAnchorElement?e.getAttribute("title"):"";!t&&r&&(t=r);const o=e instanceof HTMLAnchorElement?e.getAttribute("aria-lable"):"";return!t&&o&&(t=o),"string"!=typeof t&&(t=i||e.getAttribute("data-piitxt")||("FORM"==e.nodeName?"[form submit]":e.getAttribute("title")||A(e,"title","img")||I(e)||e.getAttribute("alt")||A(e,"alt")||"")),null!=t.trim&&(t=t.trim()),t}const E=/(^\s+)|(\s+$)/gm;function I(e){return(e&&(e.textContent||e.innerText)||"").replace(E,"")}function A(e,t,i=""){const n=e.children||[];let r,o=0;for(t=t||"alt";o<n.length;o++)if(r=n[o].getAttribute(t)||A(n[o],t,i),r&&i!=n[o].localName)return r}function P(e,t){if(!e||e===document||e===window)return null;const i=e.closest(t);if(i)return i;const n=x(e);return n&&n.host?P(n.host,t):void 0}function x(e){return e.parentNode?x(e.parentNode):e}function M(e){const t=[];if(!e)return;let i;return i=D(e)?e.shadowRoot.querySelectorAll("*"):e.querySelectorAll("*"),L(Array.from(i),t),t}function L(e,t=[]){for(let i=0;i<e.length;i++){const n=e[i];F(n)&&t.push(n),D(n)&&L(Array.from(n.shadowRoot.querySelectorAll("*")),t)}}function D(e){return!!e.shadowRoot}function F(e){return e.hasAttribute&&e.hasAttribute("data-t")}function R(e){try{new URL(e)}catch(e){return!1}return!0}function N(e,t){const i=new CustomEvent(e,{detail:{element:t}});dispatchEvent(i)}function j(){let e=!1;if(y)try{const t=c;if(t&&parseInt(t.split(".")[0])>=11&&(e=!0),!e&&window&&window.external&&window.external.getHostEnvironmentValue("os-build")){const t=JSON.parse(window.external.getHostEnvironmentValue("os-build"))["os-build"].split(".");(t[0]>10||10===t[0]&&t[1]>0||t[2]>=22e3)&&(e=!0)}}catch(e){}return o=!0===e||null,o}function B(){let e=!1;const t="os-sku";if(y)try{if(window&&window.external&&window.external.getHostEnvironmentValue(t)){const i=JSON.parse(window.external.getHostEnvironmentValue(t));e=i&&"192"===i[t]}}catch(e){}return s=!0===e||null,s}function $(e){if(!r&&""!==r&&y)try{if(!e||0===e.length)return;const t=document.cookie;if(t){let i="";e.forEach((e=>{const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t),r=n&&n.length>1?n[1]:"";""!==r&&(i+=e+"="+r+";")})),r=i}}catch(e){}return r}},24410:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var n=i(38156);function r(e,t){const i=function(e){switch(e){case n.uH.AppStore:return 17;case n.uH.StructuredData:return 16;case n.uH.CmsPromotions:return 19;case n.uH.MicrosoftWebStore:return 20;case n.uH.XboxStore:return 21;case n.uH.OfficeStore:return 22;case n.uH.PartnerLinks:return 24;case n.uH.SponsoredContent:return 25;default:return 0}}(e)||function(e){switch(e){case n.wu.Navigate:return 14;case n.wu.Follow:return 26;case n.wu.Unfollow:return 27;case n.wu.More:return 28;case n.wu.Close:return 36;case n.wu.Share:return 37;case n.wu.Like:return 38;case n.wu.Dislike:return 39;case n.wu.Unlike:return 40;case n.wu.Undislike:return 41;case n.wu.Mute:return 42;case n.wu.Unmute:return 43;case n.wu.Cancel:return 44;case n.wu.Manage:return 45;default:return 0}}(t);if(0!==i)return i;if(e===n.uH.App){if(t===n.wu.Install)return 23;if(t===n.wu.Launch)return 18}return 0}},32758:function(e,t,i){"use strict";i.d(t,{D:function(){return p}});var n=i(53076),r=i(65135),o=i(66213),s=i(62661),a=i(37574),c=i(63439),d=i(93450);const l="tp";var u=i(33379),g=i(67893);class p extends c.e{constructor(e,t,i,o,c,l,h){super(e,t,i,o,c,l,h);const f=(0,s.l)(),m=f.getSelectedPivot();if(m&&m.telemetryPivotCategory){let e;e.page.pivot=m.telemetryPivotCategory,r.M.updatePageMetadata(e)}if((0,u.N)()){const e=d._.getInstance().rootReducer.connector(n.z.SharedState);e&&e.getCurrentState().useHistory?(0,g.lY)().addSwitchListener((e=>{window.requestAnimationFrame((()=>p.onPivotSwitch(e)))}),a.I.Telemetry):f.addSwitchListener(p.onPivotSwitch,a.I.Telemetry)}}static onPivotSwitch(e){let t;const i=e.newSelection;if(i&&(r.M.addOrUpdateCustomProperty(l,i.display),t={feed:{id:i.pivotId,name:i.display,type:"xfeed"===i.telemetryPageName?"category filter":void 0},page:{content:{topic:i.display},pivot:""}},i.telemetryPivotCategory&&(t.page.pivot=i.telemetryPivotCategory),r.M.updatePageMetadata(t)),e.oldSelection||p.isPivotManagerSwitched){if(p.isPivotManagerSwitched=!1,i.telemetryPageName)t.page.name=i.telemetryPageName;else if(i.pivotId)switch(i.pivotId){case"productivityHub":t.page.name="entnewshp";break;case"myfeed":t.page.name="default"}return"edgeChromium"===o.jG.AppType&&delete r.M.getPageMetadata().joinIdProps.IDXId,r.M.updateRequestId(),r.M.updatePageMetadata(t),void r.M.sendPageView(null,!0)}}}p.isPivotManagerSwitched=!1},72467:function(e,t,i){"use strict";i.r(t),i.d(t,{TelemetryDataConnector:function(){return n.D},TelemetryDataReducer:function(){return r},ToolingInfo:function(){return o}});var n=i(32758);class r{reduce(e,t){return{}}}const o={experienceConfigSchema:{}}},30490:function(e,t,i){"use strict";i.d(t,{T:function(){return T}});var n=i(33940),r=i(7009),o=i(63439),s=i(82423),a=i(49042),c=i(55027),d=i(53899),l=i(35385),u=i(54804),g=i(66213),p=i(44979),h=i(38156),f=i(65135),m=i(2312),v=i(32717),b=i(53076),y=i(14989),C=i(33768),S=i(16614),w=i(9344);class T extends o.e{constructor(e,t,i,n,o,s,a){super(e,t,i,n,o,s,a),this.fireTelemetryBeacon=!0,this.isMSASignedin=!1,this.edgeChromiumPgltCookieName="pglt",this.cookieExpireInDays=182;const c=new URLSearchParams(window.location.search);this.firstLaunchParam=c.get("firstlaunch"),this.setupLayoutTelemetry(),this.getPrimaryAccountInfoAsync().then((e=>{this.isMSASignedin=e.accountType===r.l7.MSA}))}static getPageConfiguration(e,t){let i=h.hP.SearchBox;switch(e.selectedFeedDisplaySetting){case"always":i|=h.hP.ContentFeed;break;case"headingsonly":i|=h.hP.HeadingsOnly;break;case"onscroll":i|=h.hP.ContentBelowTheFold;break;case"peek":i|=h.hP.Peek;break;default:i|=h.hP.Empty}return e.imageOfTheDayEnabled&&(i|=h.hP.BingImage),e.greetingEnabled&&t&&(i|=h.hP.GreetingEnabled),e.quickLinksEnabled&&!T.isQuickLinksCollapsed(e)&&(i|=h.hP.TopSites),e.currentLayout===d.nP.custom&&(i|=h.hP.CustomModeOption),i}getLayoutStateAsync(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield(0,s.oU)(b.z.ChromiumPageSettings);return yield e.getLayoutStateAsync()}))}getPrimaryAccountInfoAsync(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=yield(0,s.oU)(b.z.ChromiumPageSettings);return yield e.getPrimaryAccountInfoAsync()}))}pageSettingTelemetry(e){if("visible"===document.visibilityState){const t=T.getPageConfiguration(e,this.isMSASignedin);f.M.updatePageConfiguration(t),this.setPgltCookie(String(t)),this.stampTmpl(e)}}initializeTelemetry(e){const t=f.M.getPageMetadata();if(t&&t.contract&&t.contract.page){const t=T.getPageConfiguration(e,this.isMSASignedin);f.M.updatePageConfiguration(t),this.setPgltCookie(String(t)),this.stampTmpl(e)}const i=document.createEvent("Event");i.initEvent("trackvaluesupdated",!0,!0),document.dispatchEvent(i)}setupLayoutTelemetry(){this.getLayoutStateAsync().then((e=>{this.currentLayoutState=e,this.initializeTelemetry(e),this.quickLinksCollapsedCurrentState=T.isQuickLinksCollapsed(this.currentLayoutState),a.B.toggleCollapsibleControl.registerObserver((e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0]&&1==t[0],n=t[1]&&1==t[1];if(this.quickLinksCollapsedCurrentState!=i&&!n){this.quickLinksCollapsedCurrentState=i;const e=T.getPageConfiguration(this.currentLayoutState,this.isMSASignedin);f.M.updatePageConfiguration(e),delete f.M.getPageMetadata().joinIdProps.IDXId,f.M.sendPageView(null,!1)}}))})),l.J.updateLayout.registerObserver((e=>{const t=e&&e.params;!t||t.length<1||this.pageSettingTelemetry(t[0])})),c.I.layoutAnimationComplete.registerObserver((()=>{this.getLayoutStateAsync().then((e=>{if("1"===this.firstLaunchParam){if(!this.fireTelemetryBeacon)return;this.fireTelemetryBeacon=!1}this.currentLayoutState.backgroundImageTypePolicy===e.backgroundImageTypePolicy&&this.currentLayoutState.currentBackgroundImageType===e.currentBackgroundImageType&&this.currentLayoutState.currentLayout===e.currentLayout&&(0,S.Z)(this.currentLayoutState.customBackgroundImageInfo,e.customBackgroundImageInfo)&&this.currentLayoutState.greetingEnabled===e.greetingEnabled&&this.currentLayoutState.imageOfTheDayEnabled===e.imageOfTheDayEnabled&&this.currentLayoutState.market===e.market&&this.currentLayoutState.quickLinksEnabled===e.quickLinksEnabled&&this.currentLayoutState.selectedFeedDisplaySetting===e.selectedFeedDisplaySetting||(this.currentLayoutState=e,(0,m.TR)()||(delete f.M.getPageMetadata().joinIdProps.IDXId,(0,v.eC)().then((()=>{f.M.sendPageView(null,!1)}))))}))}))}static isQuickLinksCollapsed(e){return(0,C.NU)(e)}setPgltCookie(e){let t=this.edgeChromiumPgltCookieName;const{apptype:i,pagetype:n}=u.Al.ClientSettings?u.Al.ClientSettings:{apptype:void 0,pagetype:void 0};i&&n&&(t+="-"+u.Al.ClientSettings.apptype+"-"+u.Al.ClientSettings.pagetype),(0,w.sq)(t,e,this.cookieExpireInDays,g.jG.HostPage.topDomain)}stampTmpl(e){if(!y.SX)return;const t=(0,p.Nd)(this.requestContext.data.innerWidth,"innerWidth"),i=(0,p.Nd)(this.requestContext.data.outerWidth,"outerWidth");if(!t||!i)return;let n=0;const r=!(0,p.Nd)(this.requestContext.data.screenTop,"screenTop")&&!(0,p.Nd)(this.requestContext.data.screenY,"screenY")?0:14;e.verticalTabsOpened&&(n=e.verticalTabsCollapsed?48:256);const o=Math.round(1e4*(i-r-n)/innerWidth)/1e4;if(!o)return;const s=Math.round((i-r)/o);if(s){if(f.M.addOrUpdateTmplProperty("edge.zoom",o+""),f.M.addOrUpdateTmplProperty("edge_ntp.actualWidth",t+""),f.M.addOrUpdateTmplProperty("edge_ntp.expectedWidth",s+""),e.verticalTabsOpened){if(f.M.addOrUpdateTmplProperty("vertical_tabs.opened","1"),f.M.addOrUpdateTmplProperty("vertical_tabs.collapsed",e.verticalTabsCollapsed?"1":"0"),s<=t)return;let i=1,n=1;for(let e=y.SX.length-1;e>1;e--){const r=y.SX[e].minViewportWidthPx;if(!r||1!=i&&1!=n)break;1==i&&s>r&&(i=e),1==n&&t>r&&(n=e)}i>n&&(f.M.addOrUpdateTmplProperty("vertical_tabs.eligiblecol",i+1+""),f.M.addOrUpdateTmplProperty("vertical_tabs.showncol",n+1+""))}this.stampHardware()}}stampHardware(){if(window&&window.navigator){const e=window.navigator;e.deviceMemory&&f.M.addOrUpdateTmplProperty("edge.mem",e.deviceMemory+""),e.hardwareConcurrency&&f.M.addOrUpdateTmplProperty("edge.concurrency",e.hardwareConcurrency+""),e.connection&&e.connection.effectiveType&&f.M.addOrUpdateTmplProperty("edge.connection",e.connection.effectiveType+"")}}}},24827:function(e,t,i){"use strict";i.r(t),i.d(t,{TelemetryDataEdgeChromiumConnector:function(){return n.T},TelemetryDataEdgeChromiumReducer:function(){return r},ToolingInfo:function(){return o}});var n=i(30490);class r{reduce(e,t){return{}}}const o={experienceConfigSchema:{}}},62947:function(e,t,i){"use strict";i.d(t,{I:function(){return r}});var n=i(55067);class r{}r.setMaxTiles=new n.C("setMaxTilesSignature")},20147:function(e,t,i){"use strict";i.d(t,{L:function(){return s}});var n=i(63439),r=i(49042),o=i(62947);class s extends n.e{updateCollapsedStatus(e,t=!1){r.B.toggleCollapsibleControl.getActionSender(this).send(e,t)}updateMaxTiles(e){o.I.setMaxTiles.getActionSender(this).send(e)}}},31172:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var n=i(30856),r=i(49042),o=i(62947);class s{reduce(e,t){if(!e)return{isTopSitesCollapsed:!0,maxTiles:8};if(!t)return e;let i;return n.G.handleAction(t,r.B.toggleCollapsibleControl,(t=>{i=Object.assign(Object.assign({},e),{isTopSitesCollapsed:t})})),n.G.handleAction(t,o.I.setMaxTiles,(t=>{i=Object.assign(Object.assign({},e),{maxTiles:t})})),i||e}}},88257:function(e,t,i){"use strict";i.d(t,{G:function(){return r}});var n=i(55067);class r{}r.followedTopics=new n.C("FollowedTopics"),r.followedTopicsFailed=new n.C("FollowedTopicsFailedSignature"),r.recommendedTopics=new n.C("RecommendedTopics"),r.recommendedTopicsFailed=new n.C("RecommendedTopicsFailed"),r.hiddenTopics=new n.C("HiddenTopics"),r.hiddenTopicsFailed=new n.C("HiddenTopicsFailed"),r.topic=new n.C("Topic"),r.topicFailed=new n.C("TopicsFailed"),r.topics=new n.C("Topics"),r.topicsFailed=new n.C("TopicsFailed"),r.topicGroup=new n.C("TopicGroup"),r.topicGroupFailed=new n.C("TopicGroupFailed"),r.updateTopicFollowedState=new n.C("UpdateTopicFollowedState"),r.updateTopicFollowedStateFailed=new n.C("UpdateTopicFollowedStateFailed"),r.updateTopicHiddenState=new n.C("UpdateTopicHiddenState"),r.updateTopicHiddenStateFailed=new n.C("UpdateTopicHiddenStateFailed")},72303:function(e,t,i){"use strict";function n(e){let t;if(e instanceof URL)t=e.searchParams;else if(e instanceof URLSearchParams)t=e;else if("string"==typeof e)try{t=new URL(e).searchParams}catch(e){t=void 0}return r(t,"ocid")}function r(e,t,i){if(e&&t){const n={value:e.get(t)||void 0};if(!n.value&&i&&i.length>0)for(let t=0;t<i.length&&(n.value=e.get(i[t])||void 0,!n.value);++t);if(!n.value){const i=t.toLowerCase();e.forEach((function(e,t){!n.value&&t.toLowerCase()===i&&e&&(n.value=e)}))}return n.value}}function o(e){const t=new RegExp("^.*/([Aa][Rr]||[Ss]{2}||[Vv][Ii]||[Vv][Pp])-(?<contentId>[a-zA-Z0-9]{6,8})(([?].*)||#.*)?$");return null!==e.match(t)}i.d(t,{ku:function(){return n},Ol:function(){return r},jI:function(){return o},Pv:function(){return a}});const s=new Set(["msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);function a(e){return!!function(e){if("string"==typeof e)try{e=new URL(e)}catch(t){e=null}const t={};if(e){let i="";e.searchParams.forEach((function(e,t){!i&&"ocid"===t.toLowerCase()&&e&&(i=e.toLowerCase())})),i&&(("win"===i.substr(0,3)||s.has(i))&&(t.isWindows=!0),"appwinwea"===i&&(t.isWinApp=!0))}return t}(e).isWindows}},23344:function(e,t,i){"use strict";i.d(t,{Fc:function(){return c},Fl:function(){return a},Nu:function(){return d}});var n=i(49278);const r={},o={};class s{constructor(e,t){this.target=e,this.options=t,this.stickyClassApplied=!1,this.refreshSticky=()=>{const e=r[this.options.breakpointName];if(e<0)return;const t=scrollY>e;if(t!==this.stickyClassApplied){const e=this.options.stickyClassName;t?this.target.classList.add(e):this.target.classList.remove(e),this.stickyClassApplied=t}}}bind(){this.refreshSticky();const{breakpointName:e}=this.options;let t=o[e];t||(t=new Set,o[e]=t),t.add(this),addEventListener("scroll",this.refreshSticky)}unbind(){o[this.options.breakpointName].delete(this),removeEventListener("scroll",this.refreshSticky)}}function a(e){return new n.ON("sticky",s,e)}function c(e,t){r[e]=t;const i=o[e];if(i)for(const e of i)e.refreshSticky()}function d(e){return r[e]}},68848:function(e,t,i){"use strict";function n(e,t=!1){if(e){if(t&&e.display)return e.display;if(e.content)return e.content}return e}function r(e){return e.language&&e.market&&(e.language+"-"+(e.script?e.script+"-":"")+e.market).toLowerCase()||""}i.d(t,{H:function(){return n},p:function(){return r}})},75970:function(e,t,i){"use strict";function n(e,t){var i;const{audienceMode:n="",locale:r={},pageType:o=""}=t||{},s=null!==(i=r.content)&&void 0!==i?i:r,{language:a,market:c}=s;return`wpo_data_ ${n}_${a}_${c}_${o}_${e}`}function r(e){return e&&e.treatments&&e.treatments.length?e.treatments.filter((e=>e&&e.id&&!e.properties)).map((e=>e.id)):null}i.d(t,{U:function(){return r},_:function(){return n}})},77331:function(e,t,i){"use strict";var n;i.d(t,{_h:function(){return n}}),function(e){e.topSites="topsites",e.layoutPromotion="layoutPromotion",e.topSitesPromotion="topsitesPromotion",e.topsitesCollapse="topsitesCollapse"}(n||(n={}))},1033:function(e,t,i){"use strict";i.d(t,{S:function(){return p}});var n=i(33940),r=i(22704),o=i(26415),s=i(970),a=i(66213),c=i(65337),d=i(25568),l=i(75970),u=i(65135),g=i(4734);const p=new class{constructor(){this.wpoContextWindowObjectPropertyName="_wpoContext",this.timeOutInMilliSeconds=100,this.oneServiceTreatmentFlight="prg-wpo-ostreat"}initialize(e,t,i,o=!0){return(0,n.mG)(this,void 0,void 0,(function*(){this.optimizationDataReceived||(this.isNthCall=!o,o?(0,g.F_)().then((()=>{const n=Math.round(performance.now());this.getWpoServiceDataAndStore(t,e,i),(0,r.Ou)().WpoInit=Math.round(performance.now()-n)})):yield this.getWpoServiceDataAndStore(t,e,i))}))}getWpoTreatmentsUrl(e,t,i){const n=(0,s.L)(),r=`${t.locale.content.language}-${t.locale.content.market}`,o=t.audienceMode,c=t.pageType,l=t.pageExperiments,u=l&&l.join(),g=l&&l.indexOf(this.oneServiceTreatmentFlight)>-1;let p=`${g?"https://api.msn.com/wposervice/treatments":`${location.origin}/optimizer/api/optimize/treatments`}?appType=${e}&market=${r}&audiencemode=${o}&pageType=${c}&fdhead=${u}`;g&&(p+=`&ocid=${d.m8}&apikey=${a.jG.OneServiceApiKey}&User=${a.jG.UserId}&activityId=${i}`);const h=n.get(d.hE.wpoitems);return h&&(p+=`&wpoitems=${h}`),p}getWpoServiceDataAndStore(e,t,i){return(0,n.mG)(this,void 0,void 0,(function*(){let n,r;try{const s=(null==t?void 0:t.pageExperiments)||[];if(s.length>0){const e=null===a.jG||void 0===a.jG?void 0:a.jG.UserId;if(s.includes(this.oneServiceTreatmentFlight)&&(null==e||null==e)){const e="Missing userId for wpo treatments",t=`locale=${a.jG.CurrentMarket}`;return void this.logAppError(o.Ukr,e,t)}}const c=window[this.wpoContextWindowObjectPropertyName];let l,u;if(c)l=c.treatmentsPromise,u=c.treatmentsPromiseAbortController;else{n=this.getWpoTreatmentsUrl(e,t,i);const r=n.includes(d.hM);l=fetch(n,{method:"GET",credentials:"include",headers:r?{}:{activityId:i}})}u&&(r=setTimeout((()=>{u.abort()}),this.timeOutInMilliSeconds));const g=yield l;if(clearTimeout(r),!g.ok){const e=`WPO treatments call received non 20* response: ${g.statusText}`,t=`activityId:${i},isNthCall:${this.isNthCall},Url: ${n}.Status code received: ${g.statusText}`;return void this.logAppError(o.ra1,e,t)}this.optimizationDataReceived=!0;let p=null;if(200===g.status){p=yield g.json();const e=g.headers.get("ddd-tmpl");e&&(p=p||{},p.dddTmplHeaderValue=e)}this.addWpoDataToLocalStorage(p,e,t)}catch(e){const t=`Failed to fetch wpo treatments.Error:${e}`,r=`isNthCall:${this.isNthCall},activityId:${i},Url:${n}`;this.logAppError(o.CPg,t,r)}finally{window[this.wpoContextWindowObjectPropertyName]=null,clearTimeout(r)}}))}addWpoDataToLocalStorage(e,t,i){const n=(0,l._)(t,i);if(e&&e.treatments)try{if((0,c.$o)().setObject(n,e),this.isNthCall){const e="_appTimings";(window[e]||(window[e]={}))["Wpo.TreatmentsPopulation-end"]=performance.now()}const t=(0,l.U)(e);if(t&&t.length){const e="Wpo treatment is missing properties.",i=`${t}`;this.logAppError(o.uSS,e,i)}}catch(t){const i=`Failed to store wpo response to LS.Error:${t}`,r=`WpoServiceResponse: ${JSON.stringify(e)}. key: ${n}`;this.logAppError(o.pOl,i,r)}else(0,c.$o)().removeItem(n)}logAppError(e,t,i=""){u.M.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t,pb:Object.assign(Object.assign({},e.pb),{customMessage:i})}))}}}}]);